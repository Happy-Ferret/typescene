!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1);t.Async=r,t.observable=r.observable,t.observe=r.observe;var i=n(2);t.UI=i;var o=n(3);t.App=o;var a={Async:r,UI:i,App:o,observable:r.observable,observe:r.observe};t.__esModule=!0,t.default=a,"object"==typeof window&&(window.Async=r,window.UI=i,window.App=o,window.typescene=a)},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(1));var i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(2)),r(n(3)),r(n(4)),r(n(5)),r(n(7)),r(n(6)),r(n(8))},function(e,t,n){"use strict";function r(e){e||(a=!1),f=!0;for(var t=Math.max(100,c.length>>2),n=0;n<c.length&&n<t;n++)try{c[n].apply(void 0,u[n])}catch(e){l.UnhandledException(e)}f=!1,n<c.length?(c.splice(0,n),u.splice(0,n),a||(a=!0,s?window.postMessage("yield","*"):d=setTimeout(r,0))):(c.length=0,u.length=0,s||(d>=0&&clearTimeout(d),d=-1))}function i(e,t){c.push(e),u.push(t),a||(a=!0,s?window.postMessage("yield","*"):d=setTimeout(r,0))}function o(){return!f&&(r(!0),c.length>0)}var a,s,l=n(3),c=[],u=[],f=!1,d=-1;t.defer=i,t.yieldAll=o,"object"==typeof window&&(window.addEventListener("message",function(){s=!0,r()}),setTimeout(function(){return window.postMessage("yield","*")},1))},function(e,t,n){"use strict";function r(e,t,n){void 0===e&&(e=a);var r=function(t){this instanceof r?e.apply(this,arguments):r.emit.apply(r,arguments)};if(e===a)r.connect=a.connect,r.connectOnce=a.connectOnce,r.disconnectAll=a.disconnectAll,r.isConnected=a.isConnected,r.emit=a.emit,r.emitSync=a.emitSync,r.prototype=Object.create(a.prototype);else{for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.prototype=Object.create(e.prototype)}return r.prototype.constructor=r,r._nHandlers=0,r._onUp=t,r._onDown=n,r}var i=n(2),o=n(4),a=function(){function e(e){this._emitted=!1,this._data=e}return e.connect=function(t){var n={disconnected:!1};return n.disconnect=e._connect.call(this,t,n),n},e.connectOnce=function(t){var n=!1,r=e._connect.call(this,function(e){n||(n=!0,r(),t(e))})},e._connect=function(e,t){var n=this;switch(this._nHandlers++){case 0:this._handler1=e,this._onUp&&this._onUp();break;case 1:this._handler2=e;break;default:(this._handlers||(this._handlers=[])).push(e)}return function(){switch(n._nHandlers){case 0:return;case 1:n._handler1===e&&(n._handler1=void 0,n._nHandlers--);break;case 2:n._handler1===e?(n._handler1=n._handler2,n._handler2=void 0,n._nHandlers--):n._handler2===e&&(n._handler2=void 0,n._nHandlers--);break;default:if(n._handler1===e)n._handler1=n._handler2,n._handler2=n._handlers.shift(),n._nHandlers--;else if(n._handler2===e)n._handler2=n._handlers.shift(),n._nHandlers--;else for(var r=0;r<n._nHandlers;r++)if(n._handlers[r]===e){n._handlers.splice(r,1),n._nHandlers--;break}}!n._nHandlers&&n._onDown&&n._onDown(),t&&(t.disconnected=!0)}},e.disconnectAll=function(){return this._nHandlers&&(this._handler1=void 0,this._handler2=void 0,delete this._handlers,this._nHandlers=0,this._onDown&&this._onDown()),this},e.isConnected=function(){return this._nHandlers>0},e.emitSync=function(e){if(this._nHandlers){this._handler1&&this._handler1.call(void 0,e),this._handler2&&this._handler2.call(void 0,e);var t=this._handlers;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&t[n].call(void 0,e)}},e.emit=function(e){if(this._nHandlers){this._handler1&&i.defer(this._handler1,arguments),this._handler2&&i.defer(this._handler2,arguments);var t=this._handlers;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&i.defer(t[n],arguments)}},e.prototype.emit=function(e){if(this._emitted)return this;this._emitted=!0;var t=this.constructor._nHandlers;if(!t)return this;var n=this.constructor._handler1,r=this.constructor._handler2,a=this.constructor._handlers,s=[this._data];if(e)i.defer(n,s),t>1&&i.defer(r,s),t>2&&a.forEach(function(e){return e&&i.defer(e,s)});else{var l=this._results=[n?o.Promise.defer(n,s):o.Promise.resolve(void 0)];t>1&&l.push(r?o.Promise.defer(r,s):o.Promise.resolve(void 0)),t>2&&a.forEach(function(e){return l.push(e?o.Promise.defer(e,s):o.Promise.resolve(void 0))})}return this._onEmit&&this._onEmit(!0),this},e.prototype.then=function(e,t){var n=this;return this._promise||(this._emitted?this._promise=o.Promise.all(this.results):this._promise=new o.Promise(function(e){n._onEmit=e}).then(function(){return o.Promise.all(n.results)})),this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(void 0,e)},Object.defineProperty(e.prototype,"results",{get:function(){return this._results||[]},enumerable:!0,configurable:!0}),e}();a._nHandlers=0,t.Signal=a,t.defineSignal=r,t.UnhandledException=r(),t.UnhandledException.connect(function(e){try{e&&e.message&&console&&(console.warn||console.log)("Unhandled exception in asynchronous code - ",e)}catch(e){}})},function(e,t,n){"use strict";function r(e,t){return a.delay(function(){return t},e)}var i=n(2),o=n(3),a=function(){function e(e){this._Resolve=o.defineSignal(),this._Reject=o.defineSignal(),"function"==typeof e&&this._resolveWith(e)}return e.delay=function(t,n,r){var o=new e;return setTimeout(function(){o._resolveWith(function(e){return e(t.apply(void 0,r))}),i.yieldAll()},n),o},e.sleep=function(t,n){return e.delay(function(){return n},t)},e.defer=function(t,n){var r=new e;return i.defer(function(){r._resolveWith(function(e){return e(t.apply(void 0,n))})}),r},e.fn=function(t){return new e(function(e,n){t(function(t,r){t?n(t):e(r)})})},e.resolve=function(t){return(new e)._resolve(t)},e.reject=function(t){return(new e)._reject(t)},e.all=function(t){function n(){!r._isRejected&&r._resolve(i)}var r=new e,i=[],o=t.length;return t.forEach(function(e,t){e.then(function(e){i[t]=e,--o||n()},function(e){r._reject(e)})}),!o&&n(),r},e.race=function(t){var n=new e;return t.forEach(function(e){e.then(function(e){return n._resolve(e)},function(e){return n._reject(e)})}),n},e.prototype.then=function(t,n){var r=this,o=new e;return this._isResolved?"function"==typeof t?i.defer(function(){o._resolveWith(function(e){return e(t(r._value))})}):o._resolve(this._value):this._isRejected?("function"==typeof n?i.defer(function(){o._resolveWith(function(e){return e(n(r._error))})}):o._reject(this._error),this._hndRejection=!0):("function"==typeof t?this._Resolve.connect(function(e){return o._resolveWith(function(n){return n(t(e))})}):this._Resolve.connect(function(e){return o._resolve(e)}),"function"==typeof n?this._Reject.connect(function(e){return o._resolveWith(function(t){return t(n(e))})}):this._Reject.connect(function(e){return o._reject(e)})),o},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype._getStatus=function(){return this._isResolved?{value:this._value}:this._isRejected?{rejected:!0,error:this._error}:null},e.prototype._resolve=function(e,t){var n=this;if(!(this._isResolved||this._isRejected||this._resolving&&t!==this._resolving)){if(e===this)throw new TypeError("Recursive promise found");try{var r=e&&e.then;"function"!=typeof r||"object"!=typeof e&&"function"!=typeof e?(this._isResolved=!0,this._resolving=null,this._value=e,this._Resolve.emit(e)):(t=this._resolving={},r.call(e,function(e){n._resolve(e,t)},function(e){n._reject(e,t)}))}catch(e){this._reject(e,t)}}return this},e.prototype._resolveWith=function(e){var t=this;try{e(function(e){t._resolve(e)},function(e){t._reject(e)})}catch(e){this._reject(e)}return this},e.prototype._reject=function(e,t){var n=this;return this._isResolved||this._isRejected||this._resolving&&t!==this._resolving||(this._isRejected=!0,this._error=e,this._Reject.isConnected()?this._Reject.emit(e):i.defer(function(){n._hndRejection||o.UnhandledException.emit(e)})),this},e}();t.Promise=a,t.sleep=r},function(e,t,n){"use strict";function r(){if(f||d)throw new Error("Observable getter must be a pure function, cannot create or set other observables")}function i(e){return"function"==typeof e?new p(e):e&&"object"==typeof e&&"function"==typeof e.then?p.fromPromise(e):e instanceof Array?u.ObservableArray.fromArray(e):e instanceof Object?new c.ObservableObject(e):function(){throw new TypeError}()}function o(e){var t=f,n=d;try{return f=null,d=null,e.apply(void 0,Array.prototype.slice.call(arguments,1))}finally{f=t,d=n}}var a=n(2),s=n(4),l=n(3),c=n(6),u=n(7),f=null,d=null;t.assertUnobserved=r;var p=function(){function e(t,n){this._uid=String(++e.UID),this._dirtyIdx=0,r(),t&&(this._getter=t,this._dirtyIdx++),this._setter=n}return e.fromValue=function(t){var n=new e;return n.value=t,n},e.fromPromise=function(t){var n=new e;if(t instanceof s.Promise){var r=t._getStatus();if(r)return r.rejected?(n.value="error",n._error=r.error,n._ro=!0,n):(n.value=r.value,n._ro=!0,n)}return t.then(function(e){n.value=e,n._ro=!0},function(e){n.value="error",n._error=e,n._ro=!0}),n},e.prototype.getter=function(e){return r(),this._getter=e,Object.prototype.hasOwnProperty.call(this,"_val")&&(e&&delete this._val,this._asyncEval()),this},e.prototype.setter=function(e){return r(),this._setter=e,this},Object.defineProperty(e.prototype,"value",{get:function(){if(this._error)throw this._error;if(this._getting)return this._val;if(!this._setting&&!this._ro&&(f?f._addConnection(this):d&&d._addCheck(this),this._needsEval())){this._oldConnections=this._depConnections;var t=this.hasOwnProperty("_val"),n=this._val,r=f,i=d;this._watched?(f=this,this._depConnections={}):(d=this,this._depChecks=[]),this._getting=!0,this._direct=!1;try{var o=this._getter.call(void 0);void 0===o&&this._direct||(this._val=o)}finally{this._getting=!1,f=r,d=i}this._valIdx=this._dirtyIdx;var a=this._oldConnections;if(delete this._oldConnections,this._depConnections)for(var s in a)this._depConnections[s]||a[s].disconnect();t&&this._val!==n&&(this._auxSignalers&&this._auxSignalers.forEach(function(e){return e()}),this._Signal&&this._Signal.emitSync(this._val))}for(var l=this._val;l instanceof e;)l=l.value;return l},set:function(t){if(this._getting||this._setting||r(),this._setter&&!this._setting||(t instanceof Array&&t.constructor===Array&&(t=u.ObservableArray.fromArray(t)),t instanceof Object&&t.constructor===Object&&(t=new c.ObservableObject(t))),this._getting)this._val=t,this._direct=!0,this._valIdx=++this._dirtyIdx;else{if(this._getter&&!this._setter||this._ro)throw new Error("Cannot set value");if((!this._setter||this._setting)&&this._val instanceof e&&this._val._setter)this._val.value=t;else if(this._setter&&!this._setting){this._setting=!0;try{this._setter.call(void 0,t)}finally{this._setting=!1}}else t!==this._val&&(this._val=t,this._auxSignalers&&this._auxSignalers.forEach(function(e){return e()}),this._Signal&&this._Signal.emitSync(t),this._valIdx=++this._dirtyIdx)}},enumerable:!0,configurable:!0}),e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return String(this.value)},e.prototype.getLastValue=function(){for(var t=this._val;t instanceof e;)t=t.getLastValue();return t},e.prototype.map=function(t){var n=this,r={},i=new e(function(){var e=n.value;return e===r?i.value:o(t,r=e)});return i},e.prototype.subscribe=function(t){var n=this;(this._Signal||this._sig()).connect(t);var r,i=this._val,s=!1;return(this._getter||this._val instanceof e)&&(this._auxSignalers||(this._auxSignalers=[]),this._auxSignalers.push(r=function(){s=!0}),o(function(){i=n.value}),1===this._auxSignalers.length?delete this._auxSignalers:this._auxSignalers=this._auxSignalers.filter(function(e){return e!==r})),s||t&&a.defer(t,[i]),this},e.prototype.next=function(){var t=this,n=new s.Promise(function(e){(t._Signal||t._sig()).connectOnce(function(t){e(t)})});return(this._getter||this._val instanceof e)&&o(function(){t.value}),n},Object.defineProperty(e.prototype,"subscribed",{get:function(){return this._watched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){return!this._getter||!!this._setter},enumerable:!0,configurable:!0}),e.prototype.emitOnChange=function(e,t){this._auxSignalers||(this._auxSignalers=[]),this._auxSignalers.push(function(){e(t)})},e.prototype.clear=function(){this.getter(null).setter(null)},e.prototype._needsEval=function(){return!!this._getter&&((this._valIdx||0)!==this._dirtyIdx||!this._watched&&(!this._depChecks||this._depChecks.some(function(e){return e({})})))},e.prototype._asyncEval=function(){var e=this;(this._valIdx||0)!==this._dirtyIdx||this._getting||(this._dirtyIdx++,a.defer(function(){e._watched&&e._valIdx!==e._dirtyIdx&&e.value}))},e.prototype._addConnection=function(e){if(e!==this){var t=this._oldConnections&&this._oldConnections[e._uid]?this._oldConnections[e._uid]:(e._Signal||e._sig()).connect(this._asyncEval.bind(this));(this._depConnections||(this._depConnections={}))[e._uid]=t,t._observable_dep=e}},e.prototype._addCheck=function(e){var t=this;if(e!==this){var n=e._dirtyIdx;(this._depChecks||(this._depChecks=[])).push(function(r){return!!r[t._uid]||(r[t._uid]=!0,e._dirtyIdx!==n||!e._depChecks||e._depChecks.some(function(e){return e(r)}))})}},e.prototype._removeDependencies=function(){delete this._depChecks;var e=this._depConnections;delete this._depConnections;for(var t in e)e[t].disconnect()},e.prototype._sig=function(){var e=this;return this._Signal=l.defineSignal(void 0,function(){e._watched=!0,!e._depChecks||e._depChecks.length?(e._removeDependencies(),e._dirtyIdx++):e._removeDependencies()},function(){e._watched=!1,e._removeDependencies()})},e}();p.UID=0,t.ObservableValue=p,t.observe=i,t.unobserved=o},function(e,t,n){"use strict";function r(e){e.PropertyChange||Object.defineProperty(e,"PropertyChange",{configurable:!1,writable:!1,enumerable:!1,value:p.defineSignal()})}function i(e,t){var n=Object.getPrototypeOf(e);return n?Object.getOwnPropertyDescriptor(n,String(t))||i(n,t):null}function o(e,t,n,r,i,o,s){var l=a(t);Object.prototype.hasOwnProperty.call(e,l)?v.deleteObservableProperty(e,t):Object.defineProperty(e,l,{configurable:!0,enumerable:!1,value:!1});var c=function(){if(this[l])return this[l];var e;return n instanceof h.ObservableValue?e=n:h.unobserved(function(){e=h.ObservableValue.fromValue(void 0===n?void 0:s?s(n):n),r&&e.getter(r),i&&e.setter(i)}),Object.defineProperty(this,l,{value:e,writable:!1,enumerable:!1,configurable:!0}),"function"==typeof this.PropertyChange&&e.emitOnChange(this.PropertyChange,t),e}.bind(e),u=o?function(){return o(c().value)}:function(){return c().value},f=s?function(e){c().value=s(e)}:function(e){c().value=e};Object.defineProperty(e,t,{get:u,set:f,enumerable:!0,configurable:!0})}function a(e){return"*observable:"+e}function s(e,t,n){n||(n={enumerable:!0});var r=n.get,i=n.set,a=r||e[t];return n.set=function(e){r||i?(o(this,t,void 0,r&&r.bind(this),i&&i.bind(this),n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[t]=e):o(this,t,e,void 0,void 0,n.get["*observable-getfilter"],n.get["*observable-setfilter"])},n.get=function(){return o(this,t,r?void 0:a,r&&r.bind(this),i&&i.bind(this),n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[t]},n.get["*observable-getter"]=!0,n}function l(e,t,n){return n=s(e,t,n),n.get["*observable-getfilter"]=function(e){return e||0===e||e===!1?String(e):""},n}function c(e,t,n){return n=s(e,t,n),n.get["*observable-getfilter"]=function(e){return Number(e)},n}function u(e,t,n){return n=s(e,t,n),n.get["*observable-getfilter"]=function(e){if(void 0===e||null===e)throw new TypeError(t+" is "+e);return e},n.get["*observable-setfilter"]=function(e){if(void 0===e||null===e)throw new TypeError(t+" cannot be "+e);return e},n}function f(e,t,n){return n=s(e,t,n),n.get["*observable-getfilter"]=function(e){if(void 0===e||null===e)throw new TypeError(t+" is "+e);return e},n.get["*observable-setfilter"]=function(e){if(!(e instanceof Object))throw new Error(e+" is not an instance of Object");return Object.isSealed(e)?e:Object.seal(e)},n}function d(e,t,n){return n=s(e,t,n),n.get["*observable-getfilter"]=function(e){if(void 0===e||null===e)throw new TypeError(t+" is "+e);return e},n.get["*observable-setfilter"]=function(e){if(!(e instanceof Object))throw new Error(e+" is not an instance of Object");return Object.isFrozen(e)?e:Object.freeze(e)},n}var p=n(3),h=n(5),v=function(){function e(t){if(h.assertUnobserved(),t instanceof Object){if(e.makeObservable(this,t),r(this),Object.isFrozen(t)){for(var n in t)this[n];Object.freeze(this)}else if(Object.isSealed(t)){for(var n in t)this[n];Object.seal(this)}}else r(this)}return e.fromObject=function(t){return new e(t)},e.mixin=function(t){return e.makeObservable(t,t)},e.prototype.hasObservableProperty=function(t){return e.isObservableProperty(this,t)},e}();t.ObservableObject=v,function(e){function t(t,n){if("string"==typeof n||"number"==typeof n){var i=String(n);o(t,i,t[i])}else{var a=n instanceof e;for(var s in n)(a?n.hasObservableProperty(s):Object.prototype.hasOwnProperty.call(n,s))&&o(t,s,n[s]);Object.defineProperty(t,"hasObservableProperty",{configurable:!1,writable:!1,enumerable:!1,value:e.prototype.hasObservableProperty}),r(t)}return t}function n(e,t){var n=a(t),r=e[n];r&&r.subscribed&&r.writable&&(r.value=void 0),delete e[t],delete e[n]}function s(e,t){var n=a(t);if(Object.prototype.hasOwnProperty.call(e,n))return!0;var r=i(e,t);return!!(r&&r.get&&r.get["*observable-getter"])}e.makeObservable=t,e.deleteObservableProperty=n,e.isObservableProperty=s}(v=t.ObservableObject||(t.ObservableObject={})),t.ObservableObject=v,t.observable=s,t.observable_string=l,t.observable_number=c,t.observable_nonNull=u,t.observable_seal=f,t.observable_freeze=d},function(e,t,n){"use strict";function r(e){return a.fromObservableValue(new i.ObservableValue(e))}var i=n(5),o=n(6),a=function(){function e(){var e=this;i.assertUnobserved();var t=i.ObservableValue.fromValue(0);Object.defineProperty(this,"length",{get:function(){return t.value},set:function(n){for(var r=t.getLastValue()||0;r<n;)o.ObservableObject.makeObservable(e,r++);for(var i=n;i<r;i++)o.ObservableObject.deleteObservableProperty(e,i);t.value=n},configurable:!0})}return e.fromArray=function(t){for(var n=new e,r=t.length-1;r>=0;r--)n[r]=t[r];return n.length=t.length,n},e.fromObservableValue=function(t){var n=new e,r=0,a=function(e){return new i.ObservableValue(function(){var n=t.value;return n instanceof Array?n[e]:0===e&&null!==n?n:void 0})};return Object.defineProperty(n,"length",{get:function(){var e=t.value,s=e instanceof Array?e.length:void 0===e||null===e?0:1;return s>r?i.unobserved(function(){for(var e={},t=r;t<s;t++)e[t]=a(t);o.ObservableObject.makeObservable(n,e)}):i.unobserved(function(){for(var e=s;e<r;e++)o.ObservableObject.deleteObservableProperty(n,e)}),r=s},set:function(){throw new Error("Cannot modify length of mapped array")}}),i.unobserved(function(){return n.length}),n},e.prototype.mapAsync=function(t,n){var r=this,a=new e,s=new i.ObservableValue(function(){return r.length}),l=0,c=function(e){var o={},s=new i.ObservableValue(function(){var l=r[e];return l===o?s.value:i.unobserved(function(i){return e>=0&&e<r.length?t.call(n||a,i,e,r):void 0},o=l)});return s};return Object.defineProperty(a,"length",{get:function(){var e=s.value;return e>l?i.unobserved(function(){for(var t={},n=l;n<e;n++)t[n]=c(n);o.ObservableObject.makeObservable(a,t)}):e<l&&i.unobserved(function(){for(var t=e;t<l;t++)o.ObservableObject.deleteObservableProperty(a,t)}),l=e},set:function(){throw new Error("Cannot modify length of mapped array")}}),i.unobserved(function(){return a.length}),a},e.prototype.mapAsyncValues=function(e){var t,n,r,o,a=this;if("function"==typeof Map){var s=new Map;t=s.get.bind(s),n=s.set.bind(s),o=s.forEach.bind(s),r=s.delete.bind(s)}else{var l=[];n=function(e,t){l.push({v:e,o:t})},t=function(e){var t;return l.some(function(n){return n.v===e&&(t=n.o,!0)}),t},r=function(e){l.some(function(t,n){return t.v===e&&!!l.splice(n,1)})},o=function(e){l.slice(0).forEach(function(t){return e(t.o,t.v)})}}var c=[],u=-1,f=function(){u>=0&&clearTimeout(u);var e=u=setTimeout(function(){if(e===u){u=-1;var t=a.length;c.length>t&&(c.length=t),o(function(e,t){c.indexOf(t)<0&&r(t)})}},1)};new i.ObservableValue(function(){return a.length}).subscribe(function(e){c.length>e&&f()});var d={},p={};return this.mapAsync(function(r,i){var o=void 0===r?p:"number"==typeof r&&isNaN(r)?d:r;void 0!==c[i]&&c[i]!==o&&f(),c[i]=o;var a=t(o);if(void 0!==a)return a;var s=e(r);return n(o,s),s})},e.prototype.toJSON=function(){return this.slice(0)},e}();t.ObservableArray=a;var s=a.prototype.mapAsync,l=a.prototype.mapAsyncValues,c=a.prototype.toJSON;a.prototype=new Array,a.prototype.constructor=a,a.prototype.mapAsync=s,a.prototype.mapAsyncValues=l,a.prototype.toJSON=c;var u=a.prototype.push;a.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i.unobserved(function(){return u.apply(e,t)})};var f=a.prototype.unshift;a.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i.unobserved(function(){return f.apply(e,t)})},a.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply(this.slice(0),e.map(function(e){return e instanceof a?e.slice(0):e}))},t.observeArray=r},function(e,t,n){"use strict";function r(e,t,n,r){return new o.Promise(function(i,o){try{var a=new XMLHttpRequest;if(a.open(e,t,!0),r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&a.setRequestHeader(s,r[s]);void 0!==n?(a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(n))):a.send(),a.onreadystatechange=function(){try{4==a.readyState&&(a.status>=200&&a.status<400?i(a.responseText):o(new Error("HTTP "+a.status+(a.responseText?": "+a.responseText:""))))}catch(e){o(e)}}}catch(e){o(e)}})}function i(e,t){return void 0===e&&(e={}),void 0===t&&(t="application/json"),e.Accept||(e.Accept=t),e}var o=n(4),a=function(){function e(){}return e.getText=function(e,t,n){if(t){var i=e.indexOf("?")<0;for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e+=(i?"?":"&")+encodeURIComponent(o)+"="+encodeURIComponent(t[o]),i=!1)}return r("GET",e,void 0,n)},e.get=function(t,n,r){return e.getText(t,n,i(r)).then(function(e){return JSON.parse(e)})},e.post=function(e,t,n){return r("POST",e,t,i(n)).then(function(e){return JSON.parse(e)})},e.put=function(e,t,n){return r("PUT",e,t,i(n)).then(function(e){return JSON.parse(e)})},e.delete=function(e,t,n){return r("DELETE",e,t,i(n)).then(function(e){return JSON.parse(e)})},e.getHtmlContent=function(t,n,r){return e.getText(t,n,i(r,"text/html")).then(function(e){e=String(e||"");var t=e.match(/<body(?:>|\s[^>]+>)/m);if(t){e=e.slice(t.index+t[0].length);var n=e.lastIndexOf("</body>");n>=0&&(e=e.slice(0,n))}var r=document.createElement("div");r.innerHTML=e;for(var i=document.createDocumentFragment();r.firstChild;)i.appendChild(r.firstChild);return i})},e}();t.Http=a}])},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(1));var i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(2)),r(n(6)),r(n(13)),r(n(18)),r(n(15))},function(e,t,n){"use strict";var r=n(3),i=n(4),o=n(1),a=0,s="1rem",l="",c="",u=function(){function e(e,t,n){var i=this;this._UID=a++,r.default.unobserved(function(){i._status=new r.default.ObservableValue,i._isOverridden=new r.default.ObservableValue,i._className=r.default.ObservableValue.fromValue(t||""),i._hidden=r.default.ObservableValue.fromValue(n),i._selected=new r.default.ObservableValue,void 0===t&&void 0===n||(i._status.value=2),e&&i.set(e)})}return e.applyGlobalCSS=function(t,n,i){var o=[];for(var a in t){var s,l=t[a];"string"==typeof l?s=l:(l instanceof e||(l=(new e).set(l)),s=l.getCSSText(),n&&(s=s.split(";").map(function(e){return e?e+" !important":""}).join("; "))),s&&o.push(a+" {"+s+"}")}if(i&&(o.unshift(i+" {"),o.push("}")),o.length){var u=!!c;c+=o.join("\n"),!u&&r.default.defer(function(){if(c){var e=document.createElement("style");e.appendChild(document.createTextNode(c)),document.head.appendChild(e),c=""}})}},e.loadExternalCSS=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.default.Promise.race([r.default.Promise.sleep(1e3),r.default.Promise.all(e.map(function(e){return new r.default.Promise(function(t,n){var r=document.createElement("link");r.addEventListener("load",function(){t(null)}),r.addEventListener("error",function(){n(new Error)}),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",e),document.getElementsByTagName("head").item(0).appendChild(r)})}))])},e.setCSSRemSize=function(e){this.applyGlobalCSS({html:{fontSize:"string"==typeof e?e:e+"px"}})},e.setTextSize=function(e){o.Container.setGlobalCSS("Container",{fontSize:e}),s=e},e.getTextSize=function(){return s},e.setSelectionClass=function(e){l=String(e||"")},e.getSelectionClass=function(){return l},e.withClass=function(t){return new e(void 0,t)},e.prototype.addClass=function(e){var t=this;return e&&r.default.unobserved(function(){t._status.value=2;var n={},r=String(t._className.value).split(/\s+/).filter(function(e){return e&&(n["_"+e]=!0)});e.split(/\s+/).forEach(function(e){e&&!n["_"+e]&&r.push(e)});t._className.value=r.join(" ");t._lastAppliedTo&&t._lastAppliedTo.element&&(t._lastAppliedTo.element.className+=" "+e)}),this},e.prototype.removeClass=function(e){var t=this;return r.default.unobserved(function(){t._status.value=2;t._className.value=String(t._className.value).split(/\s+/).filter("string"==typeof e?function(t){return t!==e}:function(t){return!e.test(t)}).join(" ");t._lastAppliedTo&&t._lastAppliedTo.element&&(t._lastAppliedTo.element.className=t._lastAppliedTo.element.className.split(/\s+/).filter("string"==typeof e?function(t){return t!==e}:function(t){return!e.test(t)}).join(" "))}),this},e.prototype.setClass=function(e){var t=this;return r.default.unobserved(function(){t._status.value=2,t._className.value=e}),this},e.prototype.getCSSText=function(){var e="";for(var t in this._cssProps)if(this._cssProps.hasObservableProperty(t)){var n=t.replace(/([A-Z])/g,"-$1").toLowerCase();e+=n+": "+this._cssProps[t]+"; "}return this._overrides&&this._overrides.forEach(function(t){e+=t.getCSSText()}),e.slice(0,-2)},e.prototype.get=function(e){var t=this._cssProps&&this._cssProps[e];return this._overrides&&this._overrides.forEach(function(n){var r=n.get(e);void 0!==r&&(t=r)}),t},e.prototype.hide=function(){var e=this;return r.default.unobserved(function(){e._status.value=2,e._hidden.value=!0}),this},e.prototype.show=function(){var e=this;return r.default.unobserved(function(){e._status.value||(e._status.value=1),e._hidden.value=!1}),this},e.prototype.select=function(){var e=this;return r.default.unobserved(function(){e._status.value=2,e._selected.value=!0}),this},e.prototype.deselect=function(){var e=this;return r.default.unobserved(function(){e._status.value||(e._status.value=1),e._selected.value=!1}),this},e.prototype.set=function(e,t){var n=this;return r.default.unobserved(function(){if(n._cssProps||(n._cssProps=new r.default.ObservableObject),"string"==typeof e)(n._cssProps[e]=t)?n._status.value=2:n._status.value||(n._status.value=1),n._cssProps.hasObservableProperty(e)||r.default.ObservableObject.makeObservable(n._cssProps,e);else{var i,o;for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i=!0,(n._cssProps[a]=e[a])&&(o=!0),n._cssProps.hasObservableProperty(a)||r.default.ObservableObject.makeObservable(n._cssProps,a));i&&(o?n._status.value=2:n._status.value||(n._status.value=1)),e instanceof r.default.ObservableObject&&(n._observables||(n._observables=new r.default.ObservableArray),n._observables.some(function(t){return t===e})||(n._observables.push(e),e.PropertyChange.connect(function(t){Object.prototype.hasOwnProperty.call(n._cssProps,t)||(r.default.ObservableObject.makeObservable(n._cssProps,{key:""}),n._sortedProps.push(t),n._sortedProps.sort().forEach(function(e,t){n._sortedProps[t]=e})),n._status.value=2,n._cssProps[t]=e[t]})))}n._sortedProps||(n._sortedProps=new r.default.ObservableArray);var s=Object.keys(n._cssProps).sort();n._sortedProps.length=s.length,s.forEach(function(e,t){n._sortedProps[t]=e})}),this},e.prototype.override=function(t){var n=this;return r.default.unobserved(function(){n._overrides||(n._overrides=new r.default.ObservableArray,n._isOverridden.value=!0),t instanceof r.default.ObservableValue?n._overrides.push(r.default.observe(function(){var n=t.value;return n instanceof e||(n=new e(n)),n})):(t instanceof e||(t=new e(t)),n._overrides.push(t))}),this},e.prototype.applyTo=function(e){if(e instanceof i.ComponentRenderHtmlOutput)this._lastAppliedTo=e,this.applyTo(e.element);else if(e instanceof HTMLElement){var t=[],n="",r=this;!function e(i){i._status.value>=(i===r?2:1)&&t.push(i),n+="|"+i._UID,i._isOverridden.value&&i._overrides.forEach(e)}(this);var o=!1;if(n!==this._lastOverrides?o=!0:e.style.cssText!==this._lastCSSText&&(o=!0),o&&e.style.length){for(var a=[],s=e.style.length-1;s>=0;s--)a.push(e.style.item(s));a.forEach(function(t){return e.style.removeProperty(t)})}var c,u,f="";t.forEach(function(t){t&&(t._sortedProps&&t._sortedProps.forEach(function(n){e.style[n]=t._cssProps[n]}),f+=(f?" ":"")+t._className.value,t._hidden.value===!1&&(c=!1),t._hidden.value===!0&&(c=!0),t._selected.value===!1&&(u=!1),t._selected.value===!0&&(u=!0))}),e.className=f+(u&&l?" "+l:""),c?e.setAttribute("hidden","hidden"):e.removeAttribute("hidden"),u?e.setAttribute("selected","selected"):e.removeAttribute("selected"),this._lastCSSText=e.style.cssText}},e.prototype.applyToObserved=function(e){var t=this;e instanceof i.default&&(this._lastAppliedTo=e);var n=r.default.unobserved(function(){return r.default.observe(function(){t._lastAppliedTo&&t._lastAppliedTo!==e||t.applyTo(e)})});return n.value,this},e}();t.Style=u,function(e){}(u=t.Style||(t.Style={})),t.Style=u,function(e){e.DROPCARD_UP_SHADOW={boxShadow:"0 0 1.5rem -.25rem rgba(0,0,0,.12),0 .5rem 1rem -.25rem rgba(0,0,0,.25),0 1rem 1rem -1rem rgba(0,0,0,.4)"}}(u=t.Style||(t.Style={})),t.Style=u,function(e){e.DROPCARD_SHADOW={boxShadow:"0 0 .5rem -.125rem rgba(0,0,0,.18),0 .25rem .5rem -.25rem rgba(0,0,0,.25),0 .5rem 1rem -.5rem rgba(0,0,0,.2)"}}(u=t.Style||(t.Style={})),t.Style=u,function(e){e.DROPCARD_UP={border:"0",backgroundClip:"border-box",borderRadius:".25rem",overflow:"hidden",transition:"box-shadow .2s ease",boxShadow:e.DROPCARD_UP_SHADOW.boxShadow}}(u=t.Style||(t.Style={})),t.Style=u,function(e){e.DROPCARD={border:"0",backgroundClip:"border-box",borderRadius:".25rem",overflow:"hidden",transition:"box-shadow .2s ease",boxShadow:e.DROPCARD_SHADOW.boxShadow}}(u=t.Style||(t.Style={})),t.Style=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t){e.exports=n(1)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(5),o=function(){function e(e,t){this.isComponentOutput=!0,this.component=e,this.element=t}return e}();t.ComponentRenderOutput=o;var a=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(o);t.ComponentRenderHtmlOutput=a,t.RenderHandler=i.ActionHandler,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";function r(e){return e.connectTo=function(t){
return t.connect(e)},e._isEventHandler=!0,e}var i=n(3);t.DOMEventSignalClass=function(e,t,n){var r,o=i.default.defineSignal(void 0,function(){e.then(function(e){if(!r){var a=e.liveElement||e.element;r=function(e){if(e.currentTarget||(e.currentTarget=a),o.isConnected){o(e);var t=!1;if(i.default.defer(function(){t=!0}),!n)for(;!t&&i.default.yieldAll(););}},a.addEventListener(t,r,n)}})},function(){e.then(function(e){r&&!o.isConnected&&((e.liveElement||e.element).removeEventListener(t,r),r=null)})});return o},t.ActionHandler=r,t.EventHandler=r,t.KeyHandler=r,t.MouseHandler=r,t.DragHandler=r,t.FocusHandler=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(5)),r(n(7)),r(n(4)),r(n(8)),r(n(9)),r(n(11)),r(n(12)),r(n(16)),r(n(17)),r(n(23)),r(n(19)),r(n(24)),r(n(25)),r(n(26)),r(n(27)),r(n(28)),r(n(29)),r(n(30)),r(n(31)),r(n(32)),r(n(21)),r(n(33)),r(n(20)),r(n(34)),r(n(35)),r(n(36)),r(n(37)),r(n(38)),r(n(22)),r(n(39)),r(n(40)),r(n(41)),r(n(42)),r(n(43)),r(n(44)),r(n(45)),r(n(46)),r(n(47)),r(n(48)),r(n(49)),r(n(50))},function(e,t){"use strict";function n(e,t,n){if(!(e[t]._isComponentFactory&&e.prototype instanceof e[t].target))throw new TypeError("Invalid component factory initializer: "+e[t].target.name+" for "+e.name);e["_.initializer"]=t}t.initializer=n},function(e,t,n){"use strict";function r(e,t){return new s(e,t)}function i(e,t,n){return new l(e,t,n)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(3),s=function(){function e(e,t){void 0!==e&&(e=String(e||""),(this._neg="!"===e.charAt(0))&&(e=e.slice(1)),this._p=e.split(".")),this._fget=t}return e.prototype.observeOn=function(e,t){function n(e){return e&&"object"==typeof e&&"function"==typeof e.then?a.default.unobserved(function(){return a.default.ObservableValue.fromPromise(e)}):e}var r=this._p,i=this._neg,o=this._fget;r||(r=[t]);var s=r.reduce(function(e,t){return function(){return(e()||{})[t]}},function(){return e});if(i){var l=s;s=function(){return!l()}}return a.default.observe(o?function(){return n(a.default.unobserved(o,s()))}:function(){return n(s())})},e}();t.Binding=s;var l=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i._fset=r,i}return o(t,e),t.prototype.observeOn=function(t,n){var r=e.prototype.observeOn.call(this,t,n),i=this._p,o=this._neg,a=this._fset;i||(i=[n]);var s=i.slice(0,-1).reduce(function(e,t){return function(){return(e()||{})[t]}},function(){return t});return r.setter(function(e){var t=s();t&&(t[i[i.length-1]]=a?a(o?!e:e):o?!e:e)}),r},t}(s);t.TwoWayBinding=l,t.bind=r,t.bind2=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(5),l=n(10);t.CSS_CLASS_PREFIX="UI-";var c=1,u=function(e){function n(){var t=e.call(this)||this;if(t.initializeWith=function(e){return t.constructor.with(e)._init(t)},t.uid="C"+c++,t.style=new a.default(void 0,t._initialStyleClassName,!1),t.hidden=!1,t._renderedOut=new o.default.Promise(function(e){t._resolve_renderedOut=e}),t.isRenderableComponent=!0,t.animations={},t._observeHidden=o.default.observe(function(){return t.hidden}).map(function(e){e?t._wasHidden===!1&&t.animations&&t.animations.hide?t.animations.hide.playOnce(t).done.then(function(){t.hidden&&t.style.hide()}):t.style.hide():(t.style.show(),t._wasHidden===!0&&t.animations&&t.animations.show&&t.animations.show.playOnce(t)),t._wasHidden=e}),t.Rendered=o.default.defineSignal(),t.Click=t.defineDOMEventSignal("click"),t.DblClick=t.defineDOMEventSignal("dblclick"),t.Press=t.defineDOMEventSignal("mousedown"),t.MouseOver=t.defineDOMEventSignal("mouseover"),t.MouseOut=t.defineDOMEventSignal("mouseout"),t.Focus=t.defineDOMEventSignal("focus",!0),t.Blur=t.defineDOMEventSignal("blur",!0),t.KeyDown=t.defineDOMEventSignal("keydown"),t.DragStart=t.defineDOMEventSignal("uidragstart"),t.DragOver=t.defineDOMEventSignal("uidragover"),t.DragOut=t.defineDOMEventSignal("uidragout"),t.DragDrop=t.defineDOMEventSignal("uidragdrop"),t.constructor&&t.constructor["_.initializer"]){var n,r=t.constructor[t.constructor["_.initializer"]];t.initialize=function(){return n||(n=r._init(this))}}return t}return r(n,e),n.setGlobalCSS=function(e,n,r){var i=this.prototype._initialStyleClassName||"_style";this.prototype._initialStyleClassName=i+=e?" "+t.CSS_CLASS_PREFIX+e:"";var o=i.split(/\s+/).map(function(e){return"."+e}).join("");if(n){if(n instanceof Array){var s={};n.forEach(function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t])}),n=s}f?f[o]=n:a.default.applyGlobalCSS(n)}if(r)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(f[o+l]=r[l])},n.prototype.initialize=function(){return this},Object.defineProperty(n.prototype,"out",{get:function(){var e=this;o.default.unobserved(function(){return e.initialize()}),this.render();var t=this.out;if(!t)throw new Error("Component not rendered");return this.style.applyToObserved(t),this._observeHidden.value,this.Rendered({component:this,out:t}),this._resolve_renderedOut&&(this._resolve_renderedOut(t),this._resolve_renderedOut=null),t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRendered",{get:function(){return!this._resolve_renderedOut},enumerable:!0,configurable:!0}),n.prototype.animate=function(e,t){return t?e.play(this):e.playOnce(this)},n.prototype.getChildren=function(){return[]},n.prototype.getComponentById=function(e){for(var t=this.getChildren();t.length;){var n=t.shift();if(n&&n.id===e)return n;n&&n.getChildren().forEach(function(e){return t.push(e)})}return null},n.prototype.getComponentsByType=function(e){var t=[];return this.getChildren().forEach(function(n){n instanceof e&&t.push(n),n.getComponentsByType(e).forEach(function(e){return t.push(e)})}),t},n.prototype.getFormValues=function(e){return void 0===e&&(e={}),this.getChildren().forEach(function(t){t.getFormValues(e)}),e},n.prototype.setFormValues=function(e){var t=this;o.default.unobserved(function(){t.getChildren().forEach(function(t){t.setFormValues(e)})})},n.prototype.defineDOMEventSignal=function(e,t){return new s.DOMEventSignalClass(this._renderedOut,e,t)},n}(o.default.ObservableObject);u.with=l._makeFactory,i([o.default.observable_nonNull],u.prototype,"style",void 0),i([o.default.observable],u.prototype,"hidden",void 0),i([o.default.observable],u.prototype,"out",null),t.Component=u;var f={};o.default.defer(function(){a.default.applyGlobalCSS(f),f=null}),u.setGlobalCSS("Component"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";function r(e){var t=function(){return t.create()};return t._isComponentFactory=!0,t.target=this,t._init=function(t,n){return i(e,t,n)},t.create=function(){return this._init(new this.target)},t.afterEach=function(e){var t=this._init;return this._init=function(n,r){return e(t(n,r),r||n),n},this},t.with=function(e){return this.afterEach(function(t,n){return i(e,t,n)})},t}function i(e,t,n){void 0===n&&(n=t),e.id&&(n[e.id]=t);var r=function(r){t[r]instanceof Function&&t[r].prototype instanceof c.default.Signal?e[r]&&(e[r]._isEventHandler?t[r].connect(e[r]):t[r].connect(function(){var t=n[e[r]];if("function"!=typeof t)throw new Error("Method not found: "+e[r]);t.call(n)})):t[r]instanceof u.default?t[r]=t[r].override(e instanceof c.default.ObservableObject?c.default.observe(function(){return o(r,e[r],n)}):o(r,e[r],n)):e instanceof c.default.ObservableObject&&(t.hasObservableProperty(r)||"value"===r)?t[r]=c.default.observe(function(){return o(r,e[r],n)}).setter(function(t){e[r]=t}):t[r]=o(r,e[r],n)};for(var i in e)r(i);return t}function o(e,t,n){return t instanceof p.default?t.observeOn(n,e):t&&"object"==typeof t&&"function"==typeof t.then?c.default.ObservableValue.fromPromise(t):t}function a(e,t,n,r,i){var l=o(e,t,r);if(l instanceof c.default.ObservableValue)return l.map(function(t){return a(e,t,n,r,i)});if(t&&t._isComponentFactory&&(t=t._init(new t.target,r)),"string"==typeof t||"number"==typeof t)i||(t=new h.Label(String(t)));else if(t instanceof Array)t=n===h.TableRow?new h.TableRow(s(e,t,h.ControlElement,r,!0)):n===h.TableHeader?new h.TableHeader(s(e,t,h.ControlElement,r,!0)):n===h.ControlElement?new h.Stack(s(e,t,h.ControlElement,r)):new h.Row(s(e,t,h.ControlElement,r));else if(t instanceof Function&&t.prototype instanceof f.default)t=new t;else if(t instanceof d.default)return t=t.getComponent(),n!==h.ControlElement&&(t=new h.Row([t]),n!==h.Block&&(t=new n([t]))),t;return n===h.ControlElement?t instanceof h.Container?new h.ContainerControl(t):t instanceof h.Block&&!i?new h.BlockControl(t):t:n===h.Block?t instanceof h.ControlElement?new h.Row([t]):t instanceof h.Container?new h.ContainerBlock(t):t:n===h.TableRow||n===h.TableHeader?t instanceof h.TableRow||t instanceof h.TableHeader?t:(t instanceof h.Container&&(t=new h.ContainerControl(t)),void 0!==t?new n([t]):t):(t instanceof h.ControlElement&&(t=new h.Row([t])),t instanceof h.Block&&(t=new n([t])),t)}function s(e,t,n,r,i){if("object"==typeof t&&"function"==typeof t.then){var o=c.default.ObservableValue.fromPromise(t.then(function(t){return s(e,t,n,r,i)}));return o.getLastValue()||(o.value=[]),o}return t instanceof p.default?t.observeOn(r,e).map(function(t){return s(e,t,n,r,i)}):t instanceof c.default.ObservableValue?c.default.observe(function(){return s(e,t.value,n,r,i)}):t instanceof c.default.ObservableArray?t.mapAsync(function(t,o){return a(e+"."+o,t,n,r,i)}):t instanceof Array?t.map(function(t,o){return a(e+"."+o,t,n,r,i)}):[]}function l(e,t,n,r,i){if(!e.hasObservableProperty||!e.hasObservableProperty(t)){var o=e[t];if(!(o instanceof c.default.ObservableValue))return a(t,o,n,r,i)}return c.default.observe(function(){var o=e[t];return o instanceof c.default.ObservableValue&&(o=o.value),a(t,o,n,r,i)})}var c=n(3),u=n(2),f=n(9),d=n(11),p=n(8),h=n(6);t._makeFactory=r,t._transformFactoryArray=s,t._transformObservableInitializer=l},function(e,t,n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o;if(e instanceof Array){var s=e.length,l=0,c=t&&t.map(function(e){return"function"==typeof e&&(l++,e=new i.default.ObservableValue(e)),e});if(r=function(){for(var t="",n=0;n<s;n++)n&&(t+=String(c&&c[n-1])),t+=e[n];return t},!l)return new a(r())}else{if(!(e instanceof Function))return new a(e,t[0]);r=e,o=t[0]}return new a(new i.default.ObservableValue(r),o)}var i=n(3),o=n(1),a=function(){function e(e,t){this._value=e instanceof i.default.ObservableValue?e:String(e),t&&(this._baseClass=t)}return e.prototype.toString=function(){return String(this._value).replace(/^\{[^\}]\}/,"")},e.prototype.getComponent=function(){var e=this;if("string"==typeof this._value)return this._createComponent(this._value);var t;return this._value.map(function(n){return t=e._createComponent(n,t)})},e.prototype._createComponent=function(e,t){var n,r,i,a,s=this._baseClass,l=String(e);if("{"===l.charAt(0)){var c=l.indexOf("}");if(c>0){var u=l.slice(1,c).split("|");l=l.slice(c+1),n={},u.forEach(function(e){switch(e){case"p":s=o.Paragraph;break;case"w":s=o.WideLabel;break;case"l":s=o.Label;break;case"h1":s=o.Heading1;break;case"h2":s=o.Heading2;break;case"h3":s=o.Heading3;break;case"h4":s=o.Heading4;break;case"h5":s=o.Heading5;break;case"h6":s=o.Heading6;break;case"b":n.fontWeight="bold";break;case"i":n.fontStyle="italic";break;case"u":n.textDecoration="underline";break;case"left":case"right":case"center":n.textAlign=e,s||(s=o.Paragraph);break;default:if(/^l:[\d\.]+(\%|[a-z]+)$/.test(e))a=e.slice(2);else if(/^#\w+$/.test(e))n.color=e;else if(/^icon:/.test(e))i=e.slice(5);else if(/^\d+$/.test(e))n.fontWeight=e;else if(/^[\d\.]+(\%|[a-z]+)$/.test(e))n.fontSize=e;else if(/^\./.test(e))r=(r||"")+e.replace(/\./g," ").replace(/^\s+/,"");else{var t=/^([\w-]+)\s*=\s*(.*)$/.exec(e);if(t){var l=t[1].replace(/-\w/g,function(e){return e.charAt(1).toUpperCase()}),c=t[2];n[l]='"'===c.charAt(0)?JSON.parse(c):c}}}})}}s||(s=o.Label);var f=t instanceof s?t:new s;return i&&(f.icon=i),n&&f.style.override(n),r&&f.style.addClass(r),a&&(f.width=a),f.text=l,f},e}();t.TextLabelFactory=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.tl=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(13),s=n(9),l=n(6),c=n(10),u=n(4),f=n(14),d=function(e){function t(n){var r=e.call(this)||this;return r.content=[],r.vertAlign=t.VertAlign.Top,r.maxContentWidth="auto",r.scrollable=!1,r.displayOptions={},r._hasFocus=o.default.ObservableValue.fromValue(!1),r._hoverState=o.default.ObservableValue.fromValue(!1),void 0!==n&&(r.content=n),r.MouseOver.connect(function(){r._hoverState.value=!0}),r.MouseOut.connect(function(){r._hoverState.value=!1}),r.Blur.connect(function(){r._hasFocus.value=!1}),r.Focus.connect(function(e){r._lastFocused=e.target,r._hasFocus.value=!0}),r}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.content=c._transformFactoryArray("content",e.content,l.Block,n),e.focusFirst&&t.restoreFocus()})},t.withContent=function(e){return this.with({content:e})},t.prototype.initializeWithContent=function(e){return this.initializeWith({content:e})},Object.defineProperty(t.prototype,"hoverState",{get:function(){return this._hoverState.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasFocus",{get:function(){return this._hasFocus.value},enumerable:!0,configurable:!0}),t.prototype.restoreFocus=function(){var e=this;if(this._mainWrapper){for(var t=this._lastFocused,n=t,r=!1;n&&!n.hasAttribute("hidden");){if(n===this._mainWrapper){r=!0;break}n=n.parentNode}if(t&&r)f._focusElementASAP(t);else{var i=0,o=this._mainWrapper;window.setTimeout(function e(){for(var t=o.querySelectorAll("[tabindex],a[href],input:not([disabled]),button:not([disabled]),textarea:not([disabled]), select:not([disabled])"),n=0;n<t.length;n++){for(var r=t[n],a=!1;r&&!a;)r.hasAttribute("hidden")&&(a=!0),r=r.parentElement;if(!a)return void f._focusElementASAP(t[n])}i++<5&&window.setTimeout(e,10*i)},1)}}else this.Rendered.connect(function(){return e.restoreFocus()});return this},t.prototype.removeFocus=function(){return this._lastFocused&&this._lastFocused.blur(),this},t.prototype.hasEmptyList=function(e){return void 0===e&&(e=l.List),this.getComponentsByType(e).some(function(e){return!(e.items&&e.items.length)})},t.prototype.render=function(){if(!this.out){var e=document.createElement("container");this._mainWrapper=document.createElement("containerwrapper"),this._cellWrapper=document.createElement("div"),this._mainWrapper.appendChild(this._cellWrapper),e.appendChild(this._mainWrapper),this.out=new u.ComponentRenderHtmlOutput(this,e),this.out.elements={wrapper:this._mainWrapper}}"auto"===this.style.get("width")?(this._mainWrapper.style.tableLayout="auto",this._mainWrapper.style.width="auto"):(this._mainWrapper.style.tableLayout="fixed",this._mainWrapper.style.width="100%");var n=this.content.map(function(e){return e&&e.out});f._replaceInner(this.out,n,this._cellWrapper),this._cellWrapper.style.verticalAlign=t.VertAlign[this.vertAlign].toLowerCase(),this.style.set({overflow:this.scrollable?"auto":"hidden"}),this._mainWrapper.style.maxWidth="auto"===this.maxContentWidth?"none":this.maxContentWidth},t.prototype.display=function(){var e=this,n=function(t){if(e._mainWrapper){for(var n=t.target;n&&n!==e._mainWrapper;)n=n.parentNode;n!==e._mainWrapper&&(e.KeyDown(t),o.default.yieldAll())}},r=this.displayOptions.horzAlign,i=this.displayOptions.vertAlign;return a.default.display(this,{modal:this.displayOptions.modal,shade:this.displayOptions.shade,escHandler:this.displayOptions.onEsc,keyDownHandler:n,horzAlign:void 0!==r?t.HorzAlign[r].toLowerCase():"",vertAlign:t.VertAlign[i||0].toLowerCase(),margin:this.displayOptions.margin}),this},t.prototype.getChildren=function(){return this.content.filter(function(e){return e instanceof s.default})},t}(s.default);i([o.default.observable_nonNull],d.prototype,"content",void 0),i([o.default.observable],d.prototype,"vertAlign",void 0),i([o.default.observable_string],d.prototype,"maxContentWidth",void 0),i([o.default.observable],d.prototype,"scrollable",void 0),t.Container=d,function(e){var t;!function(e){e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom"}(t=e.VertAlign||(e.VertAlign={}))}(d=t.Container||(t.Container={})),t.Container=d,function(e){var t;!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(t=e.HorzAlign||(e.HorzAlign={}))}(d=t.Container||(t.Container={})),t.Container=d,d.setGlobalCSS("Container",{display:"inline-block",boxSizing:"border-box",position:"relative",top:"0",bottom:"0",left:"0",right:"0",height:"100%",width:"100%",textAlign:"center",fontSize:"1rem",margin:"0 auto",overflow:"hidden"},{" containerwrapper":{position:"relative",display:"table",borderSpacing:"0",height:"100%",margin:"0 auto"}," containerwrapper > div":{display:"table-cell"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,n){"use strict";var r=n(3),i=n(2),o=n(14),a=n(9),s=n(1);i.default.setCSSRemSize(16);var l=function(){function e(){throw new TypeError}return e.display=function(t,n){var r=this;if(void 0===n&&(n={}),t&&"object"==typeof t&&"function"==typeof t.then)t.then(function(e){return r.display(e,n)});else{if(!(t instanceof s.Component))throw new TypeError;if(this._stack.some(function(e){return e.component===t}))return;n.modal&&(document.activeElement&&document.activeElement.blur(),n.escHandler||(n.escHandler=function(){return r.remove(t)}));var i=e._layerElement(t,n);if(this._stack.push(i),!n.stayOnTop)for(var o=this._stack.length-1;o>0&&this._stack[o-1].stayOnTop;o--)this._stack[o]=this._stack[o-1],this._stack[o-1]=i;this._update()}},e.isDisplayed=function(e){return this._stack.some(function(t){return t.component===e})},e.remove=function(e,t){var n=this;if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(function(e){return n.remove(e)});else{if(!(e instanceof s.Component))throw new TypeError;this._stack=this._stack.filter(function(n){return n.component!==e||(t?setTimeout(function(){return n.disconnect()},100):n.disconnect(),!1)}),this._update(t)}},e.closeModal=function(e){for(;this._stack.length;){var t=this._stack[this._stack.length-1];if(!t.modal)break;if(t.disconnect(),this._stack.pop(),!e)break}this._update()},e.clear=function(e){if(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),e){var t=this._stack.slice(0);setTimeout(function(){return t.forEach(function(e){return e.disconnect()})},100)}else this._stack.forEach(function(e){return e.disconnect()});this._stack=[],this._update(e),e&&this.blockAll()},e.blockAll=function(e){var t=this,n=document.createElement("div");n.style.position="fixed",n.style.top="0",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.cursor="wait",n.style.zIndex="1000000000",n.style.background="rgba(0,0,0,0)",n.tabIndex=1,n.onblur=function(e){e.preventDefault(),n.focus()},n.onselectstart=function(e){e.preventDefault()},this._screen.appendChild(n),n.focus(),e&&e.then(function(){n.parentNode&&t._screen.removeChild(n)})},e._update=function(e){var t=this;this.isBlank=!this._stack.length,this._pendingUpdate||e||(this._pendingUpdate=this.ready.then(function(){t._pendingUpdate=null;for(var e=[],n=!1,r=!1,i=t._stack.length;i>0;){var a=t._stack[--i],s=a.out.value;if(s){n&&s.setAttribute?s.setAttribute("screen-behind","behind"):s.removeAttribute&&s.removeAttribute("screen-behind");var l=10001+1e3*(i+1);s.style&&(s.style.zIndex=String(l)),a.element=s,e.unshift(a),a.modal&&(r=!0,a.shade&&!n?(n=!0,t._shade.style.zIndex=String(l-1),e.unshift(t._shade)):e.unshift(document.createComment("modal")))}else e.unshift(document.createComment(a.component.uid))}t.isModalDisplayed=r,n?t._fadeShadeIn():t._fadeShadeOut(),o._replaceInner(t._screen,e,void 0,t._domStateData),t._stack.length&&t.style.show()}))},e._layerElement=function(e,t){var n,i,o={isScreenLayer:!0,component:e,modal:t.modal,shade:t.shade,stayOnTop:t.stayOnTop,onEsc:t.escHandler,onKeyDown:t.keyDownHandler,out:r.default.observe(function(){return e.out}).map(function(e){var r=e.element;if(r&&r instanceof HTMLElement){if(e.elements&&e.elements["Screen.wrapper"])r=i=e.elements["Screen.wrapper"],n=e.elements["Screen.cell"],n&&(n.style.verticalAlign=t.vertAlign||"top",n.style.textAlign=t.horzAlign||"center",n.style.padding=t.margin||"0");else if(t.vertAlign||t.horzAlign||t.margin){if(n||(n=document.createElement("overlaycell"),n.style.display="table-cell",n.style.verticalAlign=t.vertAlign||"top",n.style.textAlign=t.horzAlign||"center",n.style.overflow="hidden",n.oncontextmenu=function(e){e.target&&e.target===n&&e.preventDefault()},i=document.createElement("overlay"),i.style.display="table",i.style.position="absolute",i.style.width="100%",i.style.height="100%",i.appendChild(n)),n.style.padding=t.margin||"0",n.firstChild!==r){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(r)}r=i}else{if(i||(i=document.createElement("wrapper"),i.style.display="block",i.style.position="absolute",i.style.height="0",i.style.left="0",i.style.right="0"),r.style&&r.style.bottom&&"auto"!==r.style.bottom?i.style.bottom="0":i.style.top="0",i.firstChild!==r){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(r)}r=i}if(t.modal){var a=document.createElement("modal");if(a.style.position="fixed",a.style.top="0",a.style.bottom="0",a.style.left="0",a.style.right="0",a.style.textAlign="center",a.style.overflow="auto",a.style.background="rgba(0,0,0,0)",a.onclick=function(e){if(o.onEsc){var t=e.target;if(t===a||t===i||t===n)e.preventDefault(),o.onEsc();else for(;t;){if(t.hasAttribute&&t.hasAttribute("data-dismiss")){e.preventDefault(),o.onEsc();break}t=t.parentElement}}},a.firstChild!==r){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(r)}r=a}}return i&&(e.elements||(e.elements={}),e.elements["Screen.wrapper"]=i,e.elements["Screen.cell"]=n),r}),disconnect:function(){return o.out.clear()}};return o.out.subscribe(),o},e._fadeShadeIn=function(){var e=this;this._shadeFadeTimer>=0&&window.clearTimeout(this._shadeFadeTimer),this._shadeFadeTimer=NaN;var t=this._shadeFadeTimer=window.setTimeout(function(){e._shadeFadeTimer===t&&(e._shade.style.opacity="1")},0)},e._fadeShadeOut=function(){var t=this;if(this._shade.parentNode){this._shadeFadeTimer>=0&&window.clearTimeout(this._shadeFadeTimer),this._shade.style.opacity="0";var n=this._shadeFadeTimer=window.setTimeout(function(){t._shadeFadeTimer===n&&t._shade.parentNode&&t._shade.parentNode.removeChild(t._shade)},1e3*e.SHADE_TRANSITION_SEC)}},e._init=function(t){var n=this;i.default.applyGlobalCSS({"[hidden]":{display:"none"}},!0),i.default.applyGlobalCSS({"[screen-behind]":{webkitFilter:"blur("+e.SHADE_BLUR+"px)",filter:"blur("+e.SHADE_BLUR+"px)"}},!0);var o=this._screen=document.createElement("screen");this.style.addClass(a.CSS_CLASS_PREFIX+"Screen"),r.default.observe(function(){return n.style.applyToObserved(o)}).subscribe(),document.body.appendChild(o);var s=this._shade=document.createElement("modalshade");s.style.position="fixed",s.style.top="0",s.style.bottom="0",s.style.left="0",s.style.right="0",s.style.background="rgba(0,0,0,"+e.SHADE_OPACITY+")",s.style.backgroundImage="radial-gradient(rgba(0,0,0,"+e.SHADE_GRADIENT_CENTER+"), rgba(0,0,0,0))",s.style.transition="opacity "+e.SHADE_TRANSITION_SEC+"s ease",s.style.opacity="0";var l=!1;r.default.defer(function(){function n(){var t=o.hasAttribute("hidden"),n=e.width=l&&!t?o.clientWidth:window.innerWidth;e.height=l&&!t?o.clientHeight:window.innerHeight,n!==i&&(n>=e.EXTRALARGE_WIDTH?(e.isSmall=e.isExtraSmall=!1,e.isLarge=e.isExtraLarge=!0,e.style.setClass(a.CSS_CLASS_PREFIX+"Screen "+a.CSS_CLASS_PREFIX+"Screen-Large "+a.CSS_CLASS_PREFIX+"Screen-ExtraLarge")):n>=e.LARGE_WIDTH?(e.isExtraLarge=e.isSmall=e.isExtraSmall=!1,e.isLarge=!0,e.style.setClass(a.CSS_CLASS_PREFIX+"Screen "+a.CSS_CLASS_PREFIX+"Screen-Large")):n<e.EXTRASMALL_WIDTH?(e.isLarge=e.isExtraLarge=!1,e.isExtraSmall=e.isSmall=!0,e.style.setClass(a.CSS_CLASS_PREFIX+"Screen "+a.CSS_CLASS_PREFIX+"Screen-Small "+a.CSS_CLASS_PREFIX+"Screen-ExtraSmall")):n<e.SMALL_WIDTH?(e.isExtraLarge=e.isLarge=e.isExtraSmall=!1,e.isSmall=!0,e.style.setClass(a.CSS_CLASS_PREFIX+"Screen "+a.CSS_CLASS_PREFIX+"Screen-Small")):(e.isExtraLarge=e.isLarge=e.isSmall=e.isExtraSmall=!1,e.style.setClass(a.CSS_CLASS_PREFIX+"Screen"))),o.firstChild?e.style.show():e.style.hide()}function r(){n(),setTimeout(r,s),s=500}var i=void 0;window.addEventListener("resize",n);var s=2e3;r(),l||t(l=!0)}),document.addEventListener("keydown",function(e){if(n._stack.length){var t=n._stack[n._stack.length-1];t.onKeyDown&&t.onKeyDown.call(window,e),!e.defaultPrevented&&27==e.keyCode&&t.onEsc&&t.onEsc.call(window)}})},e}();l.SHADE_OPACITY=.2,l.SHADE_GRADIENT_CENTER=.2,l.SHADE_BLUR=1.2,l.SHADE_TRANSITION_SEC=.2,l.EXTRASMALL_WIDTH=550,l.SMALL_WIDTH=720,l.LARGE_WIDTH=960,l.EXTRALARGE_WIDTH=1200,l.width=NaN,l.height=NaN,l.isExtraSmall=!1,l.isSmall=!1,l.isLarge=!1,l.isExtraLarge=!1,l.isBlank=!0,l.isModalDisplayed=!1,l.style=new i.default({position:"fixed",top:"0",bottom:"0",left:"0",right:"0",overflow:"hidden",textAlign:"center",cursor:"default",lineHeight:"0",fontSize:"0"}),l.ready=new r.default.Promise(function(e){return document.addEventListener("DOMContentLoaded",function(){l._init(e)})}),l._domStateData={},l._stack=[],t.Screen=l,r.default.ObservableObject.makeObservable(l,{width:l.width,height:l.height,isExtraSmall:l.isExtraSmall,isSmall:l.isSmall,isLarge:l.isLarge,isBlank:l.isBlank,isModalDisplayed:l.isModalDisplayed}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";function r(e,t,n,r){var a,d=t.length,p=n||(e.isComponentOutput?e.element:e),h=[],v=[];if(t.forEach(function(e,t){if(e){e.isRenderableComponent?v[t]=e:(e.isComponentOutput||e.isScreenLayer)&&(v[t]=e.component);var n=o(e,h,t);n&&(a||(a=[])).push(n)}}),a){var y=function(){for(var e=15;e>=0&&a.length;e--)s.default.defer(a.shift());a.length&&s.default.defer(function(){return s.default.defer(y)})};y()}return i(p,function(){var t,n;if(r?(t=r._c,n=r._n,r._c=v,r._n=h):e.isComponentOutput&&(e.data&&(t=e.data.components,n=e.data.nodes),e.data={components:v,nodes:h,t:Date.now()}),l.default.isEnabled&&v.length<f&&(!t||t.length<f)){t||(t=[]);var i=Date.now()-u;v.forEach(function(e){if(!t.some(function(t){return t===e})&&(e&&e.animations&&e.animations.appear&&e.animations.appear.play(e).done.then(function(e){return e.stop()}),e.isRendered)){var n=e.out;n&&n.data&&n.data.t<i&&n.data.components&&n.data.components.forEach&&n.data.components.forEach(function(e){e&&e.animations&&e.animations.appear&&e.animations.appear.play(e).done.then(function(e){return e.stop()})})}}),t.forEach(function(e,t){var r;if(e&&e.animations&&e.animations.disappear&&(r=n[t])&&1===r.nodeType&&!v.some(function(t){return t===e})){r.setAttribute(c,"true");var i=e.animations.disappear.play(e);i.done.then(function(){i.stop(),r.hasAttribute(c)&&r.parentNode===p&&p.removeChild(r)})}})}for(var o=p.firstChild,a=0;a<d&&o;a++)if(o.hasAttribute&&o.hasAttribute(c))o=o.nextSibling,a--;else{var s=h[a];if(s){s.removeAttribute&&s.removeAttribute(c);var y=o.nextSibling;o!==s&&p.replaceChild(s,o),o=y,o===s&&(o=o.nextSibling)}}for(;o;){var y=o.nextSibling;o.hasAttribute&&o.hasAttribute(c)||p.removeChild(o),o=y}for(;a<d;a++){var s=h[a];s&&p.appendChild(s)}}),p}function i(e,t){s.default.defer(function(){if(window.requestAnimationFrame){if(d)for(var n=p.length-1;n>=0;n--)p[n]===e&&(p.splice(n,1),d.splice(n,1));else d=[],window.requestAnimationFrame(function(){var e=d;d=null,p.length=0,e&&e.forEach(function(e){try{e()}catch(e){s.default.UnhandledException(e)}})});d.push(t),p.push(e)}else t()})}function o(e,t,n){var r,i;if(e.isRenderableComponent)if(e.isRendered)r=e.out.element;else{var o=document.createComment("placeholder"),a=s.default.unobserved(function(){return new s.default.ObservableValue(function(){})});a.value,i=function(){a.getter(function(){var r=e.out.element;o.parentNode?(o.parentNode.replaceChild(r,o),l.default.isEnabled&&e.animations&&e.animations.appear&&e.animations.appear.play(e).done.then(function(e){return e.stop()})):t[n]=r})},r=o}else r=e.isComponentOutput||e.isScreenLayer?e.element:e;return t[n]=r,i}function a(e){function t(){h&&document.activeElement!==h&&(h.focus(),n++<10&&window.setTimeout(t,2*n))}var n=0;h=e,t()}var s=n(3),l=n(15),c="render-disappearing",u=2e3,f=100,d=null,p=[];t._replaceInner=r,t._focusElementASAP=a;var h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),o=n(2),a=0,s=!0,l=function(){function e(e){this.duration=0,this.name=e,this.id=String(e).replace(/\W/g,"_")+"__"+a++}return e.enableAll=function(){s=!0},e.disableAll=function(){s=!1},Object.defineProperty(e,"isEnabled",{get:function(){return s},enumerable:!0,configurable:!0}),e.prototype.playOnce=function(e){var t=this.play(e);return t.done.then(function(){return t.stop()}),t},e}();t.Animation=l;var c=function(e){function t(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={});var i=e.call(this,t)||this;if(i._options=r,i._keyframesID=r._keyframes||i.id,!r._keyframes){var a={};n.forEach(function(e,t){var r=e.t;void 0===r&&(r=t/(n.length-1||1));for(var i=Math.round(1e3*r)/10+"%";a[i];)i+=" ";a[i]=e.style}),o.default.applyGlobalCSS(a,!1,"@keyframes "+i.id),o.default.applyGlobalCSS(a,!1,"@-webkit-keyframes "+i.id)}var s={},l=500,c=0,u="1";r.duration>=0&&(l=r.duration),r.delay>=0&&(c=r.delay),r.count===1/0?u="infinite":void 0!==r.count&&(u=String(r.count));var f=i._keyframesID+" "+(r.specDuration>=0?r.specDuration:l)+"ms "+c+"ms "+u+" "+(r.direction||"normal")+(r.ease?" ease":" ")+" forwards";return s["."+i.id+"_playing"]={animation:f,webkitAnimation:f},o.default.applyGlobalCSS(s),i.duration=l+c,i._playingCSSText=f,i}return r(t,e),t.together=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=0,a=[];e.forEach(function(e){a.push(e._playingCSSText),e.duration>i&&(i=e.duration)});var s=a.join(", "),c=function(e){function n(t){var n=e.call(this,t)||this;n.duration=i;var r={};return r["."+n.id+"_playing"]={animation:s,webkitAnimation:s},o.default.applyGlobalCSS(r),n}return r(n,e),n.prototype.play=function(e){return t.prototype.play.call(this,e)},n}(l);return new c(e.map(function(e){return e&&e.name}).join("_and_"))},t.prototype.clone=function(e){var n={duration:e.duration>=0?e.duration:this._options.duration,delay:e.delay>=0?e.delay:this._options.delay,count:e.count>=0?e.count:this._options.count,direction:e.direction?e.direction:this._options.direction,ease:void 0!==e.ease?e.ease:this._options.ease,_keyframes:this._keyframesID};return new t(this.name,void 0,n)},t.prototype.togetherWith=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.together.apply(t,[this].concat(e));
},t.prototype.withTiming=function(e,t){return this.clone({duration:e,delay:t})},t.prototype.reverse=function(){return this.clone({direction:this._options.direction&&"reverse"===this._options.direction?"normal":"reverse"})},t.prototype.play=function(e){var t=this,n={animation:this};return s?(e.style.addClass(this.id+"_playing"),n.done=i.default.sleep(this.duration,n),n.stop=function(){e.style.removeClass(t.id+"_playing")}):(n.done=i.default.Promise.resolve(n),n.stop=function(){}),n},t}(l);t.KeyframeAnimation=c,function(e){var t=new c("fadeIn",[{style:{opacity:"0"}},{style:{opacity:"1"}}]),n=t.reverse(),r=new c("slideInUp",[{style:{transform:"translateY(100%)"}},{style:{transform:"translateY(0)"}}]),i=new c("fadeInUp",[{style:{opacity:"0",transform:"translateY(50%)"}},{style:{opacity:"1",transform:"translateY(0)"}}]),o=r.reverse(),a=i.reverse(),s=new c("slideInDown",[{style:{transform:"translateY(-100%)"}},{style:{transform:"translateY(0)"}}]),l=new c("fadeInDown",[{style:{opacity:"0",transform:"translateY(-50%)"}},{style:{opacity:"1",transform:"translateY(0)"}}]),u=s.reverse(),f=l.reverse(),d=new c("slideInLeft",[{style:{transform:"translateX(100%)"}},{style:{transform:"translateX(0)"}}]),p=new c("fadeInLeft",[{style:{opacity:"0",transform:"translateX(50%)"}},{style:{opacity:"1",transform:"translateX(0)"}}]),h=d.reverse(),v=p.reverse(),y=new c("slideInRight",[{style:{transform:"translateX(-100%)"}},{style:{transform:"translateX(0)"}}]),b=new c("fadeInRight",[{style:{opacity:"0",transform:"translateX(-50%)"}},{style:{opacity:"1",transform:"translateX(0)"}}]),_=y.reverse(),m=b.reverse(),g=new c("scaleIn",[{style:{transform:"scale(0)"}},{style:{transform:"scale(1)"}}]),w=g.reverse(),O=new c("scaleInOver",[{style:{transform:"scale(0)"}},{style:{transform:"scale(1.15)"},t:.5},{style:{transform:"scale(.95)"},t:.8},{style:{transform:"scale(1)"}}]),S=O.reverse(),C=new c("turnInX",[{style:{transform:"perspective(1000px) rotateX(90deg)"}},{style:{transform:"perspective(1000px)"}}]),E=new c("turnOutX",[{style:{transform:"perspective(1000px)"}},{style:{transform:"perspective(1000px) rotateX(90deg)"}}]),x=new c("turnInY",[{style:{transform:"perspective(1000px) rotateY(90deg)"}},{style:{transform:"perspective(1000px)"}}]),P=new c("turnOutY",[{style:{transform:"perspective(1000px)"}},{style:{transform:"perspective(1000px) rotateY(90deg)"}}]),T=new c("growMaxHeight",[{style:{maxHeight:"0",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"}},{style:{maxHeight:"5000px",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"}}],{duration:800}),A=new c("shrinkMaxHeight",[{style:{maxHeight:"5000px",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}},{style:{maxHeight:"0",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}}],{duration:800}),R=new c("growMaxWidth",[{style:{maxWidth:"0",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"}},{style:{maxWidth:"5000px",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"}}],{duration:800}),j=new c("shrinkMaxWidth",[{style:{maxWidth:"5000px",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}},{style:{maxWidth:"0",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}}],{duration:800}),I=new c("highlightYellow",[{style:{background:"#ffc"}},{style:{background:"#ffa"}},{style:{background:"transparent"}}]),k=new c("jumpOut",[{style:{transform:"scale(.9)"}},{style:{transform:"scale(1.2)"}},{style:{transform:"scale(.9)"},t:.9},{style:{transform:"scale(1)"}}]),D=new c("jumpIn",[{style:{transform:"scale(1.05)"}},{style:{transform:"scale(.9)"}},{style:{transform:"scale(1.05)"},t:.9},{style:{transform:"scale(1)"}}]);e.basic={in:{fade:t,fadeUp:i,fadeDown:l,fadeLeft:p,fadeRight:b,slideUp:r,slideDown:s,slideLeft:d,slideRight:y,scale:g,scaleOver:O,turnX:C,turnY:x,maxHeight:T,maxWidth:R},out:{fade:n,fadeUp:f,fadeDown:a,fadeLeft:m,fadeRight:v,slideUp:u,slideDown:o,slideLeft:_,slideRight:h,scale:w,scaleOver:S,turnX:E,turnY:P,maxHeight:A,maxWidth:j},highlight:{yellow:I,jumpOut:k,jumpIn:D}}}(l=t.Animation||(t.Animation={})),t.Animation=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(9),s=n(12),l=n(6),c=n(10),u=n(14),f=function(e){function t(){var t=e.apply(this,arguments)||this;return t.header=null,t.footer=null,t}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.header=c._transformObservableInitializer(e,"header",l.Block,n),t.footer=c._transformObservableInitializer(e,"footer",l.Block,n)})},t.prototype.render=function(){e.prototype.render.call(this);var t,n;this.header&&(t=document.createElement("div"),t.className="panel-heading card-header",t.appendChild(this.header.out.element)),this.footer&&(n=document.createElement("div"),n.className="panel-footer card-footer",n.appendChild(this.footer.out.element));var r=this.out;u._replaceInner(r,[t,r.elements.wrapper,n])},t.prototype.getChildren=function(){var t=e.prototype.getChildren.call(this);return this.header instanceof a.default&&t.unshift(this.header),this.footer instanceof a.default&&t.push(this.footer),t},t}(s.default);i([o.default.observable],f.prototype,"header",void 0),i([o.default.observable],f.prototype,"footer",void 0),t.CardContainer=f,f.setGlobalCSS("CardContainer panel panel-default card",{display:"inline-block",margin:"0",padding:"0",height:"auto",width:"auto"},{" > .card-header":{padding:"0",overflow:"hidden"}," > .card-footer":{padding:"0",overflow:"hidden"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(13),s=n(15),l=n(18),c=n(12),u=n(19),f=n(6),d=n(20),p=function(e){function t(t,n){void 0===n&&(n="27rem");var r=e.call(this,t)||this;return r.Closing=o.default.defineSignal(),r.Closed=o.default.defineSignal(),r._dragHandleSet=!1,r.width=n,r.style.set({width:"auto",height:"auto"}),r.raised=!0,r.raiseOnFocus=!1,r.raiseOnHover=!1,r.displayOptions=new o.default.ObservableObject({modal:!0,shade:!0,horzAlign:c.default.HorzAlign.Center,vertAlign:c.default.VertAlign.Middle,onEsc:function(){o.default.Promise.all(new r.Closing(null).emit().results).then(function(){return r.close()})}}),r.animations.appear=s.default.basic.in.fadeUp.withTiming(300),r.animations.disappear=s.default.basic.out.fade.withTiming(200),r}return r(t,e),t.prototype.render=function(){var t=this;this.style.set({width:"auto"===this.width?"auto":"100%",maxWidth:"auto"===this.width?"none":this.width}),e.prototype.render.call(this),this.header instanceof f.Row&&!this.header.verticalSpacing&&o.default.unobserved(function(){t.header.verticalSpacing=".5rem"}),this._dragHandleSet||o.default.unobserved(function(){t.setDragHandle(t.header)})},t.prototype.close=function(){return a.default.remove(this),this.Closed(),this},t.prototype.setDragHandle=function(e){var t=this;this._dragHandleSet=!0,this._dragHandleConnection&&this._dragHandleConnection.disconnect(),e&&(this._dragHandleConnection=e.Press.connect(function(e){l.default.start(e).moved.then(function(){l.default.current&&l.default.current.pickUp(t.out.element)})}))},t}(u.default);i([o.default.observable_string],p.prototype,"width",void 0),t.DialogContainer=p,function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.label="×",t.style.set({lineHeight:"0"}),t.style_button.set({fontSize:"1.5em",height:"auto",lineHeight:"1.1rem",fontFamily:"initial",top:"-.1em"}),t.tooltipTitle="Close",t}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.out.element.setAttribute("data-dismiss","modal")},t}(d.TextButton);e.TopCloseButton=t}(p=t.DialogContainer||(t.DialogContainer={})),t.DialogContainer=p,p.setGlobalCSS("DialogContainer"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=p},function(e,t,n){"use strict";function r(e){function t(){try{return d.current&&h&&d.current.update(h.clientX,h.clientY)}finally{f.default.yieldAll()}}var n=!h;h=e,n?t():p||(p=window.setTimeout(function(){var e=t();p=void 0,e&&r(h)},v))}function i(){d.current&&d.current.drop(),f.default.yieldAll()}function o(e){if(d.current){var t=e.relatedTarget;t&&"HTML"!=t.nodeName||d.current.cancel()}}function a(e){d.current&&27==e.keyCode&&d.current.cancel()}function s(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),document.removeEventListener("mouseout",o),document.removeEventListener("keydown",a),document.onselectstart=y,p&&window.clearTimeout(p),p=void 0,h=void 0}function l(){document.addEventListener("mousemove",r),document.addEventListener("mouseup",i),document.addEventListener("mouseout",o),document.addEventListener("keydown",a),y=document.onselectstart,document.onselectstart=function(){return!1}}var c=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=n(3);!function(){try{new CustomEvent("test")}catch(t){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),n};window.CustomEvent=e,e.prototype=window.Event.prototype}}();var d=function(e){function t(t,n,r,i){var o=e.call(this)||this;o.detail=null,o.Drop=f.default.defineSignal(),o.Cancel=f.default.defineSignal(),o._x=n,o._y=r,i&&(o.detail=i),t.setCapture&&t.setCapture(),o._origTarget=t,o.moved=new f.default.Promise(function(e){o._moved_resolve=e}),o.dropTarget=new f.default.Promise(function(e,t){o._dropTarget_resolve=e,o._dropTarget_reject=t}),o.dropTarget.then(function(){return o.Drop()},function(){return o.Cancel()}),o._setCoords=function(e,t){o._x=e,o._y=t},o._getTarget=function(e,t){return document.elementFromPoint(e,t)};var a=new CustomEvent("uidragstart",{bubbles:!0,cancelable:!0,detail:null});return t.dispatchEvent(a)?l():o.cancel(),o}return c(t,e),t.start=function(e,n){return t.current=new t(e.target,e.clientX,e.clientY,n)},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),t.prototype.constrain=function(e,t,n){var r=this,i=n||this._currentTarget||this._origTarget,o=i.getBoundingClientRect(),a=this._x-o.left+i.scrollLeft,s=this._y-o.top+i.scrollTop;this._setCoords=function(o,l){var c=i.getBoundingClientRect();e&&(o=a-i.scrollLeft+c.left),t&&(l=s-i.scrollTop+c.top),n&&(o<c.left&&(o=c.left),o>c.right&&(o=c.right),l<c.top&&(l=c.top),l>c.bottom&&(l=c.bottom)),r._x=o<0?0:o,r._y=l<0?0:l},this._setCoords(this._x,this._y)},t.prototype.pickUp=function(e,t){var n=this,r=e.getBoundingClientRect(),i=this._x-r.left,o=this._y-r.top;f.default.observe(function(){if("fixed"==e.style.position)e.style.top=n._y-o+"px",e.style.left=n._x-i+"px";else if(e.offsetParent){var t=e.offsetParent.getBoundingClientRect();e.style.position="absolute",e.style.top=n._y-o-t.top+"px",e.style.left=n._x-i-t.left+"px"}e.style.bottom="auto",e.style.right="auto"}).subscribe(),this._getTarget=function(t,n){e.setAttribute("hidden","hidden");var r=document.elementFromPoint(t,n);return e.removeAttribute("hidden"),r},t&&(this.Drop.connect(function(){return e.parentNode&&e.parentNode.removeChild(e)}),this.Cancel.connect(function(){return e.parentNode&&e.parentNode.removeChild(e)}))},t.prototype.cancel=function(){if(this._origTarget.releaseCapture&&this._origTarget.releaseCapture(),this._dropTarget_reject(new Error("Drag canceled")),t.current===this){var e=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget&&this._currentTarget.dispatchEvent(e),t.current=null,s()}},t.prototype.drop=function(){if(this._origTarget.releaseCapture&&this._origTarget.releaseCapture(),t.current===this&&this._currentTarget){var e=new CustomEvent("uidragdrop",{bubbles:!0,cancelable:!0,detail:this.detail}),n=!this._currentTarget.dispatchEvent(e);n&&this.cancel(),this._dropTarget_resolve(this._currentTarget);var r=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget.dispatchEvent(r),t.current=null,s()}else this.cancel()},t.prototype.update=function(e,t){var n=this._x,r=this._y;this._setCoords(e,t);for(var i=this._getTarget(this._x,this._y),o=i,a=!1;o&&!a;){if(1==o.nodeType){var s=o.getBoundingClientRect();this._x<s.left+32&&o.scrollLeft>0&&(o.scrollLeft=Math.max(0,o.scrollLeft-8),a=!0),this._y<s.top+32&&o.scrollTop>0&&(o.scrollTop=Math.max(0,o.scrollTop-8),a=!0),this._x>s.right-32&&o.scrollLeft<o.scrollWidth-o.clientWidth&&(o.scrollLeft=o.scrollLeft+8,a=!0),this._y>s.bottom-32&&o.scrollTop<o.scrollHeight-o.clientHeight&&(o.scrollTop=o.scrollTop+8,a=!0)}o=o.parentNode}if(a&&(i=this._getTarget(this._x,this._y)),n!==this._x||r!==this._y){this._moved_resolve(!0);var l=this._currentTarget;if(this._currentTarget=i,this._currentTarget&&this._currentTarget!==l){var c=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});l&&l.dispatchEvent(c);var u=new CustomEvent("uidragover",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget.dispatchEvent(u)}}return a},t}(f.default.ObservableObject);d.current=null,u([f.default.observable],d.prototype,"detail",void 0),u([f.default.observable],d.prototype,"_x",void 0),u([f.default.observable],d.prototype,"_y",void 0),t.Drag=d;var p,h,v=20,y=null;Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(16),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.raiseOnHover=!0,r.raiseOnFocus=!0,r.raised=!1,r._observeRaised=o.default.observe(function(){return r.raiseOnHover&&r.raiseOnFocus?!(!r.hoverState&&!r.hasFocus):r.raiseOnHover?!!r.hoverState:r.raiseOnFocus?!!r.hasFocus:r.raised}).map(function(e){r.raised=e,r.style.set(e?a.default.DROPCARD_UP:a.default.DROPCARD)}),r.raised=!!n,r}return r(t,e),t.prototype.render=function(){this._observeRaised.value,e.prototype.render.call(this)},t}(s.default);i([o.default.observable],l.prototype,"raiseOnHover",void 0),i([o.default.observable],l.prototype,"raiseOnFocus",void 0),i([o.default.observable],l.prototype,"raised",void 0),t.DropCardContainer=l,l.setGlobalCSS("DropCardContainer"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(6),l=n(21),c=n(22),u=n(14),f=function(e){function t(n,r){void 0===n&&(n="");var i=e.call(this)||this;i.secondary=!0,i.dropdown=null,i.popover=null,i.shrinkwrap=!0,i._observeState=o.default.observe(function(){return{primary:i.primary,secondary:i.secondary,active:i.active}}).map(function(e){e.primary?i.style_button.removeClass("btn-secondary").removeClass("btn-default").addClass("btn-primary"):e.secondary?i.style_button.removeClass("btn-primary").addClass("btn-secondary btn-default"):i.style_button.removeClass("btn-primary").removeClass("btn-secondary").removeClass("btn-default"),e.active?i.style_button.addClass("active"):i.style_button.removeClass("active")}),i.style_button=new a.default,i.DropdownClicked=o.default.defineSignal(),i.label=n,i.icon=r,i.style_button.addClass("btn");var l=!1;return i.Click.connect(function(e){i.disabled||(l||i.Press(e),i.Click(e),l=!1)}),i.Click=o.default.defineSignal(),i.Press.connect(function(e){i.disabled||i.Press(e),l=!0}),i.Press=o.default.defineSignal(),i.Click.connect(function(){if(i.dropdown&&i.dropdown.length)s.Menu.displayAsDropdown(i._btnElement,i.dropdown).then(function(e){return i.DropdownClicked(e)});else if(i.popover instanceof Function){var e=new s.PopOver(new i.popover,i.popoverTitle);i.popoverAbove?e.displayAbove(i._btnElement,i.popoverAnimation):e.displayBelow(i._btnElement,i.popoverAnimation)}else i.target&&t.ActivateTarget(i.target)}),i}return r(t,e),t.withLabel=function(e,t){return this.with({label:e,Click:t})},t.withIcon=function(e,t){return this.with({label:"",icon:e,Click:t})},t.prototype.render=function(){e.prototype.render.call(this);var t=this._btnElement;t||(t=this._btnElement=document.createElement("button"),t.type="button",this.out.element.id+=" "+Number(new Date),this.out.element.appendChild(t),this.out.elements={btn:t}),this.style_button.applyToObserved(t),t.disabled=this.disabled,c.default.renderInto(t,this.icon,this.icon?this.remGutter:0,this.label,this.badge),this.iconAfter&&c.default.renderInto(t,this.iconAfter,this.remGutter,"","",!0,!0),this.tooltipTitle&&(t.title=String(this.tooltipTitle)),this._observeState.value},t.prototype.focus=function(){this._btnElement&&u._focusElementASAP(this._btnElement)},t.prototype.blur=function(){this._btnElement&&this._btnElement.blur()},t}(l.default);f.ActivateTarget=o.default.defineSignal(),i([o.default.observable_string],f.prototype,"label",void 0),i([o.default.observable],f.prototype,"icon",void 0),i([o.default.observable],f.prototype,"iconAfter",void 0),i([o.default.observable],f.prototype,"remGutter",void 0),i([o.default.observable_string],f.prototype,"badge",void 0),i([o.default.observable_string],f.prototype,"tooltipTitle",void 0),i([o.default.observable],f.prototype,"disabled",void 0),i([o.default.observable],f.prototype,"active",void 0),i([o.default.observable],f.prototype,"primary",void 0),i([o.default.observable],f.prototype,"secondary",void 0),i([o.default.observable],f.prototype,"dropdown",void 0),i([o.default.observable],f.prototype,"popover",void 0),i([o.default.observable],f.prototype,"popoverAbove",void 0),i([o.default.observable_string],f.prototype,"popoverTitle",void 0),i([o.default.observable],f.prototype,"target",void 0),i([o.default.observable_nonNull],f.prototype,"style_button",void 0),t.Button=f,f.setGlobalCSS("Button",void 0,{" button":{width:"100%",marginTop:"-.25rem",marginBottom:"-.25rem"}});var d=function(e){function t(){var t=e.apply(this,arguments)||this;return t.primary=!0,t}return r(t,e),t}(f);t.PrimaryButton=d;var p=function(e){function t(t,n){void 0===t&&(t="");var r=e.call(this,t,n)||this;return r.Click.connect(function(){r.active=!r.active}),r}return r(t,e),t}(f);t.ToggleButton=p;var h=function(e){function t(t,n){void 0===t&&(t="");var r=e.call(this,t,n)||this;return r.secondary=!1,r.style_button.addClass("btn-link"),r}return r(t,e),t}(f);t.LinkButton=h,h.setGlobalCSS("LinkButton");var v=function(e){function t(t,n){void 0===t&&(t="");var r=e.call(this,t,n)||this;return r.secondary=!1,r.style_button.set({border:"0",boxShadow:"none",outline:"0",background:"transparent",padding:"0",margin:"0",width:"auto",minWidth:"0",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",fontStyle:"inherit",height:"auto",lineHeight:"1em",verticalAlign:"baseline",color:"inherit"}),r}return r(t,e),t}(f);t.TextButton=v,v.setGlobalCSS("TextButton");var y=function(e){function t(t,n){void 0===t&&(t="");var r=e.call(this,t,n)||this;return r.style_button.set({padding:"0",border:"0",outline:"0",borderRadius:"50%",boxShadow:"none",overflow:"hidden",minWidth:"2.2em",maxWidth:"2.2em",height:"2.2em"}),r}return r(t,e),t}(f);t.RoundButton=y,y.setGlobalCSS("RoundButton"),f.ActivateTarget.connect(function(e){"string"==typeof e&&(window.location.href=e)}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(9),s=n(4),l=function(e){function t(){var n=e.call(this)||this;return n.elementID="C_"+t._lastEltID++,n.width="auto",n.shrinkwrap=!1,n.wrapText=!1,n.tagName="element",n._observeWidth=o.default.observe(function(){return[n.width,n.shrinkwrap]}).map(function(e){var t=e[0],r=e[1];"auto"===t&&(t="");var i="%"===t.slice(-1);r?n.style.addClass("shrinkwrap").set({width:i&&t||"",minWidth:t,maxWidth:t}):n.style.removeClass("shrinkwrap").set({width:i&&t||"",minWidth:t,maxWidth:"none"})}),n._observeWrapText=o.default.observe(function(){return n.wrapText}).map(function(e){n.style.set({whiteSpace:e?"pre-wrap":""})}),n.Focus.connect(function(){n.hasFocus=n._domFocus=!0,t.ControlFocused(n)}),n.Blur.connect(function(){n.hasFocus=n._domFocus=!1}),n}return r(t,e),Object.defineProperty(t.prototype,"hasFocus",{get:function(){return!!this.hasFocus},set:function(e){var n=this;if(e!==(this._domFocus||!1))if(e){var r=function(){n.focus(),t.ControlFocused.connectOnce(function(e){e!==n&&(n.hasFocus=n._domFocus)})};this._canFocus?r():this.Rendered.connectOnce(r)}else this._canFocus&&this.blur()},enumerable:!0,configurable:!0}),t.prototype.render=function(){this.out||(this.out=new s.ComponentRenderHtmlOutput(this,document.createElement(this.tagName)),this.out.element.id=this.elementID,this._canFocus=!0),this._observeWidth.value,this._observeWrapText.value},t.prototype.focus=function(){},t.prototype.blur=function(){},t}(a.default);l.ControlFocused=o.default.defineSignal(),l._lastEltID=0,i([o.default.observable_string],l.prototype,"width",void 0),i([o.default.observable],l.prototype,"shrinkwrap",void 0),i([o.default.observable],l.prototype,"wrapText",void 0),i([o.default.observable],l.prototype,"hasFocus",null),t.ControlElement=l,l.setGlobalCSS("ControlElement",{position:"relative",display:"table-cell",verticalAlign:"middle",boxSizing:"border-box",borderSpacing:"initial",margin:"0",padding:"0",lineHeight:"normal",width:"auto",minWidth:"auto",whiteSpace:"pre"},{".shrinkwrap":{width:"1px",maxWidth:"none"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(21),s=n(14),l=function(e){function t(t,n,r,i){void 0===t&&(t="");var o=e.call(this)||this;return o.shrinkwrap=!0,o.text=t,o.icon=n,o.badge=i,void 0!==r&&(o.remGutter=r),o.tagName="p",o}return r(t,e),t.withText=function(e,t){return this.with({text:e,style:t})},t.prototype.render=function(){e.prototype.render.call(this);var n=this.out.element;t.renderInto(n,this.icon,this.remGutter,this.text,this.badge),this.tooltipTitle&&(n.title=this.tooltipTitle),this.focusable?n.tabIndex=0:n.removeAttribute("tabIndex")},t.renderInto=function(e,t,n,r,i,o,a){if(!o)for(;e.firstChild;)e.removeChild(e.firstChild);if(t||n>0){var s=document.createElement("icon");if(n>=0&&(s.style.width="1.3em",s.style.maxWidth="1.3em",s.style.overflow="visible",s.style.boxSizing="content-box",a?(s.style.paddingLeft=n+"rem",s.style.marginLeft="-1.3em"):(s.style.paddingRight=n+"rem",s.style.marginRight="-1.3em")),t){var l="";t=t.replace(/\s+([\w-]+)\s*=\s*(\"[^\"]*\"|[^\s]+)/g,function(e,t,n){return t=t.replace(/-\w/g,function(e){return e.charAt(1).toUpperCase()}),s.style[t]='"'===n.charAt(0)?JSON.parse(n):n,""}).replace(/\:(?:\"[^\"]*\"|[^\s]+)/,function(e){return e=e.slice(1),l='"'===e.charAt(0)?JSON.parse(e):e,""});var c=t.split("-",1)[0];c!==t&&(t=c+" "+t),s.className=t,s.innerText=l}e.appendChild(s)}var u=void 0!==r&&String(r);if(u){!t||n>0||(u=" "+u);var f=document.createElement("span");f.textContent=u,e.appendChild(f)}var d=void 0!==i&&String(i);if(d){var p=document.createElement("badge");p.className="badge tag tag-default",p.style.marginLeft=".5rem",p.textContent=d,e.appendChild(p)}return e},t.prototype.focus=function(){var e=this;o.default.defer(function(){return s._focusElementASAP(e.out.element)})},t.prototype.blur=function(){var e=this;o.default.defer(function(){return e.out.element.blur()})},t}(a.default);i([o.default.observable_string],l.prototype,"text",void 0),i([o.default.observable],l.prototype,"icon",void 0),i([o.default.observable],l.prototype,"remGutter",void 0),i([o.default.observable_string],l.prototype,"badge",void 0),i([o.default.observable_string],l.prototype,"tooltipTitle",void 0),i([o.default.observable],l.prototype,"focusable",void 0),t.Label=l,l.setGlobalCSS("Label",{cursor:"inherit",overflow:"hidden"});var c=function(e){function t(t,n,r,i){void 0===t&&(t="");var o=e.call(this,t,n,r,i)||this;return o.shrinkwrap=!1,o.style.override({maxWidth:"1px",textOverflow:"ellipsis"}),o}return r(t,e),t}(l);t.WideLabel=c,c.setGlobalCSS("WideLabel");var u=function(e){function t(){var t=e.apply(this,arguments)||this;return t.shrinkwrap=!1,t.wrapText=!0,t}return r(t,e),t}(l);u.LINE_HEIGHT="1.65em",t.Paragraph=u,u.setGlobalCSS("Paragraph",{lineHeight:u.LINE_HEIGHT});var f=function(e){function t(t,n,r,i){void 0===t&&(t="");var o=e.call(this,t,n,r,i)||this;return o.tagName="h1",o.style.override({fontSize:""}),o}return r(t,e),t}(l);t.Heading1=f,f.setGlobalCSS("Heading");var d=function(e){function t(){var t=e.apply(this,arguments)||this;return t.tagName="h2",t}return r(t,e),t}(f);t.Heading2=d;var p=function(e){function t(){var t=e.apply(this,arguments)||this;return t.tagName="h3",t}return r(t,e),t}(f);t.Heading3=p;var h=function(e){function t(){var t=e.apply(this,arguments)||this;return t.tagName="h4",t}return r(t,e),t}(f);t.Heading4=h;var v=function(e){function t(){var t=e.apply(this,arguments)||this;return t.tagName="h5",t}return r(t,e),t}(f);t.Heading5=v;var y=function(e){function t(){var t=e.apply(this,arguments)||this;return t.tagName="h6",t}return r(t,e),t}(f);t.Heading6=y,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(15),l=n(13),c=n(12),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.width="20rem",i.maxOuterWidth="90%",i.Closed=o.default.defineSignal(),i.style.set({minWidth:"auto"}),void 0!==n&&(i.width=n),void 0!==r&&(i.maxOuterWidth=r),i.style.set({borderTopWidth:"0",borderBottomWidth:"0",borderLeftWidth:"0",borderRightWidth:"0"}),i.displayOptions={modal:!0,shade:!0,horzAlign:c.default.HorzAlign.Left,vertAlign:c.default.VertAlign.Middle,onEsc:function(){i.close()}},i.animations.appear=s.default.basic.in.fadeRight.withTiming(300),i.animations.disappear=s.default.basic.out.fadeLeft.withTiming(300),i}return r(t,e),t.prototype.close=function(){return l.default.remove(this),this.Closed(),this},t.prototype.render=function(){this.style.set({maxWidth:"auto"===this.width?"none":this.width,width:this.maxOuterWidth}),e.prototype.render.call(this)},t}(c.default);i([o.default.observable_string],u.prototype,"width",void 0),i([o.default.observable_string],u.prototype,"maxOuterWidth",void 0),t.DrawerContainer=u;var f=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.displayOptions.horzAlign=c.default.HorzAlign.Right,i.animations.appear=s.default.basic.in.fadeLeft.withTiming(300),i.animations.disappear=s.default.basic.out.fadeRight.withTiming(300),i}return r(t,e),t}(u);t.OppositeDrawerContainer=f,u.setGlobalCSS("DrawerContainer panel panel-default card",[{display:"inline-table",borderSpacing:"0",borderRadius:"0",margin:"0"},a.default.DROPCARD_UP_SHADOW],{" > containerwrapper":{maxWidth:"none !important"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(9),s=n(12),l=n(6),c=n(10),u=n(14),f=function(e){function t(){var n=e.apply(this,arguments)||this;return n.header=null,n.headerHeight=t.HEADER_HEIGHT,n.footer=null,n.footerHeight=t.FOOTER_HEIGHT,n.leftGutter=null,n.leftGutterWidth=t.LEFT_GUTTER_WIDTH,n.rightGutter=null,n.rightGutterWidth=t.RIGHT_GUTTER_WIDTH,n.scrollable=!0,n}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.header=c._transformObservableInitializer(e,"header",s.default,n),t.footer=c._transformObservableInitializer(e,"footer",s.default,n),t.leftGutter=c._transformObservableInitializer(e,"leftGutter",s.default,n),t.rightGutter=c._transformObservableInitializer(e,"rightGutter",s.default,n)})},t.prototype.setHeaderRow=function(e,t){t instanceof l.Row||(t=(new l.Row).initializeWith(t instanceof Array?{
content:t}:t)),t.height=e,this.headerHeight=e,this.header=new s.default([t])},t.prototype.setFooterRow=function(e,t){t instanceof l.Row||(t=(new l.Row).initializeWith(t)),t.height=e,this.footerHeight=e,this.footer=new s.default([t])},t.prototype.render=function(){var t=!this.out;e.prototype.render.call(this),t&&(this._centerWrapper=document.createElement("layoutcenter"),this._headerWrapper=document.createElement("header"),this._footerWrapper=document.createElement("footer"),this._leftWrapper=document.createElement("layoutleft"),this._rightWrapper=document.createElement("layoutright"));var n=[],r=this.out,i="0",o="0",a="0",s="0";n.push(u._replaceInner(this._centerWrapper,[r.elements.wrapper])),this.leftGutter&&(this._leftWrapper.style.width=a=this.leftGutterWidth,"0"!==a&&n.push(u._replaceInner(this._leftWrapper,[this.leftGutter.out]))),this.rightGutter&&(this._rightWrapper.style.width=s=this.rightGutterWidth,"0"!==s&&n.push(u._replaceInner(this._rightWrapper,[this.rightGutter.out]))),this.header&&(this._headerWrapper.style.height=i=this.headerHeight,"0"!==i&&n.push(u._replaceInner(this._headerWrapper,[this.header.out]))),this.footer&&(this._footerWrapper.style.height=o=this.footerHeight,"0"!==o&&n.push(u._replaceInner(this._footerWrapper,[this.footer.out]))),this._centerWrapper.style.top=i,this._centerWrapper.style.bottom=o,this._centerWrapper.style.left=a,this._centerWrapper.style.right=s,this._leftWrapper.style.top=i,this._leftWrapper.style.bottom=o,this._rightWrapper.style.top=i,this._rightWrapper.style.bottom=o,this.style.set({overflow:"hidden"}),this._centerWrapper.style.overflow=this.scrollable?"auto":"hidden",u._replaceInner(r,n)},t.prototype.getChildren=function(){var t=e.prototype.getChildren.call(this);return this.leftGutter instanceof a.default&&t.unshift(this.leftGutter),this.rightGutter instanceof a.default&&t.push(this.rightGutter),this.header instanceof a.default&&t.unshift(this.header),this.footer instanceof a.default&&t.push(this.footer),t},t}(s.default);f.LEFT_GUTTER_WIDTH="18rem",f.RIGHT_GUTTER_WIDTH="22rem",f.HEADER_HEIGHT="4rem",f.FOOTER_HEIGHT="2rem",i([o.default.observable],f.prototype,"header",void 0),i([o.default.observable_string],f.prototype,"headerHeight",void 0),i([o.default.observable],f.prototype,"footer",void 0),i([o.default.observable_string],f.prototype,"footerHeight",void 0),i([o.default.observable],f.prototype,"leftGutter",void 0),i([o.default.observable_string],f.prototype,"leftGutterWidth",void 0),i([o.default.observable],f.prototype,"rightGutter",void 0),i([o.default.observable_string],f.prototype,"rightGutterWidth",void 0),i([o.default.observable],f.prototype,"scrollable",void 0),t.LayoutContainer=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f,f.setGlobalCSS("LayoutContainer",{display:"block"},{" > layoutcenter":{position:"absolute"}," > header":{position:"absolute",top:"0",left:"0",right:"0"}," > footer":{position:"absolute",bottom:"0",left:"0",right:"0"}," > layoutleft":{position:"absolute",left:"0"}," > layoutright":{position:"absolute",right:"0"}})},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(9),s=n(4),l=n(14),c=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.call(this)||this;r.height="auto",r.selected=!1,r.tagName="block",r._hasFocus=o.default.ObservableValue.fromValue(!1),r._hoverState=o.default.ObservableValue.fromValue(!1);var i=r._inner=t.length?t:void 0;if(i&&i[0]&&11===i[0].nodeType){var a=i[0].firstChild;for(i.length=0;a;)i.push(a),a=a.nextSibling}r.MouseOver.connect(function(){r._hoverState.value=!0}),r.MouseOut.connect(function(){r._hoverState.value=!1}),r.Blur.connect(function(){r._hasFocus.value=!1}),r.Focus.connect(function(){r._hasFocus.value=!0});var s=r.constructor._initFactory;return s&&s._isComponentFactory&&o.default.defer(s._init,[r]),r}return r(t,e),Object.defineProperty(t.prototype,"hoverState",{get:function(){return this._hoverState.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasFocus",{get:function(){return this._hasFocus.value},enumerable:!0,configurable:!0}),t.prototype.render=function(){this.out||(this.out=new s.ComponentRenderHtmlOutput(this,document.createElement(this.tagName))),this.height&&"auto"!==this.height?this.style.set({height:this.height}):this.style.set({height:""}),this._inner&&l._replaceInner(this.out,this._inner.map(function(e){return e instanceof o.default.ObservableValue&&(e=e.value),e instanceof a.default?e.out:e}))},t.prototype.getChildren=function(){return(this._inner||[]).map(function(e){return e instanceof o.default.ObservableValue?e.value:e}).filter(function(e){return e instanceof a.default})},t}(a.default);i([o.default.observable_string],c.prototype,"height",void 0),i([o.default.observable],c.prototype,"selected",void 0),t.Block=c,c.setGlobalCSS("Block",{lineHeight:"normal",display:"block",position:"relative",boxSizing:"border-box",textAlign:"left",outline:"0"},{" containerwrapper":{display:"table",borderSpacing:"0",height:"100%",margin:"0 auto"}," containerwrapper > div":{display:"table-cell"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(25),s=n(6),l=n(10),c=n(14),u=function(e){function t(t){var n=e.call(this)||this;return n.height="auto",n.container=t||new s.Container,n}return r(t,e),t.with=function(e){return a.default.with.call(this,e).afterEach(function(t,n){t.container=l._transformObservableInitializer(e,"container",s.Container,n)})},t.prototype.render=function(){e.prototype.render.call(this);var t=!this.height||"auto"===this.height;this.container instanceof s.LayoutContainer&&t?this.style.set({height:"100%"}):this.style.set({height:t?"":this.height}),c._replaceInner(this.out,[this.container&&this.container.out])},t.prototype.getChildren=function(){return this.container?[this.container]:[]},t}(a.default);i([o.default.observable],u.prototype,"container",void 0),i([o.default.observable_string],u.prototype,"height",void 0),t.ContainerBlock=u,u.setGlobalCSS("ContainerBlock",{fontSize:"0",lineHeight:"0"}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(25),s=function(e){function t(n,r,i,o,a){var s=e.call(this)||this;return s.lineStyle=t.DEFAULT_LINE_STYLE,s.color=n||t.DEFAULT_COLOR,s.thickness=r||t.DEFAULT_THICKNESS,s.margin=i||t.DEFAULT_MARGIN,o&&(s.insetLeft=o),a&&(s.insetRight=a),s.tagName="hr",s}return r(t,e),t.prototype.render=function(){this.style.set({borderWidth:"0 0 "+this.thickness,borderColor:this.color,borderStyle:this.lineStyle,marginTop:this.margin,marginBottom:this.margin,marginLeft:this.insetLeft,marginRight:this.insetRight}),e.prototype.render.call(this)},t}(a.default);s.DEFAULT_COLOR="rgba(0,0,0,.125)",s.DEFAULT_THICKNESS="1px",s.DEFAULT_LINE_STYLE="solid",s.DEFAULT_MARGIN=".5rem",i([o.default.observable],s.prototype,"lineStyle",void 0),i([o.default.observable],s.prototype,"color",void 0),i([o.default.observable],s.prototype,"thickness",void 0),i([o.default.observable],s.prototype,"margin",void 0),i([o.default.observable_string],s.prototype,"insetLeft",void 0),i([o.default.observable_string],s.prototype,"insetRight",void 0),t.Divider=s,s.setGlobalCSS("Divider",{boxSizing:"content-box",height:"0",lineHeight:"0",fontSize:"0",padding:"0",margin:"0",border:"0"}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(25),s=n(27),l=n(9),c=n(10),u=n(5),f=n(14),d=function(e){function t(t){var n=e.call(this)||this;return n.items=[],n.allowSelection=!1,n.selectedItem=null,n.selectedIndex=-1,n.SelectionChange=o.default.defineSignal(),n._dividers={},t&&(n.items=t),n.KeyDown.connect(function(e){function t(e,t,n){var r=e.childNodes[n?2*t:t];if(r)for(var i=r.offsetTop,o=r.offsetHeight;r.offsetParent;){var a=r.offsetParent;a.scrollTop+a.offsetHeight<i+o&&(a.scrollTop=i+o-a.offsetHeight),a.scrollTop>i&&(a.scrollTop=i),i+=a.offsetTop-a.scrollTop,r=a}}n.allowSelection&&e.target===e.currentTarget&&(38==e.keyCode&&n.selectedIndex>0&&(t(e.target,--n.selectedIndex,!!n.divider),e.preventDefault()),40==e.keyCode&&n.selectedIndex<n.items.length-1&&(t(e.target,++n.selectedIndex,!!n.divider),e.preventDefault()))}),n.PropertyChange.connect(function(e){var t=n.selectedIndex;switch(e){case"selectedIndex":for(var r=n.items.length-1;r>=0;r--)if(n.items[r]instanceof a.default){var i=n.items[r].selected=r===t;i?n.items[r].style.select():n.items[r].style.deselect()}t>=0?n.selectedItem=n.items[t]||null:n.selectedItem=null,n.SelectionChange({list:n,selectedIndex:n.selectedIndex,selectedItem:n.selectedItem});break;case"selectedItem":if(n.selectedItem){if(t<0||t>n.items.length||n.items[t]!==n.selectedItem){for(var o=n.selectedItem,r=n.items.length-1;r>=0;r--)if(n.items[r]===o)return void(n.selectedIndex=r);n.selectedItem=null,n.selectedIndex=-1}}else n.selectedItem=null,n.selectedIndex=-1}}),n.Rendered.connect(function(){o.default.observe(function(){return n.selectedIndex>n.items.length}).subscribe(function(){n.selectedIndex>n.items.length&&(n.selectedIndex=-1)})}),n}return r(t,e),t.with=function(e){var t=a.default.with.call(this,e).afterEach(function(t,n){t.items=c._transformFactoryArray("items",e.items,a.default,n),void 0!==e.selectedIndex&&(t.selectedIndex=e.selectedIndex)});return"string"==typeof e.items&&(t=t.bind("items",e.items)),t},t.withItems=function(e){return this.with({items:e})},t.prototype.render=function(){var t=this;e.prototype.render.call(this),this.allowSelection?this.out.element.tabIndex=0:this.out.element.removeAttribute("tabIndex");var n=[],r={},i=this.divider&&s.default.with(this.divider);this.items.forEach(function(e){if(i&&e&&n.length){var a=r[e.uid]=t._dividers[e.uid]||o.default.unobserved(function(){return i.create()});n.push(a)}e&&n.push(e)}),this._dividers=r;var a=this.allowSelection?this.items.map(function(e,n){return e&&e.Press.connect(function(){t.selectedIndex=n})}):null;this._clickConnections&&this._clickConnections.forEach(function(e){return e&&e.disconnect()}),this._clickConnections=a,this.allowSelection&&o.default.unobserved(function(){var e=t.selectedIndex;t.selectedItem!==(t.items[e]||null)&&(t.selectedIndex=-1,t.selectedIndex=e)}),f._replaceInner(this.out,n)},t.prototype.getChildren=function(){return this.items.filter(function(e){return e instanceof l.default})},t.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.name?t[this.name]=this.items.mapAsyncValues(function(e){return o.default.observe(function(){return e.getFormValues()})}):e.prototype.getFormValues.call(this,t),t},t.prototype.setFormValues=function(t){var n=this;o.default.unobserved(function(){n.name?t&&t[n.name]&&n.items.forEach(function(e,r){e&&e.setFormValues(t[n.name][r])}):e.prototype.setFormValues.call(n,t)})},t}(a.default);i([o.default.observable_nonNull],d.prototype,"items",void 0),i([o.default.observable],d.prototype,"divider",void 0),i([o.default.observable],d.prototype,"allowSelection",void 0),i([o.default.observable],d.prototype,"selectedItem",void 0),i([o.default.observable],d.prototype,"selectedIndex",void 0),i([o.default.observable],d.prototype,"name",void 0),t.List=d,t.ListSelectionHandler=u.ActionHandler,d.setGlobalCSS("List"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(6),s=n(25),l=n(26),c=n(9),u=n(5),f=n(14),d=function(e){function t(n,r,i,a){void 0===i&&(i=-1);var s=e.call(this)||this;if(s.navItems=[],s.type=t.Type.Tabs,s.NavChange=o.default.defineSignal(),s._li=[],s._containerBlock=new l.default,n&&(s.navItems=n),void 0!==r&&(s.type=r),s.selectedIndex=i,s.selectedKey=a,void 0!==a)s.selectedKey=a;else{var c=s.navItems[i];s.selectedKey=c?c.key:void 0}return s.PropertyChange.connect(function(e){switch(e){case"selectedIndex":var t=s.selectedIndex>=0?s.navItems[s.selectedIndex]:null;s.selectedKey=t?t.key:void 0,s.NavChange({navList:s,selectedIndex:s.selectedIndex,selectedKey:s.selectedKey});break;case"selectedKey":var n=s.selectedKey,r=s.navItems[s.selectedIndex];if(!r||r.key!=n){for(var i=0;i<s.navItems.length;i++)if(s.navItems[i].key==n)return void(s.selectedIndex=i);s.selectedIndex=-1}}}),s}return r(t,e),t.withItems=function(e){return this.with({navItems:e})},t.prototype.activate=function(e){var n="string"==typeof e?this.navItems.reduce(function(t,n,r){return n.key==e?r:t},-1):e,r=this.navItems[this.selectedIndex=n];return r.target&&t.ActivateTarget(r.target),this},t.prototype.render=function(){var n=this;if(e.prototype.render.call(this),this._ul||(this._ul=document.createElement("ul")),t.QueryActiveTarget.isConnected)for(var r=function(e){var r=i.navItems[e].target;if(!r)return"continue";var a=o.default.unobserved(function(){var i=new t.QueryActiveTarget(r).emit(),a=i.then(function(e){return o.default.observe(function(){return e.some(function(e){return!!e.value})})}),s=o.default.observe(a);return s.map(function(t){console.log("GOT: ",t),t&&(n.selectedIndex=e)})});a.value},i=this,s=0;s<this.navItems.length;s++)r(s);var l="nav ";switch(this.type){case t.Type.Tabs:l+="nav-tabs";break;case t.Type.Pills:l+="nav-pills";break;case t.Type.StackedPills:l+="nav-pills nav-stacked"}this.justified&&(l+="nav-justified"),this._ul.className=l,this._li.length=this.navItems.length,f._replaceInner(this._ul,this.navItems.map(function(e,t){if(!e)return null;var r=n._li[t];r||(n._li[t]=r=document.createElement("li"),r.appendChild(document.createElement("a")),r.onclick=function(){return n.activate(t),!1}),a.Label.renderInto(r.firstChild,e.icon,e.iconGutter,e.label,e.badge);var i=t===n.selectedIndex;return r.className=i?"nav-item active":"nav-item",r.firstChild.className=i?"nav-link active":"nav-link",r})),this.navItems&&this.navItems[this.selectedIndex]&&o.default.unobserved(function(){n._containerBlock.container=n.navItems[n.selectedIndex].container||null}),f._replaceInner(this.out,[this._ul,this._containerBlock.container?this._containerBlock.out:null])},t.prototype.getChildren=function(){return this.navItems.map(function(e){return e&&e.container}).filter(function(e){return e instanceof c.default})},t}(s.default);d.ActivateTarget=o.default.defineSignal(),d.QueryActiveTarget=o.default.defineSignal(),i([o.default.observable_nonNull],d.prototype,"navItems",void 0),i([o.default.observable],d.prototype,"selectedIndex",void 0),i([o.default.observable],d.prototype,"selectedKey",void 0),i([o.default.observable],d.prototype,"type",void 0),i([o.default.observable],d.prototype,"justified",void 0),t.NavList=d,function(e){}(d=t.NavList||(t.NavList={})),t.NavList=d,function(e){var t;!function(e){e[e.Tabs=0]="Tabs",e[e.Pills=1]="Pills",e[e.StackedPills=2]="StackedPills"}(t=e.Type||(e.Type={}))}(d=t.NavList||(t.NavList={})),t.NavList=d,t.NavListSelectionHandler=u.ActionHandler,d.setGlobalCSS("NavList"),d.ActivateTarget.connect(function(e){"string"==typeof e&&(window.location.href=e)}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(25),s=n(6),l=n(9),c=n(10),u=n(14),f=function(e){function t(n){var r=e.call(this)||this;return r.content=[],r.spacing=t.DEFAULT_SPACING,r._allShrink=o.default.observe(function(){return r.content.every(function(e){return!e||e.hidden||e.shrinkwrap&&!(e.width&&"%"===e.width.slice(-1))})}),void 0!==n&&(r.content=n),r.tagName="row",r}return r(t,e),t.with=function(e){return a.default.with.call(this,e).afterEach(function(t,n){t.content=c._transformFactoryArray("content",e.content,s.ControlElement,n)})},t.withContent=function(e){return this.with({content:e})},t.prototype.initializeWithContent=function(e){return this.initializeWith({content:e})},t.prototype.render=function(){if(e.prototype.render.call(this),this._wrapper||(this._wrapper=document.createElement("rowwrapper"),this.out.element.appendChild(this._wrapper)),this._wrapper.style.borderSpacing=this.spacing+" 0",this.height&&"auto"!==this.height){this.style.set({maxHeight:this.height,overflow:"hidden"});var t=parseFloat(this.height)||0,n=t?(t/2).toFixed(4)+this.height.replace(/^[\d\.]+/,""):"0";this._wrapper.style.marginTop=n,this._wrapper.style.marginBottom="0",this._wrapper.style.transform="translateY(-50%)",this._wrapper.style.msTransform="translateY(-50%)"}else{this.style.get("maxHeight")&&this.style.set({maxHeight:"none",overflow:"visible"});var r=this.verticalSpacing||this.spacing;this._wrapper.style.marginTop=r,this._wrapper.style.marginBottom=r,this._wrapper.style.transform="",this._wrapper.style.msTransform=""}u._replaceInner(this.out,this.content.map(function(e){return e&&e.out}).filter(function(e){return!!e}),this._wrapper),this._wrapper.style.width=this._allShrink.value?"auto":"100%"},t.prototype.getChildren=function(){return this.content.filter(function(e){return e instanceof l.default})},t}(a.default);f.DEFAULT_SPACING="1rem",i([o.default.observable_nonNull],f.prototype,"content",void 0),i([o.default.observable_string],f.prototype,"spacing",void 0),i([o.default.observable],f.prototype,"verticalSpacing",void 0),t.Row=f;var d=function(e){function t(){var t=e.apply(this,arguments)||this;return t.spacing="0",t.verticalSpacing="0",t}return r(t,e),t}(f);t.CloseRow=d;var p=function(e){function t(t){var n=e.call(this,t)||this;return n.style.set({position:"absolute",left:"0",right:"0"}),n}return r(t,e),t.prototype.fixLeft=function(e,t){return this.style.set({left:e,right:"auto",width:t||"auto",overflowX:"hidden"}),this},t.prototype.fixRight=function(e,t){return this.style.set({right:e,left:"auto",width:t||"auto"}),this},t}(f);t.OverlayRow=p;var h=function(e){function t(t){var n=e.call(this,t)||this;return n.style.set({top:"0"}),n}return r(t,e),t.prototype.moveDown=function(e){return this.style.set({top:e}),this},t}(p);t.TopOverlayRow=h;var v=function(e){function t(t){var n=e.call(this,t)||this;return n.style.set({bottom:"0"}),n}return r(t,e),t.prototype.moveUp=function(e){return this.style.set({bottom:e}),this},t}(p);t.BottomOverlayRow=v;var y=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(f);t.OppositeRow=y;var b=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(f);t.CenterRow=b,f.setGlobalCSS("Row",{lineHeight:"0",margin:"0",padding:"0",maxHeight:"none",overflow:"visible"},{" rowwrapper":{display:"table",marginLeft:"0",marginRight:"0"}}),y.setGlobalCSS("OppositeRow",void 0,{" rowwrapper":{marginLeft:"auto"}}),b.setGlobalCSS("CenterRow",void 0,{" rowwrapper":{marginLeft:"auto",marginRight:"auto"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(25),s=n(32),l=n(9),c=n(10),u=n(14),f=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this)||this;return i.options={},i._observeOptions=o.default.observe(function(){return{striped:i.options&&i.options.striped,bordered:i.options&&i.options.bordered,hover:i.options&&i.options.hover,condensed:i.options&&i.options.condensed}}).map(function(e){e.striped?i.style.addClass("table-striped"):i.style.removeClass("table-striped"),e.bordered?i.style.addClass("table-bordered"):i.style.removeClass("table-bordered"),e.hover?i.style.addClass("table-hover"):i.style.removeClass("table-hover"),e.condensed?i.style.addClass("table-condensed table-sm"):i.style.removeClass("table-condensed").removeClass("table-sm")}),i.header=new s.TableHeader(t,n),i.rows=r,i.tagName="table",i}return r(t,e),t.with=function(e){return a.default.with.call(this,e).afterEach(function(t,n){t.header=c._transformObservableInitializer(e,"header",s.TableHeader,n),t.rows=c._transformFactoryArray("rows",e.rows,s.default,n)})},t.withRows=function(e){return this.with({rows:e})},t.prototype.render=function(){e.prototype.render.call(this),this._thead||(this._thead=document.createElement("thead")),this._tbody||(this._tbody=document.createElement("tbody")),this._observeOptions.value;var t=this.header;u._replaceInner(this._thead,t&&t.columns&&t.columns.length?[t.out]:[]);var n=this.rows;n.forEach(function(e,t){e&&(e.rowIndex=t)}),u._replaceInner(this.out,n.map(function(e){return e&&e.out}),this._tbody),u._replaceInner(this.out.element,[n.length&&t&&t.columns.length?this._thead:null,this._tbody])},t.prototype.getChildren=function(){var e=this.rows.filter(function(e){return e instanceof l.default});return this.header&&e.unshift(this.header),e},t.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.name?t[this.name]=this.rows.mapAsyncValues(function(e){return o.default.observe(function(){return e.getFormValues()})}):e.prototype.getFormValues.call(this,t),t},t.prototype.setFormValues=function(t){var n=this;o.default.unobserved(function(){n.name&&t&&t[n.name]?n.rows.forEach(function(e,r){e&&e.setFormValues(t[n.name][r])}):e.prototype.setFormValues.call(n,t)})},t}(a.default);i([o.default.observable],f.prototype,"header",void 0),i([o.default.observable_nonNull],f.prototype,"rows",void 0),i([o.default.observable_nonNull],f.prototype,"options",void 0),i([o.default.observable],f.prototype,"name",void 0),t.Table=f,f.setGlobalCSS("Table table",{display:"table",margin:"0",borderSpacing:"initial"}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(25),l=n(6),c=n(9),u=n(10),f=n(14),d=function(e){function t(t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=[]);var i=e.call(this)||this;return i.rowIndex=-1,i.colTagName="td",i.columns=t,i.widths=n,i.styles=r,i.tagName="tr",i}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.columns=u._transformFactoryArray("columns",e.columns,l.ControlElement,n,!0)})},t.withColumns=function(e){return this.with({columns:e})},t.prototype.render=function(){var t=this;e.prototype.render.call(this);var n=this.colTagName,r=this.styles.length;f._replaceInner(this.out,this.columns.map(function(e,i){var o=document.createElement(n);if(e instanceof l.ControlElement&&(o.style.verticalAlign="middle"),i<r&&t.styles[i]){var c=t.styles[i];c instanceof a.default||(c=new a.default(c)),c.applyTo(o)}if(t.widths[i]&&(o.style.width=t.widths[i]),e instanceof s.default||e instanceof l.ControlElement){var u=document.createElement("div");u.style.display="inline-block",u.style.width="100%",u.appendChild(e.out.element),o.appendChild(u)}else o.innerText=e||0===e?String(e):"",o.style.whiteSpace="pre-wrap";return o}))},t.prototype.getChildren=function(){return this.columns.filter(function(e){return e instanceof c.default})},t}(s.default);i([o.default.observable_nonNull],d.prototype,"columns",void 0),i([o.default.observable_nonNull],d.prototype,"widths",void 0),i([o.default.observable_nonNull],d.prototype,"styles",void 0),t.TableRow=d;var p=function(e){function t(){var t=e.apply(this,arguments)||this;return t.colTagName="th",t}return r(t,e),t}(d);t.TableHeader=p,d.setGlobalCSS("TableRow",{display:"table-row",boxSizing:"border-box",position:"initial"}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(6),s=n(21),l=n(10),c=n(14),u=function(e){function t(t){var n=e.call(this)||this;return n.height="auto",n.block=t||new a.Row,n}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.block=l._transformObservableInitializer(e,"block",a.Block,n)})},t.prototype.render=function(){this.style.set({height:this.height}),e.prototype.render.call(this),c._replaceInner(this.out,[this.block&&this.block.out])},t.prototype.getChildren=function(){return this.block?[this.block]:[]},t}(s.default);i([o.default.observable],u.prototype,"block",void 0),i([o.default.observable_string],u.prototype,"height",void 0),t.BlockControl=u,u.setGlobalCSS("BlockControl"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(20),s=n(21),l=n(10),c=n(14),u=function(e){function t(t){var n=e.call(this)||this;return n.shrinkwrap=!0,n.makeActivePrimary=!0,n._watchActiveIndex=o.default.observe(function(){var e=Number(n.activeIndex),t=e>=0?n.buttons[e]:null;o.default.unobserved(function(){t&&(t.active=!0,n.makeActivePrimary&&(t.primary=!0)),n.multiToggle||n.buttons.forEach(function(e){e&&e!==t&&(e.active=!1)})})}),n._watchButtons=o.default.observe(function(){var e=n.multiToggle,t=n.makeActivePrimary;n.buttons.forEach(function(r,i){r&&o.default.unobserved(function(){return o.default.observe(function(){return r.active}).map(function(o){o?n.activeIndex=i:e||n.activeIndex!==i?t&&(r.primary=!1):r.active=!0})}).value})}),n.buttons=t||[],n}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.buttons=l._transformFactoryArray("buttons",e.buttons,s.default,n),void 0!==e.activeIndex&&t.activate(t.activeIndex)})},t.withButtons=function(e,t,n,r){return this.with({buttons:e,activeIndex:t,multiToggle:n,Click:r})},t.prototype.activate=function(e){void 0===e&&(e=-1),e=Number(e);var t=this.buttons[e];this.activeIndex=t?e:void 0,t instanceof a.default&&!t.active&&t.Click()},t.prototype.render=function(){e.prototype.render.call(this),c._replaceInner(this.out,this.buttons.map(function(e){var t=e&&e.out;return e&&e.width&&e.style_button.set("width","auto"===e.width?"":e.width),t?t.liveElement=t.elements&&t.elements.btn:null})),this.vertical?this.style.removeClass("btn-group").addClass("btn-group-vertical"):this.style.removeClass("btn-group-vertical").addClass("btn-group"),this._watchButtons.value,this._watchActiveIndex.value},t}(s.default);i([o.default.observable_nonNull],u.prototype,"buttons",void 0),i([o.default.observable],u.prototype,"vertical",void 0),i([o.default.observable],u.prototype,"makeActivePrimary",void 0),i([o.default.observable],u.prototype,"multiToggle",void 0),i([o.default.observable],u.prototype,"activeIndex",void 0),t.ButtonGroup=u,u.setGlobalCSS("ButtonGroup",void 0,{" button":{marginTop:"-.25rem",marginBottom:"-.25rem",float:"none"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(21),l=n(14),c=function(e){function t(t,n,r){void 0===t&&(t=100),void 0===n&&(n=100),void 0===r&&(r=1);var i=e.call(this)||this;return i.shrinkwrap=!0,i.style_canvas=new a.default,
i.width=t+"px",i.height=n+"px",i.scale=r,i._canvasElement=document.createElement("canvas"),i._canvasElement.width=t*r,i._canvasElement.height=n*r,i._2dCtx=i._canvasElement.getContext("2d"),i}return r(t,e),Object.defineProperty(t.prototype,"drawingContext",{get:function(){return this._2dCtx},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._2dCtx.clearRect(0,0,this._canvasElement.width,this._canvasElement.height)},t.prototype.getImageDataURL=function(e){return this._canvasElement.toDataURL(e)},t.prototype.getImageBlob=function(e){var t=this;if(this._canvasElement.toBlob)return new o.default.Promise(function(n){t._canvasElement.toBlob(n,e)});if(this._canvasElement.msToBlob)return o.default.Promise.resolve(this._canvasElement.msToBlob());throw new Error("Canvas to blob not supported")},t.prototype.render=function(){e.prototype.render.call(this),this.style_canvas.applyToObserved(this._canvasElement);var t=this.out.element;"px"===String(this.width).slice(-2)&&(this._canvasElement.width=parseFloat(String(this.width))*this.scale),"px"===String(this.height).slice(-2)&&(this._canvasElement.height=parseFloat(String(this.height))*this.scale),t.style.height=this.height,this._canvasElement.style.width=this.width,this._canvasElement.style.height=this.height,l._replaceInner(this.out,[this._canvasElement])},t}(s.default);i([o.default.observable_string],c.prototype,"height",void 0),i([o.default.observable_number],c.prototype,"scale",void 0),i([o.default.observable_nonNull],c.prototype,"style_canvas",void 0),t.Canvas=c,c.setGlobalCSS("Canvas",void 0,{" canvas":{display:"block"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=Image},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(6),s=n(21),l=n(10),c=n(14),u=function(e){function t(t){var n=e.call(this)||this;n.height="auto",n.container=t||new a.Container;var r=void 0;return o.default.observe(function(){return n.container instanceof a.LayoutContainer?n.container.maxContentWidth:""}).subscribe(function(e){n.width===r&&(e&&"auto"!==e?(n.width=e,n.shrinkwrap=!0):(n.width="auto",n.shrinkwrap=!1))}),n}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.container=l._transformObservableInitializer(e,"container",a.Container,n)})},t.prototype.render=function(){e.prototype.render.call(this),this.container instanceof a.LayoutContainer&&(!this.height||"auto"===this.height)?this.style.set({height:"100%"}):this.style.set({height:this.height||"auto"}),c._replaceInner(this.out,[this.container&&this.container.out])},t.prototype.getChildren=function(){return this.container?[this.container]:[]},t}(s.default);i([o.default.observable],u.prototype,"container",void 0),i([o.default.observable_string],u.prototype,"height",void 0),t.ContainerControl=u,u.setGlobalCSS("ContainerControl",{lineHeight:"0"}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(21),s=n(22),l=n(14),c=function(e){function t(t){var n=e.call(this)||this;return n.shrinkwrap=!0,n.icon=t||"",n}return r(t,e),t.withIcon=function(e){return this.with({icon:e})},t.prototype.render=function(){e.prototype.render.call(this);var t=this.out.element;s.default.renderInto(t,this.icon),this.tooltipTitle&&(t.title=this.tooltipTitle),this.focusable?t.tabIndex=0:t.removeAttribute("tabIndex")},t.prototype.focus=function(){var e=this;o.default.defer(function(){return l._focusElementASAP(e.out.element)})},t.prototype.blur=function(){var e=this;o.default.defer(function(){return e.out.element.blur()})},t}(a.default);i([o.default.observable_string],c.prototype,"icon",void 0),i([o.default.observable_string],c.prototype,"tooltipTitle",void 0),i([o.default.observable],c.prototype,"focusable",void 0),t.Icon=c,c.setGlobalCSS("Icon",{cursor:"inherit",textAlign:"center",lineHeight:"1em"}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(21),l=n(14),c=function(e){function t(t){void 0===t&&(t="");var n=e.call(this)||this;return n.shrinkwrap=!0,n.style_img=new a.default,n.hasError=!1,n.ready=new o.default.Promise(function(e){n._resolveReady=e}),n.imageUrl=t,n}return r(t,e),t.withUrl=function(e){return this.with({imageUrl:e})},t.prototype.render=function(){var t=this;e.prototype.render.call(this);var n=this.out.element;this._imgElement||(this._imgElement=document.createElement("img"),this._imgElement.onload=function(){t.hasError=!1,t._resolveReady(!0)},this._imgElement.onerror=function(){t.hasError=!0,t._resolveReady(!0)}),this.style_img.applyToObserved(this._imgElement),this._imgElement.src=this.imageUrl,l._replaceInner(this.out,[this._imgElement]),this.focusable?n.tabIndex=0:n.removeAttribute("tabIndex"),this.tooltipTitle&&(n.title=this.tooltipTitle)},t.prototype.focus=function(){var e=this;o.default.defer(function(){return l._focusElementASAP(e.out.element)})},t.prototype.blur=function(){var e=this;o.default.defer(function(){return e.out.element.blur()})},t}(s.default);i([o.default.observable_string],c.prototype,"imageUrl",void 0),i([o.default.observable_string],c.prototype,"tooltipTitle",void 0),i([o.default.observable],c.prototype,"focusable",void 0),i([o.default.observable_nonNull],c.prototype,"style_img",void 0),i([o.default.observable],c.prototype,"hasError",void 0),t.Image=c,c.setGlobalCSS("Image",void 0,{" img":{margin:"0",outline:"0",maxWidth:"100%"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(21),l=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this)||this;return n.style_bar=new a.default,n.progress=t,n.style_bar.set({transition:"width .5s ease"}),n}return r(t,e),t.withProgress=function(e){return this.with({progress:e})},t.prototype.render=function(){e.prototype.render.call(this),this._barElement||(this._barElement=document.createElement("span"),this.out.element.appendChild(this._barElement)),this.style_bar.set({width:(Math.max(0,Math.min(100,100*this.progress))||0)+"%"}),this.style_bar.applyToObserved(this._barElement),this.tooltipTitle&&(this.out.element.title=this.tooltipTitle)},t}(s.default);i([o.default.observable_number],l.prototype,"progress",void 0),i([o.default.observable_string],l.prototype,"tooltipTitle",void 0),i([o.default.observable_nonNull],l.prototype,"style_bar",void 0),t.ProgressBar=l,l.setGlobalCSS("ProgressBar",{background:"#f2f2f2",borderRadius:".25rem",height:"1rem",boxShadow:"inset 0 1px 3px rgba(0,0,0,.2)"},{" span":{float:"left",height:"100%",borderTopLeftRadius:".25rem",borderBottomLeftRadius:".25rem",background:"rgba(0,0,0,.5)",margin:"0"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(21),s=function(e){function t(t){void 0===t&&(t="1px");var n=e.call(this)||this;return n.tagName="spacer",void 0!==t&&(n.height=t),n}return r(t,e),t.prototype.render=function(){var t="1px"===this.height?"":this.height;this.style.set({height:t,lineHeight:t}),e.prototype.render.call(this),this.out.element.innerHTML="&#8203;"},t}(a.default);i([o.default.observable_string],s.prototype,"height",void 0),t.Spacer=s,s.setGlobalCSS("Spacer",{height:"1px",lineHeight:"1px"}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(6),s=n(21),l=n(9),c=n(10),u=n(14),f=function(e){function t(n){var r=e.call(this)||this;return r.content=[],r.spacing=a.Row.DEFAULT_SPACING,r.horizontalAlign=t.Alignment.Start,void 0!==n&&(r.content=n),r.tagName="stack",r}return r(t,e),t.with=function(e){return s.default.with.call(this,e).afterEach(function(t,n){t.content=c._transformFactoryArray("content",e.content,s.default,n)})},t.withContent=function(e){return this.with({content:e})},t.prototype.initializeWithContent=function(e){return this.initializeWith({content:e})},t.prototype.render=function(){var n=this;e.prototype.render.call(this),this._wrappers||(this._wrappers=o.default.unobserved(function(){return n.content.mapAsync(function(e){return o.default.observe(function(){if(!(e instanceof l.default))return null;var r=document.createElement("div");return r.style.padding=n.spacing+" 0",r.style.margin="-"+n.spacing+" 0",n.horizontalAlign===t.Alignment.End?r.style.marginLeft="auto":n.horizontalAlign===t.Alignment.Center&&(r.style.marginLeft=r.style.marginRight="auto"),r.appendChild(e.out.element),r})})})),u._replaceInner(this.out,this._wrappers)},t.prototype.getChildren=function(){return this.content.filter(function(e){return e instanceof l.default})},t}(s.default);i([o.default.observable_nonNull],f.prototype,"content",void 0),i([o.default.observable_string],f.prototype,"spacing",void 0),i([o.default.observable],f.prototype,"horizontalAlign",void 0),t.Stack=f,function(e){var t;!function(e){e[e.Start=0]="Start",e[e.Center=1]="Center",e[e.End=2]="End"}(t=e.Alignment||(e.Alignment={}))}(f=t.Stack||(t.Stack={})),t.Stack=f;var d=function(e){function t(){var t=e.apply(this,arguments)||this;return t.spacing="0",t}return r(t,e),t}(f);t.CloseStack=d,f.setGlobalCSS("Stack",void 0,{" > div":{display:"table",tableLayout:"fixed",borderSpacing:"0",width:"100%"}}),Object.defineProperty(t,"__esModule",{value:!0}),t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(21),l=function(e){function t(){var t=e.apply(this,arguments)||this;return t.style_label=new a.default,t.style_input=new a.default,t.ValueChange=t.defineDOMEventSignal("change"),t}return r(t,e),t}(s.default);i([o.default.observable_string],l.prototype,"name",void 0),i([o.default.observable_string],l.prototype,"label",void 0),i([o.default.observable_string],l.prototype,"tooltipTitle",void 0),i([o.default.observable],l.prototype,"disabled",void 0),i([o.default.observable_nonNull],l.prototype,"style_label",void 0),i([o.default.observable_nonNull],l.prototype,"style_input",void 0),t.InputControl=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(2),s=n(42),l=n(14),c=function(e){function t(n,r,i,s){void 0===n&&(n="checkbox"),void 0===i&&(i=t.Type.Checkbox),void 0===s&&(s=!1);var l=e.call(this)||this;return l.value="checked",l.shrinkwrap=!0,l.style_text=new a.default,l._observeChecked=o.default.observe(function(){return l.checked}).map(function(e){l._inputElement.checked=e}),l.label=r,l.name=n,l.type=i,l.checked=s,l.style_label.addClass("form-check-label"),l.style_input.addClass("form-check-input"),l.Click.connect(function(){if(l.checked=l._inputElement.checked,l.name&&l.type){var e=document.querySelectorAll('input[type="radio"][name="'+l.name+'"]'),t=document.createEvent("Events");t.initEvent("change",!0,!1);for(var n=0,r=e;n<r.length;n++){var i=r[n];i.dispatchEvent(t)}}}),l.ValueChange.connect(function(){l.checked=l._inputElement.checked}),l.Blur.connect(function(){l.checked=l._inputElement.checked}),l}return r(t,e),t.withName=function(e,t,n,r){return this.with({name:e,label:t,checked:n,value:r})},t.withRadioName=function(e,n,r,i){return this.with({name:e,label:n,checked:r,value:i,type:t.Type.Radio})},t.prototype.render=function(){e.prototype.render.call(this),this._inputElement||(this._labelElement=document.createElement("label"),this._inputElement=document.createElement("input"),this._textElement=document.createElement("span"),this._labelElement.appendChild(this._inputElement),this._labelElement.appendChild(document.createTextNode(" ")),this._labelElement.appendChild(this._textElement),this.out.element.appendChild(this._labelElement)),this.style_label.applyToObserved(this._labelElement),this.style_text.applyToObserved(this._textElement),this.style_input.applyToObserved(this._inputElement),this._inputElement.type=t.Type[this.type].toLowerCase(),this._inputElement.value=this.value,this._inputElement.disabled=this.disabled,this._inputElement.name=this.name,this._textElement.textContent=this.label,this.type?this.style.removeClass("checkbox").addClass("radio"):this.style.removeClass("radio").addClass("checkbox"),this.tooltipTitle&&(this._labelElement.title=this.tooltipTitle),this._observeChecked.value},t.prototype.getFormValues=function(e){return void 0===e&&(e={}),!this.name||!this.checked&&this.type||(e[this.name]=this.checked?void 0!==this.value?this.value:"checked":void 0),e},t.prototype.setFormValues=function(e){var t=this;o.default.unobserved(function(){t.name&&e&&Object.prototype.hasOwnProperty.call(e,t.name)&&(t.checked=t.type&&void 0!==t.value?e[t.name]===t.value:!!e[t.name])})},t.prototype.focus=function(){this._inputElement&&l._focusElementASAP(this._inputElement)},t.prototype.blur=function(){this._inputElement&&this._inputElement.blur()},t}(s.default);i([o.default.observable],c.prototype,"type",void 0),i([o.default.observable],c.prototype,"value",void 0),i([o.default.observable],c.prototype,"checked",void 0),i([o.default.observable_nonNull],c.prototype,"style_text",void 0),t.Checkbox=c,function(e){var t;!function(e){e[e.Checkbox=0]="Checkbox",e[e.Radio=1]="Radio"}(t=e.Type||(e.Type={}))}(c=t.Checkbox||(t.Checkbox={})),t.Checkbox=c,c.setGlobalCSS("Checkbox",{lineHeight:"1.4em"},{" label":{margin:"0",paddingTop:"0",paddingBottom:"0",display:"inline"}})},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(42),s=n(14),l=function(e){function t(t,n,r){void 0===t&&(t="select");var i=e.call(this)||this;i._observedValue="",i.label=n,i.options=r||[],i.name=t,i.style_label.addClass("form-control-label control-label").set({font:"inherit"}),i.style_input.addClass("form-control").set({boxSizing:"border-box",width:"100%"}),i.ValueChange.connect(function(){i._observedValue=i._selectElement.value}),i.Blur.connect(function(){i._observedValue=i._selectElement.value});var a=!1;return Object.defineProperty(i,"value",{enumerable:!0,configurable:!1,get:function(){var e=i._observedValue||"";return!a&&i._selectElement?i._selectElement.value:e},set:function(e){i._observedValue=e,a=!0}}),o.default.observe(function(){return i._observedValue}).subscribe(function(e){a=!1,i._selectElement?i._selectElement.value!=e&&(i._selectElement.value=e):i._initValueSet=e}),i}return r(t,e),t.withOptions=function(e,t,n){return void 0===n&&(n=[]),this.with({name:e,label:t,options:n})},t.prototype.render=function(){e.prototype.render.call(this),this._selectElement||(this._labelElement=document.createElement("label"),this._labelElement.htmlFor=this.elementID+"_select",this.out.element.appendChild(this._labelElement),this._selectElement=document.createElement("select"),this._selectElement.id=this.elementID+"_select",this.out.element.appendChild(this._selectElement)),this.style_input.applyToObserved(this._selectElement),this.style_label.applyToObserved(this._labelElement),s._replaceInner(this._selectElement,this.options.filter(function(e){return!!e}).map(function(e){var t=document.createElement("option"),n=t.textContent=String(e.text);return t.value=void 0!==e.value?e.value:n,t})),void 0!==this._initValueSet&&(this._selectElement.value=this._initValueSet,this._initValueSet=void 0),this._selectElement.disabled=this.disabled,this._selectElement.name=this.name;var t=this._labelElement.textContent=this.label;t?this.style_label.show():this.style_label.hide(),this.tooltipTitle&&(this._selectElement.title=this.tooltipTitle)},t.prototype.getFormValues=function(e){return void 0===e&&(e={}),this.name&&(e[this.name]=this.value),e},t.prototype.setFormValues=function(e){var t=this;o.default.unobserved(function(){t.name&&e&&Object.prototype.hasOwnProperty.call(e,t.name)&&(t.value=e[t.name])})},t.prototype.focus=function(){this._selectElement&&s._focusElementASAP(this._selectElement)},t.prototype.blur=function(){this._selectElement&&this._selectElement.blur()},t}(a.default);i([o.default.observable_nonNull],l.prototype,"options",void 0),i([o.default.observable],l.prototype,"_observedValue",void 0),t.SelectField=l,l.setGlobalCSS("SelectField"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(42),s=n(14),l=function(e){function t(n,r,i){void 0===n&&(n="text"),void 0===i&&(i=0);var a=e.call(this)||this;a.type=t.Type.Text,a.KeyPress=a.defineDOMEventSignal("keypress"),a.KeyUp=a.defineDOMEventSignal("keyup"),a.EnterPress=o.default.defineSignal(),a._observedValue="",a.label=r,a.name=n,a.textareaLines=i,a.style_label.addClass("form-control-label control-label").set({font:"inherit"}),a.style_input.addClass("form-control").set({boxSizing:"border-box",width:"100%"}),a.ValueChange.connect(function(){a._observedValue=a._inputElement.value}),a.Blur.connect(function(){a._observedValue=a._inputElement.value}),a.KeyDown.connect(function(e){13!=e.keyCode||a.textareaLines||(a._observedValue=a._inputElement.value,a.EnterPress(e))});var s=!1;return Object.defineProperty(a,"value",{enumerable:!0,configurable:!1,get:function(){var e=a._observedValue||"";return!s&&a._inputElement?a._inputElement.value:e},set:function(e){a._observedValue=e,s=!0}}),o.default.observe(function(){return a._observedValue}).subscribe(function(e){s=!1,void 0!==e&&null!==e||(e=""),a._inputElement?a._inputElement.value!=e&&(a._inputElement.value=e):a._initValueSet=e}),a}return r(t,e),t.withName=function(e,t,n){return this.with({name:e,label:t,placeholderText:n})},t.prototype.render=function(){e.prototype.render.call(this),this._inputElement||(this._labelElement=document.createElement("label"),this._labelElement.htmlFor=this.elementID+"_input",this.out.element.appendChild(this._labelElement),this._inputElement=document.createElement(this.textareaLines?"textarea":"input"),this._inputElement.id=this.elementID+"_input",this.out.element.appendChild(this._inputElement)),this.style_input.applyToObserved(this._inputElement),this.style_label.applyToObserved(this._labelElement),void 0!==this._initValueSet&&(this._inputElement.value=this._initValueSet,this._initValueSet=void 0),this._inputElement.disabled=this.disabled,this._inputElement.name=this.name,this._inputElement.placeholder=String(this.placeholderText||""),this.textareaLines?this._inputElement.rows=this.textareaLines:this._inputElement.setAttribute("type",t.Type[this.type].toLowerCase());var n=this._labelElement.textContent=this.label;n?this.style_label.show():this.style_label.hide(),this.tooltipTitle&&(this._inputElement.title=this.tooltipTitle)},t.prototype.selectText=function(e,t){var n=this;if(void 0===e&&(e=0),!this._inputElement)return void this.Rendered.connect(function(){return n.selectText(e,t)});if(t||0===t||(t=this._inputElement.value.length),this._inputElement.focus(),this._inputElement.createTextRange){var r=this._inputElement.createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",t),r.select()}else this._inputElement.setSelectionRange?this._inputElement.setSelectionRange(e,t):this._inputElement.selectionStart&&(this._inputElement.selectionStart=e,this._inputElement.selectionEnd=t);return this},t.prototype.getFormValues=function(e){return void 0===e&&(e={}),this.name&&(e[this.name]=this.value),e},t.prototype.setFormValues=function(e){var t=this;o.default.unobserved(function(){t.name&&e&&Object.prototype.hasOwnProperty.call(e,t.name)&&(t.value=e[t.name])})},t.prototype.focus=function(){this._inputElement&&s._focusElementASAP(this._inputElement)},t.prototype.blur=function(){this._inputElement&&this._inputElement.blur()},t}(a.default);i([o.default.observable],l.prototype,"type",void 0),i([o.default.observable_string],l.prototype,"placeholderText",void 0),i([o.default.observable],l.prototype,"_observedValue",void 0),t.TextField=l,function(e){var t;!function(e){e[e.Text=0]="Text",e[e.Password=1]="Password",e[e.DateTime=2]="DateTime",e[e.Date=3]="Date",e[e.Month=4]="Month",e[e.Time=5]="Time",e[e.Week=6]="Week",e[e.Number=7]="Number",e[e.Email=8]="Email",e[e.Url=9]="Url",e[e.Search=10]="Search",e[e.Tel=11]="Tel",e[e.Color=12]="Color"}(t=e.Type||(e.Type={}))}(l=t.TextField||(t.TextField={})),t.TextField=l,l.setGlobalCSS("TextField"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(11),s=n(6),l=n(7),c=n(8),u=function(e){function t(t,n,r){void 0===r&&(r="Dismiss");var i=e.call(this)||this;return i.headerText=t,i.messageText=n,i.buttonLabel=r,i}return r(t,e),t}(s.DialogContainer);u.initializer=s.DialogContainer.with({header:c.bind("headerText",function(e){return e?[e instanceof a.default?e:a.tl(e,s.WideLabel),s.Spacer,s.DialogContainer.TopCloseButton]:void 0}),content:[s.Row.with({content:c.bind("messageText",function(e){return e.mapAsync?[s.Stack.withContent(e.mapAsync(function(e){return e instanceof a.default?e:a.tl(e,s.Paragraph)}))]:[e instanceof a.default?e:a.tl(e,s.Paragraph)]}),verticalSpacing:"1.5rem"}),[s.Spacer,s.PrimaryButton.with({label:c.bind("buttonLabel"),hasFocus:!0,Click:"close"})]]}),i([o.default.observable],u.prototype,"headerText",void 0),i([o.default.observable],u.prototype,"messageText",void 0),i([o.default.observable],u.prototype,"buttonLabel",void 0),i([l.initializer],u,"initializer",void 0),t.MessageDialog=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(3),a=n(11),s=n(6),l=n(7),c=n(8),u=function(e){function t(t,n,r,i){void 0===r&&(r="Confirm"),void 0===i&&(i="Cancel");var a=e.call(this)||this;return a.Confirmed=o.default.defineSignal(),a.headerText=t,a.messageText=n,a.confirmButtonLabel=r,a.cancelButtonLabel=i,a.Confirmed.connect(function(){return a.close()}),a}return r(t,e),t}(s.DialogContainer);u.initializer=s.DialogContainer.with({header:c.bind("headerText",function(e){return e?[e instanceof a.default?e:a.tl(e,s.WideLabel),s.Spacer,s.DialogContainer.TopCloseButton]:void 0}),content:[s.Row.with({content:c.bind("messageText",function(e){return e.mapAsync?[s.Stack.withContent(e.mapAsync(function(e){return e instanceof a.default?e:a.tl(e,s.Paragraph)}))]:[e instanceof a.default?e:a.tl(e,s.Paragraph)]}),verticalSpacing:"1.5rem"}),[s.Spacer,s.LinkButton.with({label:c.bind("cancelButtonLabel"),hasFocus:!0,Click:"close"}),s.PrimaryButton.with({label:c.bind("confirmButtonLabel"),Click:"Confirmed"})]]}),i([o.default.observable],u.prototype,"headerText",void 0),i([o.default.observable],u.prototype,"messageText",void 0),i([o.default.observable],u.prototype,"confirmButtonLabel",void 0),i([o.default.observable],u.prototype,"cancelButtonLabel",void 0),i([l.initializer],u,"initializer",void 0),t.ConfirmationDialog=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(3),a=n(2),s=n(15),l=n(13),c=n(6),u=[],f=function(e){function t(n,r){void 0===r&&(r=4e3);var i=e.call(this)||this;i.timeout=r,i.initializeWith({content:n instanceof Array?n:n instanceof c.TextLabelFactory?[n]:[new c.TextLabelFactory(n,c.Paragraph)],Click:"close",animations:{appear:s.default.basic.in.fadeRight,disappear:s.default.basic.out.fade}}),i.style.set(a.default.DROPCARD_UP);var o,l="auto",u="auto",f="auto",d="auto",p="0",h=t.HORZ_OUTER_MARGIN_PX+"px",v=t.VERT_OUTER_MARGIN_PX+"px";switch(t.SCREEN_CORNER){case t.ScreenCorner.BottomCenter:o=s.default.basic.in.fadeUp,l=h,u=h,d=v,p="auto";break;case t.ScreenCorner.BottomLeft:o=s.default.basic.in.fadeRight,l=h,d=v;break;case t.ScreenCorner.BottomRight:o=s.default.basic.in.fadeLeft,u=h,d=v;break;case t.ScreenCorner.TopCenter:o=s.default.basic.in.fadeDown,l=h,u=h,p="auto";break;case t.ScreenCorner.TopLeft:o=s.default.basic.in.fadeRight,l=h;break;default:o=s.default.basic.in.fadeLeft,u=h}return i.style.set({top:f,bottom:d,left:l,right:u,width:"auto",marginLeft:p,marginRight:p,transition:"bottom .1s ease, top .1s ease",background:t.BG_COLOR,color:t.FG_COLOR,maxWidth:t.MAX_WIDTH,fontSize:a.default.getTextSize()}),i.animations.appear=o,i.animations.disappear=s.default.basic.out.fade,i}return i(t,e),t.closeAll=function(){for(var e=u.length-1;e>=0;e--)u[e].close()},t.prototype.display=function(){var e=this;if(!u.some(function(t){return t===e})){l.default.display(this,{stayOnTop:!0});var n=u.slice(0);u.push(this);var i=r||o.default.Promise.resolve(!0);return r=o.default.sleep(30).then(function(){i.then(function(){if(l.default.isDisplayed(e))if(t.SCREEN_CORNER>=t.ScreenCorner.TopLeft){var r=t.VERT_OUTER_MARGIN_PX;n.forEach(function(e){r+=e.out.element.offsetHeight+t.VERT_INNER_MARGIN_PX}),e.style.set({top:r+"px"})}else{var r=e.out.element.offsetHeight+t.VERT_INNER_MARGIN_PX;n.forEach(function(e){if(u.some(function(t){return t===e})){var t=parseInt(e.style.get("bottom"))||0;e.style.set("bottom",t+r+"px")}})}})}),o.default.Promise.sleep(this.timeout).then(function(){e.close()}),this}},t.prototype.close=function(){var e=this;if(!l.default.isDisplayed(this))return void(u=u.filter(function(t){return t!==e}));var n=[],r=u.indexOf(this),i=t.SCREEN_CORNER>=t.ScreenCorner.TopLeft?"top":"bottom";if(r>=0)if(u.splice(r,1),"top"===i)for(r;r<u.length;r++)n.push(u[r]);else for(r--;r>=0;r--)n.push(u[r]);if(n.length){var a=this.out.element.offsetHeight+t.VERT_INNER_MARGIN_PX;o.default.sleep(200).then(function(){n.forEach(function(e){var t=parseInt(e.style.get(i))||0;e.style.set(i,t-a+"px")})})}l.default.remove(this)},t}(c.BottomOverlayRow);f.SCREEN_CORNER=0,f.HORZ_OUTER_MARGIN_PX=16,f.VERT_OUTER_MARGIN_PX=12,f.VERT_INNER_MARGIN_PX=8,f.MAX_WIDTH="22rem",f.BG_COLOR="rgba(64,64,64,.8)",f.FG_COLOR="#fff",t.Notification=f;var d=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.display=function(){return this.style.addClass("alert alert-info").set({border:"",
background:"",color:""}),e.prototype.display.call(this)},t}(f);t.InfoAlertNotification=d;var p=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.display=function(){return this.style.addClass("alert alert-success").set({border:"",background:"",color:""}),e.prototype.display.call(this)},t}(f);t.SuccessAlertNotification=p;var h=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.display=function(){return this.style.addClass("alert alert-warning").set({border:"",background:"",color:""}),e.prototype.display.call(this)},t}(f);t.WarningAlertNotification=h;var v=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.display=function(){return this.style.addClass("alert alert-danger").set({border:"",background:"",color:""}),e.prototype.display.call(this)},t}(f);t.DangerAlertNotification=v,function(e){var t;!function(e){e[e.BottomLeft=0]="BottomLeft",e[e.BottomRight=1]="BottomRight",e[e.BottomCenter=2]="BottomCenter",e[e.TopLeft=3]="TopLeft",e[e.TopRight=4]="TopRight",e[e.TopCenter=5]="TopCenter"}(t=e.ScreenCorner||(e.ScreenCorner={}))}(f=t.Notification||(t.Notification={})),t.Notification=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(3),o=n(13),a=n(2),s=n(9),l=n(25),c=n(22),u=function(){function e(e){this.options=e?e.slice():[]}return e.displayAsContextMenu=function(t,n){return new e(n)._display({x:t.clientX,y:t.clientY})},e.displayAsDropdown=function(t,n){var r=t.getBoundingClientRect();return new e(n)._display({x:r.right,y:r.bottom},!0,r.bottom-r.top)},e.prototype.display=function(e,t){return this._display(e,t)},e.prototype._display=function(t,n,r,a,s){this.options||(this.options=[]);var l=document.body.clientWidth,u=document.createElement("ul");u.style.cssFloat="none",u.style.position="static",u.style.boxShadow="none",u.style.margin="0",u.className="dropdown-menu show";var d=document.createElement("div");d.className="dropdown open",d.appendChild(u);var p,h,v=new f(d),y=new i.default.Promise(function(e,t){p=e,h=t});if(t.x+200<l&&(!n||t.x<200)?v.style.set({left:t.x+"px",right:"auto"}):v.style.set({right:l-t.x+(a||0)+"px",left:"auto"}),t.y+this.options.length*e.ITEM_HEIGHT_PX+10<o.default.height)v.style.set({top:t.y+"px",bottom:"auto"});else{v.style.set({bottom:o.default.height-t.y+(r||0)+"px",top:"auto"});var b=function(){v.out.element.offsetTop<0&&v.style.set({top:"0",bottom:"auto"})};window.setTimeout(b,10),window.setTimeout(b,50),window.setTimeout(b,100)}var _,m=200,g=-1,w=function(){g=-1;for(var e=v.out.element;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)},O=this.options.some(function(e){return e&&!!e.icon});return this.options.forEach(function(t,n){if(t){var r=document.createElement("li");if(t.disabled&&(r.className="disabled"),t.divider)r.className="divider dropdown-divider";else{var i=document.createElement("a");if(i.className="dropdown-item",t.disabled?i.className+=" disabled":i.href="#",i.tabIndex=0,i.style.cursor="pointer",c.default.renderInto(i,t.icon,O?1.5:0,String(t.label)),O&&(i.style.paddingLeft=".5rem"),t.iconRight){var a=document.createElement("span");a.style.cssFloat="right",c.default.renderInto(a,t.iconRight),i.appendChild(a)}r.appendChild(i),t.disabled||t.subMenu?i.style.cursor="default":i.onclick=function(e){e.preventDefault(),s||o.default.remove(v),p(t.key||n+1)},i.onmouseover=function(){_&&(window.clearTimeout(_),_=null),g!=n&&(_=window.setTimeout(function(){if(w(),_=null,t.subMenu){g=n;var i=r.getBoundingClientRect(),a=t.subMenu instanceof e?t.subMenu:new e(t.subMenu);a._display({x:i.right-5,y:i.top},!1,-e.ITEM_HEIGHT_PX,i.right-i.left-10,v.out.element.parentNode).then(function(e){if(s||o.default.remove(v),"number"==typeof e&&e>0){for(var t=100;t<=e;)t*=100;e=(n+1)*t+e}p(e)})}},m))}}u.appendChild(r)}}),u.onmouseout=function(e){_&&window.clearTimeout(_),e.target===u&&g<0&&(_=window.setTimeout(function(){w(),_=null},m))},s?s.appendChild(v.out.element):o.default.display(v,{modal:!0,margin:"0",escHandler:function(){o.default.remove(v),h(new Error)}}),y},e}();u.ITEM_HEIGHT_PX=28,t.Menu=u;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.style.set({position:"absolute",fontSize:a.default.getTextSize(),lineHeight:"normal"}).set(a.default.DROPCARD_UP).addClass(s.CSS_CLASS_PREFIX+"Menu"),n}return r(t,e),t}(l.default);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";var r=n(13),i=n(1),o=function(){function e(e,t){var n=this._arrow=document.createElement("div");n.className="arrow popover-arrow";var r;t&&(r=document.createElement("div"),r.className="popover-title",r.innerText=String(t));var o=new i.ContainerBlock(e);o.style.addClass("popover-content"),o.style.set({margin:"0",padding:"0"}),this._defWidth=!(!e||!e.maxContentWidth||"auto"===e.maxContentWidth),this._popover=new i.Block(n,r,o),this._popover.style.set({position:"relative"})}return e.prototype.close=function(){this._wrapper&&r.default.remove(this._wrapper),delete this._wrapper},e.prototype.displayBelow=function(e,t){var n=e&&e.getBoundingClientRect();n&&(this._popover.style.setClass("popover bottom popover-bottom show").set({transformOrigin:"top center"}),t&&(this._popover.animations.appear=t),this._display(n.left+n.right>>1,n.bottom))},e.prototype.displayAbove=function(e,t){var n=e&&e.getBoundingClientRect();n&&(this._popover.style.setClass("popover top popover-top show").set({transformOrigin:"bottom center"}),t&&(this._popover.animations.appear=t),this._display(n.left+n.right>>1,n.top-10,!0))},e.prototype._display=function(e,t,n){var o=this;this._wrapper&&r.default.remove(this._wrapper);var a=this._wrapper=new i.Block(this._popover),s=document.body.clientWidth,l=e>s>>1;a.style.set({position:"absolute",top:n?"auto":t+"px",bottom:n?r.default.height-t+"px":"auto",left:l?"auto":e+"px",right:l?s-e+"px":"auto",overflow:"visible",transform:l?"translateX(50%)":"translateX(-50%)"}),r.default.display(a,{modal:!0,margin:"0"}),this._defWidth&&this._popover.style.set("maxWidth","none");var c=function(){var t=o._popover.out.element.getBoundingClientRect();t&&(t.right>s?(a.style.set({right:"0",transform:""}),o._arrow.style.left="auto",o._arrow.style.right=s-e+"px",o._arrow.style.marginRight=window.getComputedStyle(o._arrow).marginLeft):t.left<0&&(a.style.set({left:"0",transform:""}),o._arrow.style.right="auto",o._arrow.style.left=e+"px"),t.bottom>r.default.height?(o._arrow.setAttribute("hidden","hidden"),a.style.set({bottom:"0",top:"auto"})):t.top<0&&(o._arrow.setAttribute("hidden","hidden"),a.style.set({top:"0",bottom:"auto"})))};window.setTimeout(c,10),window.setTimeout(c,50),window.setTimeout(c,100),this._arrow.removeAttribute("hidden")},e}();t.PopOver=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}])},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(1));var i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(2)),r(n(9))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(3)),r(n(5)),r(n(8)),r(n(6))},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=n(4),a=function(e){function t(t){var n=e.call(this)||this;return n.options={},n.Activating=o.default.defineSignal(),n.Activated=o.default.defineSignal(),n.Suspending=o.default.defineSignal(),n.Suspended=o.default.defineSignal(),n.Resuming=o.default.defineSignal(),n.Resumed=o.default.defineSignal(),n.Deactivated=o.default.defineSignal(),void 0!==t&&(n.title=t),n}return r(t,e),t.getInstance=function(){return new this},t}(o.default.ObservableObject);i([o.default.observable_string],a.prototype,"title",void 0),i([o.default.observable_seal],a.prototype,"state",void 0),i([o.default.observable_nonNull],a.prototype,"options",void 0),t.Activity=a;var s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resourcePath=n,r}return r(t,e),t}(a);t.ResourceActivity=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t){e.exports=n(1)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=n(4),o=n(3),a=n(6),s="_A"+String(Math.random()).slice(-5),l=0,c=null,u=function(){function e(){this.Transition=i.default.defineSignal(),this._topIndex=-1,this._stack=[],this._ids=[]}return e.prototype.pushAsync=function(e){var t=this;if(!(e instanceof o.default))throw new Error("Invalid activity");return this._upToHubOrRoot(e),this._transitionP=(this._transitionP||i.default.Promise.resolve(null)).then(function(n){c=null;var r;return t._findParents(e).forEach(function(e){var n=function(){return t._processTransition(e,f.Operation.Push)};r=r?r.then(n):n()}),r||n})},e.prototype.replaceAsync=function(e){var t=this;if(!(e instanceof o.default))throw new Error("Invalid activity");return this._upToHubOrRoot(e),this._transitionP=(this._transitionP||i.default.Promise.resolve(null)).then(function(n){c=null;var r=t._topIndex<0;if(r||t._stack[t._topIndex-1]!==e){var i;return t._findParents(e,!0).forEach(function(e){var n=function(){return t._processTransition(e,i||r?f.Operation.Push:f.Operation.Replace)};i=i?i.then(n):n()}),i||n}return t._processTransition(e,f.Operation.Pop)})},e.prototype.popAsync=function(e){var t=this;return this._transitionP=(this._transitionP||i.default.Promise.resolve(null)).then(function(){if(c=null,t._topIndex<0)throw new Error("No activity to suspend");return void 0!==e&&t.top!==e?i.default.Promise.resolve(null):t._processTransition(t._stack[t._topIndex-1],f.Operation.Pop)})},e.prototype.upAsync=function(e){var t=this,n=e instanceof o.default,r=function(){return(n?t.top===e:t.top instanceof e)?i.default.Promise.resolve(t.top):t._stack.some(function(t){return n?t===e:t instanceof e})?t._processTransition(t._stack[t._topIndex-1],f.Operation.Pop).then(function(){return r()}):i.default.Promise.resolve(null)};return this._transitionP=(this._transitionP||i.default.Promise.resolve(null)).then(function(){return c=null,r()})},e.prototype.restoreHistoryStateAsync=function(e){var t=this,n=this._ids.lastIndexOf(e);if(n<0&&"0"!==e)throw new Error("Cannot resume activities");return n===this._topIndex?i.default.Promise.resolve(null):(n<this._topIndex?this.popAsync():this.pushAsync(this._stack[this._topIndex+1])).then(function(){return t.restoreHistoryStateAsync(e)})},e.prototype.getHistoryState=function(){return this._ids[this._topIndex]||"0"},e.prototype.getParent=function(e,t){for(var n=this._stack[this._topIndex]===t,r=this._topIndex-1;r>=0;r--){if((n||!t)&&this._stack[r]instanceof e)return this._stack[r];this._stack[r]===t&&(n=!0)}},e.prototype.getViewByName=function(e){for(var t,n=this._topIndex;n>=0;n--)if((t=this._stack[n])instanceof a.default){var r=t.getViewByName(e);if(r)return r}},e.prototype.contains=function(e){for(var t=this._topIndex;t>=0;t--)if(this._stack[t]===e)return!0;return!1},Object.defineProperty(e.prototype,"top",{get:function(){if(!(this._topIndex<0))return this._stack[this._topIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._topIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){for(var e=this._topIndex;e>=0;e--)if(void 0!==this._stack[e].title)return this._stack[e].title;return""},enumerable:!0,configurable:!0}),e.prototype._findParents=function(e,t){for(var n=[e];n[0].options.parentActivity;){var r=n[0].options.parentActivity;if(r instanceof o.default){if(this.contains(r)&&(!t||this.top!==r))break;n.unshift(r)}else{if(!t&&this.top instanceof r||this.getParent(r))break;n.unshift(r.getInstance())}}return n},e.prototype._upToHubOrRoot=function(e){if(e.options.isRootActivity&&this.contains(e))this.upAsync(e),this._transitionP=this._transitionP.then(function(){return i.default.sleep(2)});else{var t;(t=e.options.parentActivity)&&(t instanceof o.default||(t=this.getParent(t)),t&&t.options.isHubActivity&&this.upAsync(t),this._transitionP=this._transitionP.then(function(){return i.default.sleep(2)}))}},e.prototype._processTransition=function(e,t){var n=this,r=Object.freeze({activityStack:this,operation:t,from:this.top,to:e,previous:c});if(c=r,this.top===e)return t===f.Operation.Pop&&this._topIndex--,i.default.Promise.resolve(r);var o=this.top,a=o?new o.Suspending(r).emit().results:[],u=!!e&&this.contains(e);return i.default.Promise.all(a).then(function(){return i.default.Promise.all(u?new r.to.Resuming(r).emit().results:r.to?new r.to.Activating(r).emit().results:[])}).then(function(){switch(n.Transition(r),r.operation){case f.Operation.Pop:n._topIndex--;break;case f.Operation.Replace:n._topIndex--;case f.Operation.Push:if(n._stack.length>n._topIndex+1&&n._stack[n._topIndex+1]===r.to)n._topIndex++;else{for(;n._stack.length>n._topIndex+1;){var e=n._stack.pop();n.contains(e)||e.Deactivated(r)}n._topIndex=n._stack.push(r.to)-1,n._ids.length=n._stack.length,n._ids[n._topIndex]=s+l++}}return r.to&&(u?r.to.Resumed(r):r.to.Activated(r)),o&&o.Suspended(r),r})},e}();r([i.default.observable],u.prototype,"_topIndex",void 0),r([i.default.observable],u.prototype,"_stack",void 0),t.ActivityStack=u;var f;!function(e){var t;!function(e){e[e.Push=0]="Push",e[e.Replace=1]="Replace",e[e.Pop=2]="Pop"}(t=e.Operation||(e.Operation={}))}(f=t.ActivityTransition||(t.ActivityTransition={})),Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=100),function(r){var i=e["_.mapView"];e["_.mapView"]=function(){var e=this;i&&i.call(this);var s;if(this.mapView(function(){return s||(s=new r(e))},t),n>0){var l=0;this.Suspended.connect(function(){var e=++l;o.default.sleep(n).then(function(){l===e&&s&&!a.Screen.isDisplayed(s)&&(s=void 0)})})}}}}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(4),a=n(7),s=n(3),l=n(5),c="",u=function(e){function t(t,n,r,i){var a=e.call(this,t,n)||this;return a.Displaying=o.default.defineSignal(),a.Displayed=o.default.defineSignal(),a._viewGetters={},r&&(a._viewGetters[c]=function(){return r}),i&&(a.options.parentActivity=i),a.Activated.connect(function(e){return a._displayMainView(!1,e)}),a.Resumed.connect(function(e){return a._displayMainView(!0,e)}),a.constructor&&a.constructor["_.mapView"]&&a.constructor["_.mapView"].call(a),a}return i(t,e),Object.defineProperty(t.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),t.prototype.mapView=function(e,t){void 0===t&&(t=c),this._viewGetters[t]=e},t.prototype.getViewByName=function(e){void 0===e&&(e=c);var t=this._viewGetters[e];return t&&o.default.unobserved(t)||void 0},t.prototype._displayMainView=function(e,n,r){var i=this,s=function(){if(i.options.parentActivity){var o="function"==typeof i.options.parentActivity?n.activityStack.getParent(i.options.parentActivity,i):i.options.parentActivity;o instanceof t&&o._displayMainView(e,n,r||i)}var s=i._viewGetters[c],l=i._view=s&&s.call(void 0)||void 0;if(l&&!a.Screen.isDisplayed(l))return l instanceof a.Container?(l.displayOptions.modal?l.Closed&&"function"==typeof l.Closed.connectOnce&&l.Closed.connectOnce(function(){n.activityStack.popAsync(i)}):a.Screen.clear(!0),l.display()):a.Screen.display(l),r?r.Suspended.connectOnce(function(e){return i._removeView(e)}):i.Suspended.connectOnce(function(e){return i._removeView(e)}),l};r?s():o.default.sleep(2).then(function(){if(n.activityStack.top===i){for(var t=n,r=0;t;t=t.previous,r++);var a=Object.seal({transition:n,view:void 0,firstDisplay:!e,forward:n.operation!==l.ActivityTransition.Operation.Pop,hops:r}),c=new i.Displaying(a);o.default.Promise.all(c.emit().results).then(function(){n.activityStack.top===i&&(a.view=s(),i.Displayed(a))},function(e){if(n.activityStack.top===i)throw n.activityStack.popAsync(i),new Error("Dropping activity: "+e.message)})}})},t.prototype._removeView=function(e){this._view&&a.Screen.remove(this._view,e.to instanceof t),delete this._view},t}(s.ResourceActivity);t.ViewActivity=u;var f=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this,a=o.constructor;if(a._instance)throw new Error("Cannot create another instance of this activity");return a._instance=o,o.options={isHubActivity:!0,isRootActivity:!0},o}return i(t,e),t.getInstance=function(){return this._instance||new this},t}(u);t.SingletonViewActivity=f;var d=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.options.isHubActivity=!0,i.options.isRootActivity=!0,i}return i(t,e),t}(f);t.RootViewActivity=d,t.mapToActivity=r,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u},function(e,t){e.exports=n(2)},function(e,t,n){"use strict";var r=n(4),i=n(3),o=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._parts=[],this._parts=e}return e.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=new e;return r._parts=t,r},e.prototype.toString=function(){var e="#/",t=!0,n=0,r=this._parts.map(function(r,o){r instanceof i.ResourceActivity&&(r=r.resourcePath);var a=String(r),s=a.match(/^(#|\.\.?)?\/|^#/);if(s){var l=s[0];"/"!==l&&"#/"!==l||(t=!0,n=o),t&&(e=l),a&&(t=!1),a=a.slice(l.length)}return a}).slice(n).filter(function(e){return!!e.length}).join("/");return e+r.replace(/\/+$/,"")},e.prototype.match=function(e){var t=String(this),n=!1;if("#"===t.charAt(0)?(e="#"+e.split("#").slice(1).join("#"),"#"===e&&(e="#/"),n=!0):"/"===t.charAt(0)&&"/"!==e.charAt(0)&&(e="/"+e.replace(/^\w*\:\/\//,"").replace(/#.*/,"").split("/").slice(1).join("/")),e.slice(0,t.length)===t&&(e.length===t.length||"/"===t.slice(-1)||"/"===e.charAt(t.length)))return{remainder:e.slice(t.length).replace(/^\/+/,""),isHash:n}},e}();t.ActivityResourcePath=o;var a=function(){function e(){this._Signal=r.default.defineSignal()}return e.prototype.register=function(e,t){var n=e;return e instanceof o||(n=o.prototype.concat.apply(new o,e instanceof Array?e:[e])),this._Signal.connect(this._getMatcher(n,t))},e.prototype.obtainAsync=function(e){var t=String(e),n=new this._Signal(t).emit();return r.default.Promise.all(n.results).then(function(e){var n=[];return e.forEach(function e(t){t instanceof Array?t.forEach(e):t instanceof i.default&&n.push(t)}),n.forEach(function(e){e instanceof i.ResourceActivity&&void 0===e.resourcePath&&(e.resourcePath=t)}),n})},e.prototype._getMatcher=function(e,t){return function(n){var r=e.match(n);if(r){if(t.length){for(var i=[],o=r.remainder.split("/"),a=0;a<t.length-1;a++)i.push(o.shift());return i.push(o.join("/")),t.apply(void 0,i)}if(!r.remainder)return t()}}},e}();t.ActivityResourceMap=a},function(e,t,n){"use strict";function r(e){return function(t){d.mapActivity(e,t)}}function i(e){return function(t){d.mapResource(e,function(e){return new t(e)})}}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=n(4),l=n(2),c=n(7),u=new l.ActivityResourceMap,f=!0,d=function(e){function t(n){var r=e.call(this)||this;if(r.title="",r.PageNotFound=s.default.defineSignal(),r.NoActivity=s.default.defineSignal(),r.activities=new l.ActivityStack,t.current||!t._resolve_ready)throw new Error("Cannot construct more than one Application instance");return t.current=r.constructor.current=r,r.title=n,c.Screen.ready.then(function(){t._resolve_ready(r),t._resolve_ready=null,r._listen(),s.default.defer(function(){r.activities.length||r._startLocationActivity()}),s.default.observe(function(){return[r.activities.title,r.title].filter(function(e){return!!e}).join(" - ")}).subscribe(function(e){document.title=e})}),c.Button.ActivateTarget.disconnectAll(),c.Button.ActivateTarget.connect(function(e){return r.startActivity(e)}),c.NavList.ActivateTarget.disconnectAll(),c.NavList.ActivateTarget.connect(function(e){return r.startActivity(e)}),c.NavList.QueryActiveTarget.disconnectAll(),c.NavList.QueryActiveTarget.connect(function(e){return s.default.observe(function(){return r.isActive(e)})}),r}return o(t,e),t.mapActivity=function(e,t){return u.register(e,function(){return t instanceof l.Activity?t:t?t.getInstance():e})},t.mapResource=function(e,t){return u.register(e,t)},t.disableBrowserHistory=function(){f=!1},t.prototype.mapActivity=function(e,n){return t.mapActivity(e,n),this},t.prototype.mapResource=function(e,n){return t.mapResource(e,n),this},t.prototype.getViewByName=function(e){return this.activities.getViewByName(e)},t.prototype.startActivity=function(e,t,n){var r=this;if(e instanceof Function&&e.getInstance&&(e=e.getInstance()),e instanceof l.Activity)return(t?this.activities.replaceAsync(e):this.activities.pushAsync(e)).then(function(e){return[e]});var i=this.activities.top,o=new l.ActivityResourcePath(i instanceof l.ResourceActivity?i:"",String(e)).toString();return"#"===o?o="#/":o||(o="/"),u.obtainAsync(o).then(function(e){return e.length?s.default.Promise.all(e.map(function(e){return t?r.activities.replaceAsync(e):r.activities.pushAsync(e)})):(n?window.location.href=o:r.PageNotFound(o),[])})},t.prototype.dropActivity=function(e){var t=this;return e?this.activities.upAsync(e).then(function(e){return s.default.sleep(2,e)}):this.activities.length?this.activities.popAsync().then(function(e){return s.default.sleep(10).then(function(){return e.to||t.activities.length||t.NoActivity(),e.to})}):(this.NoActivity(),s.default.Promise.resolve(null))},t.prototype.isActive=function(e){if(e instanceof l.Activity||"function"==typeof e)for(var t=this.activities.top;t;){if(t===e||t instanceof e)return!0;var n=t.options.parentActivity;n instanceof l.Activity?t=n:n&&(t=this.activities.getParent(n,t))}else if("string"==typeof e&&/^#?\.\.?\//.test(e)){var r=e.slice(e.indexOf("/")),i="#"===e.charAt(0)?window.location.hash:window.location.pathname;if(String(i).slice(-r.length)===r)return!0}else{var o=e instanceof l.ActivityResourcePath?e:new l.ActivityResourcePath(e);if(o.match(window.location.href))return!0}return!1},t.prototype._listen=function(){function e(e){n=!0;try{return e().then(function(){n=!1},function(){n=!1})}catch(e){throw n=!1,e}}var t=this,n=!1;window.addEventListener("hashchange",function(){if(f){var n=String(window.location.hash||"#");if(!window.history.state||!window.history.state.activityID){if("#__"===n.slice(0,3))return void e(function(){return t.activities.restoreHistoryStateAsync(n.slice(3))});"/"!==n.charAt(1)&&(n="#/"+n.slice(1)),e(function(){return t.startActivity(n)})}}});var r=null;window.addEventListener("popstate",function(n){if(f){var i=r=n.state&&n.state.activityID;i&&s.default.defer(function(){if(i===r&&i!==t.activities.getHistoryState())try{e(function(){return t.activities.restoreHistoryStateAsync(i)}).then(void 0,function(){t._updateHistoryState(l.ActivityTransition.Operation.Push)})}catch(e){t._startLocationActivity(!0)}})}}),this.activities.Transition.connect(function(e){if(n)window.history.state&&!window.history.state.activityID&&t._updateHistoryState(l.ActivityTransition.Operation.Replace);else{var r=e.operation;r!==l.ActivityTransition.Operation.Push||e.from||(r=l.ActivityTransition.Operation.Replace),t._updateHistoryState(r)}})},t.prototype._startLocationActivity=function(e){window.location.hash&&"#"!==window.location.hash?this.startActivity(decodeURIComponent(window.location.hash),e).then(void 0,function(){window.location.hash=""}):this.startActivity(decodeURIComponent(window.location.href),e)},t.prototype._updateHistoryState=function(e){if(f){var t=this.activities.top;switch(e){case l.ActivityTransition.Operation.Push:t instanceof l.ResourceActivity&&t.resourcePath?window.history.pushState?window.history.pushState({activityID:this.activities.getHistoryState(),path:t.resourcePath},this.title,String(t.resourcePath)):window.location.hash="#__"+this.activities.getHistoryState():window.history.pushState?window.history.pushState({activityID:this.activities.getHistoryState()},this.title):window.location.hash="#__"+this.activities.getHistoryState();break;case l.ActivityTransition.Operation.Replace:t instanceof l.ResourceActivity&&t.resourcePath?window.history.replaceState&&window.history.replaceState({activityID:this.activities.getHistoryState(),path:t.resourcePath},this.title,String(t.resourcePath)):window.history.replaceState&&window.history.replaceState({activityID:this.activities.getHistoryState()},this.title);break;case l.ActivityTransition.Operation.Pop:window.history.pushState&&window.history.back()}}},t}(s.default.ObservableObject);d.ready=new s.default.Promise(function(e){d._resolve_ready=e}),a([s.default.observable_string],d.prototype,"title",void 0),t.Application=d,t.mapToPath=r,t.mapToResource=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d}])}]);