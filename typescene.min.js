!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var i=n(1);e.Async=i,e.observable=i.observable,e.observe=i.observe;var r=n(2);e.UI=r;var o={Async:i,UI:r,observe:i.observe};e.__esModule=!0,e["default"]=o,"object"==typeof window&&(window.Async=i,window.UI=r,window.typescene=o)},function(t,e){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(1));var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(2)),i(n(3)),i(n(4)),i(n(5)),i(n(6)),i(n(7))},function(t,e,n){"use strict";function i(t){t||(s=!1);for(var e=Math.max(100,c.length>>2),n=0;n<c.length&&n<e;n++)try{c[n].apply(void 0,u[n])}catch(r){l.UnhandledException(r)}n<c.length?(c.splice(0,n),u.splice(0,n),s||(s=!0,a?window.postMessage("yield","*"):h=setTimeout(i,0))):(c.length=0,u.length=0,a||(h>=0&&clearTimeout(h),h=-1))}function r(t,e){c.push(t),u.push(e),s||(s=!0,a?window.postMessage("yield","*"):h=setTimeout(i,0))}function o(){return i(!0),c.length>0}var s,a,l=n(3),c=[],u=[],h=-1;e.defer=r,e.yieldAll=o,"object"==typeof window&&(window.addEventListener("message",function(){a=!0,i()}),setTimeout(function(){return window.postMessage("yield","*")},1))},function(t,e,n){"use strict";function i(t,e,n){void 0===t&&(t=s);var i=function(e){this instanceof i?t.apply(this,arguments):i.emit.apply(i,arguments)};if(t===s)i.connect=s.connect,i.connectOnce=s.connectOnce,i.disconnectAll=s.disconnectAll,i.isConnected=s.isConnected,i.emit=s.emit,i.emitSync=s.emitSync,i.prototype=Object.create(s.prototype);else{for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.prototype=Object.create(t.prototype)}return i.prototype.constructor=i,i._nHandlers=0,i._onUp=e,i._onDown=n,i}var r=n(2),o=n(4),s=function(){function t(t){this._emitted=!1,this._data=t}return t.connect=function(e){var n={disconnected:!1};return n.disconnect=t._connect.call(this,e,n),n},t.connectOnce=function(e){var n=!1,i=t._connect.call(this,function(t){n||(n=!0,i(),e(t))})},t._connect=function(t,e){var n=this;switch(this._nHandlers++){case 0:this._handler1=t,this._onUp&&this._onUp();break;case 1:this._handler2=t;break;default:(this._handlers||(this._handlers=[])).push(t)}return function(){switch(n._nHandlers){case 0:return;case 1:n._handler1===t&&(n._handler1=void 0,n._nHandlers--);break;case 2:n._handler1===t?(n._handler1=n._handler2,n._handler2=void 0,n._nHandlers--):n._handler2===t&&(n._handler2=void 0,n._nHandlers--);break;default:if(n._handler1===t)n._handler1=n._handler2,n._handler2=n._handlers.shift(),n._nHandlers--;else if(n._handler2===t)n._handler2=n._handlers.shift(),n._nHandlers--;else for(var i=0;i<n._nHandlers;i++)if(n._handlers[i]===t){n._handlers.splice(i,1),n._nHandlers--;break}}!n._nHandlers&&n._onDown&&n._onDown(),e&&(e.disconnected=!0)}},t.disconnectAll=function(){return this._nHandlers&&(this._handler1=void 0,this._handler2=void 0,delete this._handlers,this._nHandlers=0,this._onDown&&this._onDown()),this},t.isConnected=function(){return this._nHandlers>0},t.emitSync=function(t){if(this._nHandlers){this._handler1&&this._handler1.call(void 0,t),this._handler2&&this._handler2.call(void 0,t);var e=this._handlers;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&e[n].call(void 0,t)}},t.emit=function(t){if(this._nHandlers){this._handler1&&r.defer(this._handler1,arguments),this._handler2&&r.defer(this._handler2,arguments);var e=this._handlers;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&r.defer(e[n],arguments)}},t.prototype.emit=function(t){if(this._emitted)return this;this._emitted=!0;var e=this.constructor._nHandlers;if(!e)return this;var n=this.constructor._handler1,i=this.constructor._handler2,s=this.constructor._handlers,a=[this._data];if(t)r.defer(n,a),e>1&&r.defer(i,a),e>2&&s.forEach(function(t){return t&&r.defer(t,a)});else{var l=this._results=[n?o.Promise.defer(n,a):o.Promise.resolve(void 0)];e>1&&l.push(i?o.Promise.defer(i,a):o.Promise.resolve(void 0)),e>2&&s.forEach(function(t){return l.push(t?o.Promise.defer(t,a):o.Promise.resolve(void 0))})}return this._onEmit&&this._onEmit(!0),this},t.prototype.then=function(t,e){var n=this;return this._promise||(this._emitted?this._promise=o.Promise.all(this.results):this._promise=new o.Promise(function(t){n._onEmit=t}).then(function(){return o.Promise.all(n.results)})),this._promise.then(t,e)},t.prototype["catch"]=function(t){return this.then(void 0,t)},Object.defineProperty(t.prototype,"results",{get:function(){return this._results||[]},enumerable:!0,configurable:!0}),t._nHandlers=0,t}();e.Signal=s,e.defineSignal=i,e.UnhandledException=i(),e.UnhandledException.connect(function(t){try{t&&t.message&&console&&(console.warn||console.log)("Unhandled exception in asynchronous code - ",t)}catch(e){}})},function(t,e,n){"use strict";var i=n(2),r=n(3),o=function(){function t(t){this._Resolve=r.defineSignal(),this._Reject=r.defineSignal(),"function"==typeof t&&this._resolveWith(t)}return t.delay=function(e,n,r){var o=new t;return setTimeout(function(){o._resolveWith(function(t){return t(e.apply(void 0,r))}),i.yieldAll()},n),o},t.sleep=function(e,n){return t.delay(function(){return n},e)},t.defer=function(e,n){var r=new t;return i.defer(function(){r._resolveWith(function(t){return t(e.apply(void 0,n))})}),r},t.fn=function(e){return new t(function(t,n){e(function(e,i){e?n(e):t(i)})})},t.resolve=function(e){return(new t)._resolve(e)},t.reject=function(e){return(new t)._reject(e)},t.all=function(e){function n(){!i._isRejected&&i._resolve(r)}var i=new t,r=[],o=e.length;return e.forEach(function(t,e){t.then(function(t){r[e]=t,--o||n()},function(t){i._reject(t)})}),!o&&n(),i},t.race=function(e){var n=new t;return e.forEach(function(t){t.then(function(t){return n._resolve(t)},function(t){return n._reject(t)})}),n},t.prototype.then=function(e,n){var r=this,o=new t;return this._isResolved?"function"==typeof e?i.defer(function(){o._resolveWith(function(t){return t(e(r._value))})}):o._resolve(this._value):this._isRejected?("function"==typeof n?i.defer(function(){o._resolveWith(function(t){return t(n(r._error))})}):o._reject(this._error),this._hndRejection=!0):("function"==typeof e?this._Resolve.connect(function(t){return o._resolveWith(function(n){return n(e(t))})}):this._Resolve.connect(function(t){return o._resolve(t)}),"function"==typeof n?this._Reject.connect(function(t){return o._resolveWith(function(e){return e(n(t))})}):this._Reject.connect(function(t){return o._reject(t)})),o},t.prototype["catch"]=function(t){return this.then(void 0,t)},t.prototype._resolve=function(t,e){var n=this;if(!(this._isResolved||this._isRejected||this._resolving&&e!==this._resolving)){if(t===this)throw new TypeError("Recursive promise found");try{var i=t&&t.then;"function"!=typeof i||"object"!=typeof t&&"function"!=typeof t?(this._isResolved=!0,this._resolving=null,this._value=t,this._Resolve.emit(t)):(e=this._resolving={},i.call(t,function(t){n._resolve(t,e)},function(t){n._reject(t,e)}))}catch(r){this._reject(r,e)}}return this},t.prototype._resolveWith=function(t){var e=this;try{t(function(t){e._resolve(t)},function(t){e._reject(t)})}catch(n){this._reject(n)}return this},t.prototype._reject=function(t,e){var n=this;return this._isResolved||this._isRejected||this._resolving&&e!==this._resolving||(this._isRejected=!0,this._error=t,this._Reject.isConnected()?this._Reject.emit(t):i.defer(function(){n._hndRejection||r.UnhandledException.emit(t)})),this},t}();e.Promise=o,e.sleep=o.sleep},function(t,e,n){"use strict";function i(t){t.PropertyChange||Object.defineProperty(t,"PropertyChange",{configurable:!1,writable:!1,enumerable:!1,value:b.defineSignal()})}function r(t){return t instanceof Function?new w(t):t instanceof y.Promise?w.fromPromise(t):O.fromObject(t)}function o(t){var e=m,n=g;try{return m=null,g=null,t.apply(void 0,Array.prototype.slice.call(arguments,1))}finally{m=e,g=n}}function s(t,e,n){n||(n={enumerable:!0});var i=n.get,r=n.set,o=i||t[e];return n.set=function(t){i||r?(d(this,e,void 0,i&&i.bind(this),r&&r.bind(this),n.get["*observable-nonnull"],n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[e]=t):d(this,e,t,void 0,void 0,n.get["*observable-nonnull"],n.get["*observable-getfilter"],n.get["*observable-setfilter"])},n.get=function(){return d(this,e,i?void 0:o,i&&i.bind(this),r&&r.bind(this),n.get["*observable-nonnull"],n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[e]},n.get["*observable-getter"]=!0,n}function a(t,e,n){return n=s(t,e,n),n.get["*observable-getfilter"]=function(t){return t||0===t||t===!1?String(t):""},n}function l(t,e,n){return n=s(t,e,n),n.get["*observable-getfilter"]=function(t){return Number(t)},n}function c(t,e,n){return n=s(t,e,n),n.get["*observable-nonnull"]=!0,n}function u(t,e,n){return n=s(t,e,n),n.get["*observable-nonnull"]=!0,n.get["*observable-setfilter"]=function(t){if(!(t instanceof Object))throw new Error(t+" is not an instance of Object");return Object.isSealed(t)?t:Object.seal(t)},n}function h(t,e,n){return n=s(t,e,n),n.get["*observable-nonnull"]=!0,n.get["*observable-setfilter"]=function(t){if(!(t instanceof Object))throw new Error(t+" is not an instance of Object");return Object.isFrozen(t)?t:Object.freeze(t)},n}function f(t,e){var n=Object.getPrototypeOf(t);return n?Object.getOwnPropertyDescriptor(n,String(e))||f(n,e):null}function d(t,e,n,i,r,o,s,a){function l(){if(t[c])return t[c];var o;return n instanceof w?o=n:(o=new w,void 0!==n&&(o.value=a?a(n):n),i&&o.getter(i),r&&o.setter(r)),Object.defineProperty(t,c,{value:o,writable:!1,enumerable:!1,configurable:!0}),t.PropertyChange instanceof Function?(o.emitOnChange(t.PropertyChange,e),o._Observable_member=e,o._Observable_instance=t):t instanceof _.ObservableArray&&(o._Observable_index=e,o._Observable_array=t),o}var c=p(e);Object.prototype.hasOwnProperty.call(t,c)?O.deleteObservableProperty(t,e):Object.defineProperty(t,c,{configurable:!0,enumerable:!1,value:!1});var u=s?function(){return s(l().value)}:function(){return l().value},h=a?function(t){l().value=a(t)}:function(t){l().value=t};o?Object.defineProperty(t,e,{get:function(){var t=u();return void 0===t||null===t?function(){throw new Error(e+" is "+t)}():t},set:function(t){if(void 0===t||null===t)throw new Error(e+" cannot be "+t);h(t)},enumerable:!0,configurable:!0}):Object.defineProperty(t,e,{get:u,set:h,enumerable:!0,configurable:!0})}function p(t){return"*observable:"+t}var v=n(2),y=n(4),b=n(3),_=n(6),m=null,g=null,w=function(){function t(e,n){var i=this;this._uid=String(++t.UID),this._dirtyIdx=0,e&&(this._getter=e,this._dirtyIdx++),this._setter=n,this._Signal=b.defineSignal(void 0,function(){i._watched=!0,!i._depChecks||i._depChecks.length?(i._removeDependencies(),i._dirtyIdx++):i._removeDependencies()},function(){i._watched=!1,i._removeDependencies()})}return t.fromValue=function(e){var n=new t;return n.value=e,n},t.fromPromise=function(e){var n=new t;return e.then(function(t){n.value=t}),n},t.prototype.getter=function(t){return this._getter=t,t&&delete this._val,this._asyncEval(),this},t.prototype.setter=function(t){return this._setter=t,this},Object.defineProperty(t.prototype,"value",{get:function(){if(this._getting)return this._val;if(m?m._addConnection(this):g&&g._addCheck(this),this._needsEval()){this._oldConnections=this._depConnections;var e=this.hasOwnProperty("_val"),n=this._val,i=m,r=g;this._watched?(m=this,this._depConnections={}):(g=this,this._depChecks=[]),this._getting=!0,this._direct=!1;try{var o=this._getter.call(void 0);void 0===o&&this._direct||(this._val=o)}finally{this._getting=!1,m=i,g=r}this._valIdx=this._dirtyIdx;var s=this._oldConnections;if(delete this._oldConnections,this._depConnections)for(var a in s)this._depConnections[a]||s[a].disconnect();e&&this._val!==n&&(this._auxSignalers&&this._auxSignalers.forEach(function(t){return t()}),this._Signal.emitSync(this._val))}for(var l=this._val;l instanceof t;)l=l.value;return l},set:function(e){if(this._setter&&!this._setting||(e instanceof Array&&e.constructor===Array&&(e=_.ObservableArray.fromArray(e)),e instanceof Object&&e.constructor===Object&&(e=new O(e))),this._getting)this._val=e,this._direct=!0,this._valIdx=++this._dirtyIdx;else{if(this._getter&&!this._setter)throw new Error("Cannot set value");if((!this._setter||this._setting)&&this._val instanceof t&&this._val._setter)this._val.value=e;else if(this._setter&&!this._setting){this._setting=!0;try{this._setter.call(void 0,e)}finally{this._setting=!1}}else e!==this._val&&(this._val=e,this._auxSignalers&&this._auxSignalers.forEach(function(t){return t()}),this._Signal.emitSync(e),this._valIdx=++this._dirtyIdx)}},enumerable:!0,configurable:!0}),t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return String(this.value)},t.prototype.getLastValue=function(){for(var e=this._val;e instanceof t;)e=e.getLastValue();return e},t.prototype.watch=function(t){var e=this,n=this._Signal.connect(t&&function(e){return v.defer(t,[e])});return o(function(){return e.value}),n},t.prototype.map=function(e){var n,i=this,r={};return n=new t(function(){var t=i.value;return t===r?n.value:o(e,r=t)})},Object.defineProperty(t.prototype,"watched",{get:function(){return this._watched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){return!this._getter||!!this._setter},enumerable:!0,configurable:!0}),t.prototype.emitOnChange=function(t,e){this._auxSignalers||(this._auxSignalers=[]),this._auxSignalers.push(function(){t(e)})},t.prototype.clear=function(){this.getter(null).setter(null)},t.prototype._needsEval=function(){return!!this._getter&&((this._valIdx||0)!==this._dirtyIdx||!this._watched&&(!this._depChecks||this._depChecks.some(function(t){return t({})})))},t.prototype._asyncEval=function(){var t=this;(this._valIdx||0)!==this._dirtyIdx||this._getting||(this._dirtyIdx++,v.defer(function(){t._watched&&t._valIdx!==t._dirtyIdx&&t.value}))},t.prototype._addConnection=function(t){if(t!==this){var e=this._oldConnections&&this._oldConnections[t._uid]?this._oldConnections[t._uid]:t._Signal.connect(this._asyncEval.bind(this));(this._depConnections||(this._depConnections={}))[t._uid]=e,e._observable_dep=t}},t.prototype._addCheck=function(t){var e=this;if(t!==this){var n=t._dirtyIdx;(this._depChecks||(this._depChecks=[])).push(function(i){return!!i[e._uid]||(i[e._uid]=!0,t._dirtyIdx!==n||!t._depChecks||t._depChecks.some(function(t){return t(i)}))})}},t.prototype._removeDependencies=function(){delete this._depChecks;var t=this._depConnections;delete this._depConnections;for(var e in t)t[e].disconnect()},t.UID=0,t}();e.ObservableValue=w;var O=function(){function t(e){if(e instanceof Object){if(t.makeObservable(this,e),i(this),Object.isFrozen(e)){for(var n in e)this[n];Object.freeze(this)}else if(Object.isSealed(e)){for(var n in e)this[n];Object.seal(this)}}else i(this)}return t.fromObject=function(e){return new t(e)},t.mixin=function(e){return t.makeObservable(e,e)},t.prototype.hasObservableProperty=function(e){return t.isObservableProperty(this,e)},t}();e.ObservableObject=O,e.observe=r,e.unobserved=o,e.observable=s,e.observable_string=a,e.observable_number=l,e.observable_nonNull=c,e.observable_seal=u,e.observable_freeze=h;var O;!function(t){function e(e,n){if("string"==typeof n||"number"==typeof n){var r=String(n);d(e,r,e[r])}else{var o=n instanceof t;for(var s in n)(o?n.hasObservableProperty(s):Object.prototype.hasOwnProperty.call(n,s))&&d(e,s,n[s]);Object.defineProperty(e,"hasObservableProperty",{configurable:!1,writable:!1,enumerable:!1,value:t.prototype.hasObservableProperty}),i(e)}return e}function n(t,e){var n=p(e),i=t[n];i&&i.watched&&i.writable&&(i.value=void 0),delete t[e],delete t[n]}function r(t,e){var n=p(e);if(Object.prototype.hasOwnProperty.call(t,n))return!0;var i=f(t,e);return!!(i&&i.get&&i.get["*observable-getter"])}t.makeObservable=e,t.deleteObservableProperty=n,t.isObservableProperty=r}(O=e.ObservableObject||(e.ObservableObject={}))},function(t,e,n){"use strict";function i(t){var e=new s,n=0,i=function(e){return new o.ObservableValue(function(){var n=t.value;return n instanceof Array?n[e]:0===e&&null!==n?n:void 0})};return Object.defineProperty(e,"length",{get:function(){var r=t.value,s=r instanceof Array?r.length:void 0===r||null===r?0:1;if(s>n){for(var a={},l=n;l<s;l++)a[l]=i(l);o.ObservableObject.makeObservable(e,a)}else for(var l=s;l<n;l++)o.ObservableObject.deleteObservableProperty(e,l);return n=s},set:function(){throw new Error("Cannot modify length of mapped array")}}),o.unobserved(function(){return e.length}),e}function r(t){return s.fromObservableValue(new o.ObservableValue(t))}var o=n(5),s=function(){function t(){var t=this,e=o.ObservableValue.fromValue(0);Object.defineProperty(this,"length",{get:function(){return e.value},set:function(n){for(var i=e.getLastValue()||0;i<n;)o.ObservableObject.makeObservable(t,i++);for(var r=n;r<i;r++)o.ObservableObject.deleteObservableProperty(t,r);e.value=n},configurable:!0})}return t.fromArray=function(e){for(var n=new t,i=e.length-1;i>=0;i--)n[i]=e[i];return n.length=e.length,n},t.fromObservableValue=function(t){return i(t)},t.prototype.mapAsync=function(t,e){return 0},t}();e.ObservableArray=s,s.prototype=new Array,s.prototype.constructor=s;var a=s.prototype.push;s.prototype.push=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return o.unobserved(function(){return a.apply(t,e)})};var l=s.prototype.unshift;s.prototype.unshift=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return o.unobserved(function(){return l.apply(t,e)})},s.prototype.mapAsync=function(t,e){var n=this,i=new s,r=0,a=function(r){var s,a={};return s=new o.ObservableValue(function(){var l=n[r];return l===a?s.value:o.unobserved(function(o){return r>=0&&r<n.length?t.call(e||i,o,r,n):void 0},a=l)})};return Object.defineProperty(i,"length",{get:function(){var t=n.length;if(t>r){for(var e={},s=r;s<t;s++)e[s]=a(s);o.ObservableObject.makeObservable(i,e)}else for(var s=t;s<r;s++)o.ObservableObject.deleteObservableProperty(i,s);return r=t},set:function(){throw new Error("Cannot modify length of mapped array")}}),o.unobserved(function(){return i.length}),i},s.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Array.prototype.concat.apply(this.slice(0),t.map(function(t){return t instanceof s?t.slice(0):t}))},e.observeArray=r},function(t,e,n){"use strict";function i(t,e,n,i){return new o.Promise(function(r,o){try{var s=new XMLHttpRequest;if(s.open(t,e,!0),i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.setRequestHeader(a,i[a]);void 0!==n?(s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(n))):s.send(),s.onreadystatechange=function(){try{4==s.readyState&&(s.status>=200&&s.status<400?r(s.responseText):o(new Error("HTTP "+s.status+(s.responseText?": "+s.responseText:""))))}catch(t){o(t)}}}catch(l){o(l)}})}function r(t,e){return void 0===t&&(t={}),void 0===e&&(e="application/json"),t.Accept||(t.Accept=e),t}var o=n(4),s=function(){function t(){}return t.getText=function(t,e,n){if(e){var r=t.indexOf("?")<0;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t+=(r?"?":"&")+encodeURIComponent(o)+"="+encodeURIComponent(e[o]),r=!1)}return i("GET",t,void 0,n)},t.get=function(e,n,i){return t.getText(e,n,r(i)).then(function(t){return JSON.parse(t)})},t.post=function(t,e,n){return i("POST",t,e,r(n)).then(function(t){return JSON.parse(t)})},t.put=function(t,e,n){return i("PUT",t,e,r(n)).then(function(t){return JSON.parse(t)})},t["delete"]=function(t,e,n){return i("DELETE",t,e,r(n)).then(function(t){return JSON.parse(t)})},t.getHtmlContent=function(e,n,i){return t.getText(e,n,r(i,"text/html")).then(function(t){t=String(t||"");var e=t.match(/<body(?:>|\s[^>]+>)/m);if(e){t=t.slice(e.index+e[0].length);var n=t.lastIndexOf("</body>");n>=0&&(t=t.slice(0,n))}var i=document.createElement("div");i.innerHTML=t;for(var r=document.createDocumentFragment();i.firstChild;)r.appendChild(i.firstChild);return r})},t}();e.Http=s}])},function(t,e,n){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(1));var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(2)),i(n(6)),i(n(13)),i(n(18)),i(n(15)),i(n(21)),i(n(26))},function(t,e,n){"use strict";var i=n(3),r=n(4),o=n(1),s=0,a="1rem",l="",c="",u=function(){function t(t,e,n){var r=this;this._UID=s++,i["default"].unobserved(function(){r._status=new i["default"].ObservableValue,r._isOverridden=new i["default"].ObservableValue,r._className=i["default"].ObservableValue.fromValue(e||""),r._hidden=i["default"].ObservableValue.fromValue(n),r._selected=new i["default"].ObservableValue,void 0===e&&void 0===n||(r._status.value=2),t&&r.set(t)})}return t.applyGlobalCSS=function(e,n,r){var o=[];for(var s in e){var a,l=e[s];"string"==typeof l?a=l:(l instanceof t||(l=(new t).set(l)),a=l.getCSSText(),n&&(a=a.split(";").map(function(t){return t?t+" !important":""}).join("; "))),a&&o.push(s+" {"+a+"}")}if(r&&(o.unshift(r+" {"),o.push("}")),o.length){var u=!!c;c+=o.join("\n"),!u&&i["default"].defer(function(){if(c){var t=document.createElement("style");t.appendChild(document.createTextNode(c)),document.head.appendChild(t),c=""}})}},t.loadExternalCSS=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return i["default"].Promise.race([i["default"].Promise.sleep(1e3),i["default"].Promise.all(t.map(function(t){return new i["default"].Promise(function(e,n){var i=document.createElement("link");i.addEventListener("load",function(){e(null)}),i.addEventListener("error",function(){n(new Error)}),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),document.getElementsByTagName("head").item(0).appendChild(i)})}))])},t.setCSSRemSize=function(t){this.applyGlobalCSS({html:{fontSize:"string"==typeof t?t:t+"px"}})},t.setTextSize=function(t){o.Container.setGlobalCSS("Container",{fontSize:t}),a=t},t.getTextSize=function(){return a},t.setSelectionClass=function(t){l=String(t||"")},t.getSelectionClass=function(){return l},t.withClass=function(e){return new t((void 0),e)},t.prototype.addClass=function(t){var e=this;return t&&i["default"].unobserved(function(){e._status.value=2;var n={},i=String(e._className.value).split(/\s+/).filter(function(t){return t&&(n["_"+t]=!0)});t.split(/\s+/).forEach(function(t){t&&!n["_"+t]&&i.push(t)});e._className.value=i.join(" ");e._lastAppliedTo&&e._lastAppliedTo.element&&(e._lastAppliedTo.element.className+=" "+t)}),this},t.prototype.removeClass=function(t){var e=this;return i["default"].unobserved(function(){e._status.value=2;e._className.value=String(e._className.value).split(/\s+/).filter("string"==typeof t?function(e){return e!==t}:function(e){return!t.test(e)}).join(" ");e._lastAppliedTo&&e._lastAppliedTo.element&&(e._lastAppliedTo.element.className=e._lastAppliedTo.element.className.split(/\s+/).filter("string"==typeof t?function(e){return e!==t}:function(e){return!t.test(e)}).join(" "))}),this},t.prototype.setClass=function(t){var e=this;return i["default"].unobserved(function(){e._status.value=2,e._className.value=t}),this},t.prototype.getCSSText=function(){var t="";for(var e in this._cssProps)if(this._cssProps.hasObservableProperty(e)){var n=e.replace(/([A-Z])/g,"-$1").toLowerCase();t+=n+": "+this._cssProps[e]+"; "}return this._overrides&&this._overrides.forEach(function(e){t+=e.getCSSText()}),t.slice(0,-2)},t.prototype.get=function(t){var e=this._cssProps&&this._cssProps[t];return this._overrides&&this._overrides.forEach(function(n){var i=n.get(t);void 0!==i&&(e=i)}),e},t.prototype.hide=function(){var t=this;return i["default"].unobserved(function(){t._status.value=2,t._hidden.value=!0}),this},t.prototype.show=function(){var t=this;return i["default"].unobserved(function(){t._status.value||(t._status.value=1),t._hidden.value=!1}),this},t.prototype.select=function(){var t=this;return i["default"].unobserved(function(){t._status.value=2,t._selected.value=!0}),this},t.prototype.deselect=function(){var t=this;return i["default"].unobserved(function(){t._status.value||(t._status.value=1),t._selected.value=!1}),this},t.prototype.set=function(t,e){var n=this;return i["default"].unobserved(function(){if(n._cssProps||(n._cssProps=new i["default"].ObservableObject),"string"==typeof t)(n._cssProps[t]=e)?n._status.value=2:n._status.value||(n._status.value=1),n._cssProps.hasObservableProperty(t)||i["default"].ObservableObject.makeObservable(n._cssProps,t);else{var r,o;for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r=!0,(n._cssProps[s]=t[s])&&(o=!0),n._cssProps.hasObservableProperty(s)||i["default"].ObservableObject.makeObservable(n._cssProps,s));r&&(o?n._status.value=2:n._status.value||(n._status.value=1)),t instanceof i["default"].ObservableObject&&(n._observables||(n._observables=new i["default"].ObservableArray),n._observables.some(function(e){return e===t})||(n._observables.push(t),t.PropertyChange.connect(function(e){Object.prototype.hasOwnProperty.call(n._cssProps,e)||(i["default"].ObservableObject.makeObservable(n._cssProps,{key:""}),n._sortedProps.push(e),n._sortedProps.sort().forEach(function(t,e){n._sortedProps[e]=t})),n._status.value=2,n._cssProps[e]=t[e]})))}n._sortedProps||(n._sortedProps=new i["default"].ObservableArray);var a=Object.keys(n._cssProps).sort();n._sortedProps.length=a.length,a.forEach(function(t,e){n._sortedProps[e]=t})}),this},t.prototype.override=function(e){var n=this;return i["default"].unobserved(function(){n._overrides||(n._overrides=new i["default"].ObservableArray,n._isOverridden.value=!0),e instanceof i["default"].ObservableValue?n._overrides.push(i["default"].observe(function(){var n=e.value;return n instanceof t||(n=new t(n)),n})):(e instanceof t||(e=new t(e)),n._overrides.push(e))}),this},t.prototype.applyTo=function(t){if(t instanceof r.ComponentRenderHtmlOutput)this._lastAppliedTo=t,this.applyTo(t.element);else if(t instanceof HTMLElement){var e=[],n="",i=this;!function f(t){t._status.value>=(t===i?2:1)&&e.push(t),n+="|"+t._UID,t._isOverridden.value&&t._overrides.forEach(f)}(this);var o=!1;if(n!==this._lastOverrides?o=!0:t.style.cssText!==this._lastCSSText&&(o=!0),o&&t.style.length){for(var s=[],a=t.style.length-1;a>=0;a--)s.push(t.style.item(a));s.forEach(function(e){return t.style.removeProperty(e)})}var c,u,h="";e.forEach(function(e){e&&(e._sortedProps&&e._sortedProps.forEach(function(n){t.style[n]=e._cssProps[n]}),h+=(h?" ":"")+e._className.value,e._hidden.value===!1&&(c=!1),e._hidden.value===!0&&(c=!0),e._selected.value===!1&&(u=!1),e._selected.value===!0&&(u=!0))}),t.className=h+(u&&l?" "+l:""),c?t.setAttribute("hidden","hidden"):t.removeAttribute("hidden"),u?t.setAttribute("selected","selected"):t.removeAttribute("selected"),this._lastCSSText=t.style.cssText}},t.prototype.applyToObserved=function(t){var e=this;t instanceof r["default"]&&(this._lastAppliedTo=t);var n=i["default"].unobserved(function(){return i["default"].observe(function(){e._lastAppliedTo&&e._lastAppliedTo!==t||e.applyTo(t)})});return n.value,this},t}();e.Style=u;var u;!function(t){}(u=e.Style||(e.Style={}));var u;!function(t){t.DROPCARD_UP_SHADOW={boxShadow:"0 0 1.5rem -.25rem rgba(0,0,0,.12),0 .5rem 1rem -.25rem rgba(0,0,0,.25),0 1rem 1rem -1rem rgba(0,0,0,.4)"}}(u=e.Style||(e.Style={}));var u;!function(t){t.DROPCARD_SHADOW={boxShadow:"0 0 .5rem -.125rem rgba(0,0,0,.18),0 .25rem .5rem -.25rem rgba(0,0,0,.25),0 .5rem 1rem -.5rem rgba(0,0,0,.2)"}}(u=e.Style||(e.Style={}));var u;!function(t){t.DROPCARD_UP={border:"0",backgroundClip:"border-box",borderRadius:".25rem",overflow:"hidden",transition:"box-shadow .2s ease",boxShadow:t.DROPCARD_UP_SHADOW.boxShadow}}(u=e.Style||(e.Style={}));var u;!function(t){t.DROPCARD={border:"0",backgroundClip:"border-box",borderRadius:".25rem",overflow:"hidden",transition:"box-shadow .2s ease",boxShadow:t.DROPCARD_SHADOW.boxShadow}}(u=e.Style||(e.Style={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e){t.exports=n(3)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(5),o=function(){function t(t,e){this.isComponentOutput=!0,this.component=t,this.element=e}return t}();e.ComponentRenderOutput=o;var s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e}(o);e.ComponentRenderHtmlOutput=s,e.RenderHandler=r.ActionHandler,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";function i(t){return t.connectTo=function(e){return e.connect(t)},t._isEventHandler=!0,t}var r=n(3);e.DOMEventSignalClass=function(t,e,n){var i,o=r["default"].defineSignal(void 0,function(){t.then(function(t){if(!i){var s=t.liveElement||t.element;i=function(t){if(t.currentTarget||(t.currentTarget=s),o.isConnected){o(t);var e=!1;if(r["default"].defer(function(){e=!0}),!n)for(;!e&&r["default"].yieldAll(););}},s.addEventListener(e,i,n)}})},function(){t.then(function(t){i&&!o.isConnected&&((t.liveElement||t.element).removeEventListener(e,i),i=null)})});return o},e.ActionHandler=i,e.EventHandler=i,e.KeyHandler=i,e.MouseHandler=i,e.DragHandler=i,e.FocusHandler=i},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(5)),i(n(7)),i(n(4)),i(n(8)),i(n(9)),i(n(11)),i(n(12)),i(n(16)),i(n(17)),i(n(29)),i(n(19)),i(n(30)),i(n(31)),i(n(32)),i(n(33)),i(n(34)),i(n(35)),i(n(36)),i(n(37)),i(n(38)),i(n(27)),i(n(39)),i(n(20)),i(n(40)),i(n(41)),i(n(42)),i(n(43)),i(n(44)),i(n(28)),i(n(45)),i(n(46)),i(n(47)),i(n(48)),i(n(49)),i(n(50)),i(n(51)),i(n(52)),i(n(53)),i(n(54)),i(n(55)),i(n(56))},function(t,e){"use strict";function n(t,e,n){if(!(t[e]._isComponentFactory&&t.prototype instanceof t[e].target))throw new TypeError("Invalid component factory initializer: "+t[e].target.name+" for "+t.name);t["_.initializer"]=e}e.initializer=n},function(t,e,n){"use strict";function i(t,e){return new a(t,e)}function r(t,e,n){return new l(t,e,n)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(3),a=function(){function t(t,e){void 0!==t&&(t=String(t||""),(this._neg="!"===t.charAt(0))&&(t=t.slice(1)),this._p=t.split(".")),this._fget=e}return t.prototype.observeOn=function(t,e){function n(t){return t&&"object"==typeof t&&"function"==typeof t.then?s["default"].unobserved(function(){return s["default"].ObservableValue.fromPromise(t)}):t}var i=this._p,r=this._neg,o=this._fget;i||(i=[e]);var a=i.reduce(function(t,e){return function(){return(t()||{})[e]}},function(){return t});if(r){var l=a;a=function(){return!l()}}return s["default"].observe(o?function(){return n(s["default"].unobserved(o,a()))}:function(){return n(a())})},t}();e.Binding=a;var l=function(t){function e(e,n,i){t.call(this,e,n),this._fset=i}return o(e,t),e.prototype.observeOn=function(e,n){var i=t.prototype.observeOn.call(this,e,n),r=this._p,o=this._neg,s=this._fset;r||(r=[n]);var a=r.slice(0,-1).reduce(function(t,e){return function(){return(t()||{})[e]}},function(){return e});return i.setter(function(t){var e=a();e&&(e[r[r.length-1]]=s?s(o?!t:t):o?!t:t);
}),i},e}(a);e.TwoWayBinding=l,e.bind=i,e.bind2=r,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(5),l=n(10);e.CSS_CLASS_PREFIX="UI-";var c=1,u=function(t){function n(){var e=this;if(t.call(this),this.initializeWith=function(t){return e.constructor["with"](t)._init(e)},this.uid="C"+c++,this.style=new s["default"]((void 0),this._initialStyleClassName,(!1)),this.hidden=!1,this._renderedOut=new o["default"].Promise(function(t){e._resolve_renderedOut=t}),this.isRenderableComponent=!0,this.animations={},this._observeHidden=o["default"].observe(function(){return e.hidden}).map(function(t){t?e._wasHidden===!1&&e.animations&&e.animations.hide?e.animations.hide.playOnce(e).done.then(function(){e.hidden&&e.style.hide()}):e.style.hide():(e.style.show(),e._wasHidden===!0&&e.animations&&e.animations.show&&e.animations.show.playOnce(e)),e._wasHidden=t}),this.Rendered=o["default"].defineSignal(),this.Click=this.defineDOMEventSignal("click"),this.DblClick=this.defineDOMEventSignal("dblclick"),this.Press=this.defineDOMEventSignal("mousedown"),this.MouseOver=this.defineDOMEventSignal("mouseover"),this.MouseOut=this.defineDOMEventSignal("mouseout"),this.Focus=this.defineDOMEventSignal("focus",!0),this.Blur=this.defineDOMEventSignal("blur",!0),this.KeyDown=this.defineDOMEventSignal("keydown"),this.DragStart=this.defineDOMEventSignal("uidragstart"),this.DragOver=this.defineDOMEventSignal("uidragover"),this.DragOut=this.defineDOMEventSignal("uidragout"),this.DragDrop=this.defineDOMEventSignal("uidragdrop"),this.constructor&&this.constructor["_.initializer"]){var n,i=this.constructor[this.constructor["_.initializer"]];this.initialize=function(){return n||(n=i._init(this))}}}return i(n,t),n.setGlobalCSS=function(t,n,i){var r=this.prototype._initialStyleClassName||"_style";this.prototype._initialStyleClassName=r+=t?" "+e.CSS_CLASS_PREFIX+t:"";var o=r.split(/\s+/).map(function(t){return"."+t}).join("");if(n){if(n instanceof Array){var a={};n.forEach(function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}),n=a}h?h[o]=n:s["default"].applyGlobalCSS(n)}if(i)for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(h[o+l]=i[l])},n.prototype.initialize=function(){return this},Object.defineProperty(n.prototype,"out",{get:function(){var t=this;o["default"].unobserved(function(){return t.initialize()}),this.render();var e=this.out;if(!e)throw new Error("Component not rendered");return this.style.applyToObserved(e),this._observeHidden.value,this.Rendered({component:this,out:e}),this._resolve_renderedOut&&(this._resolve_renderedOut(e),this._resolve_renderedOut=null),e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isRendered",{get:function(){return!this._resolve_renderedOut},enumerable:!0,configurable:!0}),n.prototype.animate=function(t,e){return e?t.play(this):t.playOnce(this)},n.prototype.getChildren=function(){return[]},n.prototype.getComponentById=function(t){for(var e=this.getChildren();e.length;){var n=e.shift();if(n&&n.id===t)return n;n&&n.getChildren().forEach(function(t){return e.push(t)})}return null},n.prototype.getComponentsByType=function(t){var e=[];return this.getChildren().forEach(function(n){n instanceof t&&e.push(n),n.getComponentsByType(t).forEach(function(t){return e.push(t)})}),e},n.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.getChildren().forEach(function(e){e.getFormValues(t)}),t},n.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.getChildren().forEach(function(e){e.setFormValues(t)})})},n.prototype.defineDOMEventSignal=function(t,e){return new a.DOMEventSignalClass(this._renderedOut,t,e)},n["with"]=l._makeFactory,r([o["default"].observable_nonNull],n.prototype,"style",void 0),r([o["default"].observable],n.prototype,"hidden",void 0),r([o["default"].observable],n.prototype,"out",null),n}(o["default"].ObservableObject);e.Component=u;var h={};o["default"].defer(function(){s["default"].applyGlobalCSS(h),h=null}),u.setGlobalCSS("Component"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";function i(t){var e=function(){return e.create()};return e._isComponentFactory=!0,e.target=this,e._init=function(e,n){return r(t,e,n)},e.create=function(){return this._init(new this.target)},e.afterEach=function(t){var e=this._init;return this._init=function(n,i){return t(e(n,i),i||n),n},this},e["with"]=function(t){return this.afterEach(function(e,n){return r(t,e,n)})},e}function r(t,e,n){void 0===n&&(n=e),t.id&&(n[t.id]=e);var i=function(i){e[i]instanceof Function&&e[i].prototype instanceof c["default"].Signal?t[i]&&(t[i]._isEventHandler?e[i].connect(t[i]):e[i].connect(function(){var e=n[t[i]];if("function"!=typeof e)throw new Error("Method not found: "+t[i]);e.call(n)})):e[i]instanceof u["default"]?e[i]=e[i].override(t instanceof c["default"].ObservableObject?c["default"].observe(function(){return o(i,t[i],n)}):o(i,t[i],n)):t instanceof c["default"].ObservableObject&&(e.hasObservableProperty(i)||"value"===i)?e[i]=c["default"].observe(function(){return o(i,t[i],n)}).setter(function(e){t[i]=e}):e[i]=o(i,t[i],n)};for(var r in t)i(r);return e}function o(t,e,n){return e instanceof d["default"]?e.observeOn(n,t):e&&"object"==typeof e&&"function"==typeof e.then?c["default"].ObservableValue.fromPromise(e):e}function s(t,e,n,i,r){var l=o(t,e,i);if(l instanceof c["default"].ObservableValue)return l.map(function(e){return s(t,e,n,i,r)});if(e&&e._isComponentFactory&&(e=e._init(new e.target,i)),"string"==typeof e||"number"==typeof e)r||(e=new p.Label(String(e)));else if(e instanceof Array)e=n===p.TableRow?new p.TableRow(a(t,e,p.ControlElement,i,!0)):n===p.TableHeader?new p.TableHeader(a(t,e,p.ControlElement,i,!0)):n===p.ControlElement?new p.Stack(a(t,e,p.ControlElement,i)):new p.Row(a(t,e,p.ControlElement,i));else if(e instanceof Function&&e.prototype instanceof h["default"])e=new e;else if(e instanceof f["default"])return e=e.getComponent(),n!==p.ControlElement&&(e=new p.Row([e]),n!==p.Block&&(e=new n([e]))),e;return n===p.ControlElement?e instanceof p.Container?new p.ContainerControl(e):e instanceof p.Block&&!r?new p.BlockControl(e):e:n===p.Block?e instanceof p.ControlElement?new p.Row([e]):e instanceof p.Container?new p.ContainerBlock(e):e:n===p.TableRow||n===p.TableHeader?e instanceof p.TableRow||e instanceof p.TableHeader?e:(e instanceof p.Container&&(e=new p.ContainerControl(e)),void 0!==e?new n([e]):e):(e instanceof p.ControlElement&&(e=new p.Row([e])),e instanceof p.Block&&(e=new n([e])),e)}function a(t,e,n,i,r){if("object"==typeof e&&"function"==typeof e.then){var o=c["default"].ObservableValue.fromPromise(e.then(function(e){return a(t,e,n,i,r)}));return o.getLastValue()||(o.value=[]),o}return e instanceof d["default"]?e.observeOn(i,t).map(function(e){return a(t,e,n,i,r)}):e instanceof c["default"].ObservableValue?c["default"].observe(function(){return a(t,e.value,n,i,r)}):e instanceof c["default"].ObservableArray?e.mapAsync(function(e,o){return s(t+"."+o,e,n,i,r)}):e instanceof Array?e.map(function(e,o){return s(t+"."+o,e,n,i,r)}):[]}function l(t,e,n,i,r){if(!t.hasObservableProperty||!t.hasObservableProperty(e)){var o=t[e];if(!(o instanceof c["default"].ObservableValue))return s(e,o,n,i,r)}return c["default"].observe(function(){var o=t[e];return o instanceof c["default"].ObservableValue&&(o=o.value),s(e,o,n,i,r)})}var c=n(3),u=n(2),h=n(9),f=n(11),d=n(8),p=n(6);e._makeFactory=i,e._transformFactoryArray=a,e._transformObservableInitializer=l},function(t,e,n){"use strict";function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,o;if(t instanceof Array){var a=t.length,l=0,c=e&&e.map(function(t){return"function"==typeof t&&(l++,t=new r["default"].ObservableValue(t)),t});if(i=function(){for(var e="",n=0;n<a;n++)n&&(e+=String(c&&c[n-1])),e+=t[n];return e},!l)return new s(i())}else{if(!(t instanceof Function))return new s(t,e[0]);i=t,o=e[0]}return new s(new r["default"].ObservableValue(i),o)}var r=n(3),o=n(1),s=function(){function t(t,e){this._value=t instanceof r["default"].ObservableValue?t:String(t),e&&(this._baseClass=e)}return t.prototype.toString=function(){return String(this._value).replace(/^\{[^\}]\}/,"")},t.prototype.getComponent=function(){var t=this;if("string"==typeof this._value)return this._createComponent(this._value);var e;return this._value.map(function(n){return e=t._createComponent(n,e)})},t.prototype._createComponent=function(t,e){var n,i,r,s=this._baseClass,a=String(t);if("{"===a.charAt(0)){var l=a.indexOf("}");if(l>0){var c=a.slice(1,l).split("|");a=a.slice(l+1),n={},c.forEach(function(t){switch(t){case"p":s=o.Paragraph;break;case"w":s=o.WideLabel;break;case"l":s=o.Label;break;case"h1":s=o.Heading1;break;case"h2":s=o.Heading2;break;case"h3":s=o.Heading3;break;case"h4":s=o.Heading4;break;case"h5":s=o.Heading5;break;case"h6":s=o.Heading6;break;case"b":n.fontWeight="bold";break;case"i":n.fontStyle="italic";break;case"u":n.textDecoration="underline";break;case"left":case"right":case"center":n.textAlign=t,s||(s=o.Paragraph);break;default:if(/^l:[\d\.]+(\%|[a-z]+)$/.test(t))r=t.slice(2);else if(/^#\w+$/.test(t))n.color=t;else if(/^icon:/.test(t))i=t.slice(5);else if(/^\d+$/.test(t))n.fontWeight=t;else if(/^[\d\.]+(\%|[a-z]+)$/.test(t))n.fontSize=t;else{var e=/^([\w-]+)\s*=\s*(.*)$/.exec(t);if(e){var a=e[1].replace(/-\w/g,function(t){return t.charAt(1).toUpperCase()}),l=e[2];n[a]='"'===l.charAt(0)?JSON.parse(l):l}}}})}}s||(s=o.Label);var u=e instanceof s?e:new s;return i&&(u.icon=i),n&&u.style.override(n),r&&(u.width=r),u.text=a,u},t}();e.TextLabelFactory=s,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s,e.tl=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(13),a=n(9),l=n(6),c=n(10),u=n(4),h=n(14),f=function(t){function e(n){var i=this;t.call(this),this.content=[],this.vertAlign=e.VertAlign.Top,this.maxContentWidth="auto",this.scrollable=!1,this.displayOptions={},this._hasFocus=o["default"].ObservableValue.fromValue(!1),this._hoverState=o["default"].ObservableValue.fromValue(!1),void 0!==n&&(this.content=n),this.MouseOver.connect(function(){i._hoverState.value=!0}),this.MouseOut.connect(function(){i._hoverState.value=!1}),this.Blur.connect(function(){i._hasFocus.value=!1}),this.Focus.connect(function(t){i._lastFocused=t.target,i._hasFocus.value=!0})}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.content=c._transformFactoryArray("content",t.content,l.Block,n),t.focusFirst&&e.restoreFocus()})},e.withContent=function(t){return this["with"]({content:t})},e.prototype.initializeWithContent=function(t){return this.initializeWith({content:t})},Object.defineProperty(e.prototype,"hoverState",{get:function(){return this._hoverState.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasFocus",{get:function(){return this._hasFocus.value},enumerable:!0,configurable:!0}),e.prototype.restoreFocus=function(){var t=this;if(this._mainWrapper){for(var e=this._lastFocused,n=e,i=!1;n&&!n.hasAttribute("hidden");){if(n===this._mainWrapper){i=!0;break}n=n.parentNode}if(e&&i)h._focusElementASAP(e);else{var r=0,o=this._mainWrapper;window.setTimeout(function s(){for(var t=o.querySelectorAll("[tabindex],a[href],input:not([disabled]),button:not([disabled]),textarea:not([disabled]), select:not([disabled])"),e=0;e<t.length;e++){for(var n=t[e],i=!1;n&&!i;)n.hasAttribute("hidden")&&(i=!0),n=n.parentElement;if(!i)return void h._focusElementASAP(t[e])}r++<5&&window.setTimeout(s,10*r)},1)}}else this.Rendered.connect(function(){return t.restoreFocus()});return this},e.prototype.removeFocus=function(){return this._lastFocused&&this._lastFocused.blur(),this},e.prototype.hasEmptyList=function(t){return void 0===t&&(t=l.List),this.getComponentsByType(t).some(function(t){return!(t.items&&t.items.length)})},e.prototype.render=function(){if(!this.out){var t=document.createElement("container");this._mainWrapper=document.createElement("containerwrapper"),this._cellWrapper=document.createElement("div"),this._mainWrapper.appendChild(this._cellWrapper),t.appendChild(this._mainWrapper),this.out=new u.ComponentRenderHtmlOutput(this,t),this.out.elements={wrapper:this._mainWrapper}}"auto"===this.style.get("width")?(this._mainWrapper.style.tableLayout="auto",this._mainWrapper.style.width="auto"):(this._mainWrapper.style.tableLayout="fixed",this._mainWrapper.style.width="100%");var n=this.content.map(function(t){return t&&t.out});h._replaceInner(this.out,n,this._cellWrapper),this._cellWrapper.style.verticalAlign=e.VertAlign[this.vertAlign].toLowerCase(),this.style.set({overflow:this.scrollable?"auto":"hidden"}),this._mainWrapper.style.maxWidth=this.maxContentWidth},e.prototype.display=function(){var t=this,n=function(e){if(t._mainWrapper){for(var n=e.target;n&&n!==t._mainWrapper;)n=n.parentNode;n!==t._mainWrapper&&(t.KeyDown(e),o["default"].yieldAll())}},i=this.displayOptions.horzAlign,r=this.displayOptions.vertAlign;return s["default"].display(this,{modal:this.displayOptions.modal,shade:this.displayOptions.shade,escHandler:this.displayOptions.onEsc,keyDownHandler:n,horzAlign:void 0!==i?e.HorzAlign[i].toLowerCase():"",vertAlign:e.VertAlign[r||0].toLowerCase(),margin:this.displayOptions.margin}),this},e.prototype.getChildren=function(){return this.content.filter(function(t){return t instanceof a["default"]})},r([o["default"].observable_nonNull],e.prototype,"content",void 0),r([o["default"].observable],e.prototype,"vertAlign",void 0),r([o["default"].observable_string],e.prototype,"maxContentWidth",void 0),r([o["default"].observable],e.prototype,"scrollable",void 0),e}(a["default"]);e.Container=f;var f;!function(t){!function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"}(t.VertAlign||(t.VertAlign={}));t.VertAlign}(f=e.Container||(e.Container={}));var f;!function(t){!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(t.HorzAlign||(t.HorzAlign={}));t.HorzAlign}(f=e.Container||(e.Container={})),f.setGlobalCSS("Container",{display:"inline-block",boxSizing:"border-box",position:"relative",top:"0",bottom:"0",left:"0",right:"0",height:"100%",width:"100%",textAlign:"center",fontSize:"1rem",margin:"0 auto",overflow:"hidden"},{" containerwrapper":{position:"relative",display:"table",borderSpacing:"0",height:"100%",margin:"0 auto"}," containerwrapper > div":{display:"table-cell"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=f},function(t,e,n){"use strict";var i=n(3),r=n(2),o=n(14),s=n(9),a=n(1);r["default"].setCSSRemSize(16);var l=function(){function t(){throw new TypeError}return t.display=function(e,n){var i=this;if(void 0===n&&(n={}),e&&"object"==typeof e&&"function"==typeof e.then)e.then(function(t){return i.display(t,n)});else{if(!(e instanceof a.Component))throw new TypeError;if(this._stack.some(function(t){return t.component===e}))return;n.modal&&(document.activeElement&&document.activeElement.blur(),n.escHandler||(n.escHandler=function(){return i.remove(e)}));var r=t._layerElement(e,n);if(this._stack.push(r),!n.stayOnTop)for(var o=this._stack.length-1;o>0&&this._stack[o-1].stayOnTop;o--)this._stack[o]=this._stack[o-1],this._stack[o-1]=r;this._update()}},t.isDisplayed=function(t){return this._stack.some(function(e){return e.component===t})},t.remove=function(t,e){var n=this;if(t&&"object"==typeof t&&"function"==typeof t.then)t.then(function(t){return n.remove(t)});else{if(!(t instanceof a.Component))throw new TypeError;this._stack=this._stack.filter(function(n){return n.component!==t||(e?setTimeout(function(){return n.disconnect()},100):n.disconnect(),!1)}),this._update(e)}},t.closeModal=function(t){for(;this._stack.length;){var e=this._stack[this._stack.length-1];if(!e.modal)break;if(e.disconnect(),this._stack.pop(),!t)break}this._update()},t.clear=function(t){if(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),t){var e=this._stack.slice(0);setTimeout(function(){return e.forEach(function(t){return t.disconnect()})},100)}else this._stack.forEach(function(t){return t.disconnect()});this._stack=[],this._update(t),t&&this.blockAll()},t.blockAll=function(t){var e=this,n=document.createElement("div");n.style.position="fixed",n.style.top="0",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.cursor="wait",n.style.zIndex="1000000000",n.style.background="rgba(0,0,0,0)",n.tabIndex=1,n.onblur=function(t){t.preventDefault(),n.focus()},n.onselectstart=function(t){t.preventDefault()},this._screen.appendChild(n),n.focus(),t&&t.then(function(){n.parentNode&&e._screen.removeChild(n)})},t._update=function(t){var e=this;this.isBlank=!this._stack.length,this._pendingUpdate||t||(this._pendingUpdate=this.ready.then(function(){e._pendingUpdate=null;for(var t=[],n=!1,i=!1,r=e._stack.length;r>0;){var s=e._stack[--r],a=s.out.value;if(a){n&&a.setAttribute?a.setAttribute("screen-behind","behind"):a.removeAttribute&&a.removeAttribute("screen-behind");var l=10001+1e3*(r+1);a.style&&(a.style.zIndex=String(l)),s.element=a,t.unshift(s),s.modal&&(i=!0,s.shade&&!n?(n=!0,e._shade.style.zIndex=String(l-1),t.unshift(e._shade)):t.unshift(document.createComment("modal")))}else t.unshift(document.createComment(s.component.uid))}e.isModalDisplayed=i,n?e._fadeShadeIn():e._fadeShadeOut(),o._replaceInner(e._screen,t,void 0,e._domStateData),e._stack.length&&e.style.show()}))},t._layerElement=function(t,e){var n,r,o={isScreenLayer:!0,component:t,modal:e.modal,shade:e.shade,stayOnTop:e.stayOnTop,onEsc:e.escHandler,onKeyDown:e.keyDownHandler,out:i["default"].observe(function(){return t.out}).map(function(t){var i=t.element;if(i&&i instanceof HTMLElement){if(t.elements&&t.elements["Screen.wrapper"])i=r=t.elements["Screen.wrapper"],n=t.elements["Screen.cell"],n&&(n.style.verticalAlign=e.vertAlign||"top",n.style.textAlign=e.horzAlign||"center",n.style.padding=e.margin||"0");else if(e.vertAlign||e.horzAlign||e.margin){if(n||(n=document.createElement("overlaycell"),n.style.display="table-cell",n.style.verticalAlign=e.vertAlign||"top",n.style.textAlign=e.horzAlign||"center",n.style.overflow="hidden",n.oncontextmenu=function(t){t.target&&t.target===n&&t.preventDefault()},r=document.createElement("overlay"),r.style.display="table",r.style.position="absolute",r.style.width="100%",r.style.height="100%",r.appendChild(n)),n.style.padding=e.margin||"0",n.firstChild!==i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(i)}i=r}else{if(r||(r=document.createElement("wrapper"),r.style.display="block",r.style.position="absolute",r.style.height="0",r.style.left="0",r.style.right="0"),i.style&&i.style.bottom&&"auto"!==i.style.bottom?r.style.bottom="0":r.style.top="0",r.firstChild!==i){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(i)}i=r}if(e.modal){var s=document.createElement("modal");if(s.style.position="fixed",s.style.top="0",s.style.bottom="0",s.style.left="0",s.style.right="0",s.style.textAlign="center",s.style.overflow="auto",s.style.background="rgba(0,0,0,0)",s.onclick=function(t){if(o.onEsc){var e=t.target;if(e===s||e===r||e===n)o.onEsc();else for(;e;){if(e.hasAttribute&&e.hasAttribute("data-dismiss")){o.onEsc();break}e=e.parentElement}t.preventDefault()}},s.firstChild!==i){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(i)}i=s}}return r&&(t.elements||(t.elements={}),t.elements["Screen.wrapper"]=r,t.elements["Screen.cell"]=n),i}),disconnect:function(){return o.out.clear()}};return o.out.subscribe(),o},t._fadeShadeIn=function(){var t=this;this._shadeFadeTimer>=0&&window.clearTimeout(this._shadeFadeTimer),this._shadeFadeTimer=NaN;var e=this._shadeFadeTimer=window.setTimeout(function(){t._shadeFadeTimer===e&&(t._shade.style.opacity="1")},0)},t._fadeShadeOut=function(){var e=this;if(this._shade.parentNode){this._shadeFadeTimer>=0&&window.clearTimeout(this._shadeFadeTimer),this._shade.style.opacity="0";var n=this._shadeFadeTimer=window.setTimeout(function(){e._shadeFadeTimer===n&&e._shade.parentNode&&e._shade.parentNode.removeChild(e._shade)},1e3*t.SHADE_TRANSITION_SEC)}},t._init=function(e){var n=this;r["default"].applyGlobalCSS({"[hidden]":{display:"none"}},!0),r["default"].applyGlobalCSS({"[screen-behind]":{webkitFilter:"blur("+t.SHADE_BLUR+"px)",filter:"blur("+t.SHADE_BLUR+"px)"}},!0);var o=this._screen=document.createElement("screen");this.style.addClass(s.CSS_CLASS_PREFIX+"Screen"),i["default"].observe(function(){return n.style.applyToObserved(o)}).subscribe(),document.body.appendChild(o);var a=this._shade=document.createElement("modalshade");a.style.position="fixed",a.style.top="0",a.style.bottom="0",a.style.left="0",a.style.right="0",a.style.background="rgba(0,0,0,"+t.SHADE_OPACITY+")",a.style.backgroundImage="radial-gradient(rgba(0,0,0,"+t.SHADE_GRADIENT_CENTER+"), rgba(0,0,0,0))",a.style.transition="opacity "+t.SHADE_TRANSITION_SEC+"s ease",a.style.opacity="0";var l=!1;i["default"].defer(function(){function n(){var e=t.width=l?o.clientWidth:window.innerWidth;t.height=l?o.clientHeight:window.innerHeight,e!==r&&(e>=t.EXTRALARGE_WIDTH?(t.isSmall=t.isExtraSmall=!1,t.isLarge=t.isExtraLarge=!0,t.style.setClass(s.CSS_CLASS_PREFIX+"Screen "+s.CSS_CLASS_PREFIX+"Screen-Large "+s.CSS_CLASS_PREFIX+"Screen-ExtraLarge")):e>=t.LARGE_WIDTH?(t.isExtraLarge=t.isSmall=t.isExtraSmall=!1,t.isLarge=!0,t.style.setClass(s.CSS_CLASS_PREFIX+"Screen "+s.CSS_CLASS_PREFIX+"Screen-Large")):e<t.EXTRASMALL_WIDTH?(t.isLarge=t.isExtraLarge=!1,t.isExtraSmall=t.isSmall=!0,t.style.setClass(s.CSS_CLASS_PREFIX+"Screen "+s.CSS_CLASS_PREFIX+"Screen-Small "+s.CSS_CLASS_PREFIX+"Screen-ExtraSmall")):e<t.SMALL_WIDTH?(t.isExtraLarge=t.isLarge=t.isExtraSmall=!1,t.isSmall=!0,t.style.setClass(s.CSS_CLASS_PREFIX+"Screen "+s.CSS_CLASS_PREFIX+"Screen-Small")):(t.isExtraLarge=t.isLarge=t.isSmall=t.isExtraSmall=!1,t.style.setClass(s.CSS_CLASS_PREFIX+"Screen"))),o.firstChild?t.style.show():t.style.hide()}function i(){n(),setTimeout(i,a),a=500}var r=void 0;window.addEventListener("resize",n);var a=2e3;i(),l||e(l=!0)}),document.addEventListener("keydown",function(t){if(n._stack.length){var e=n._stack[n._stack.length-1];e.onKeyDown&&e.onKeyDown.call(window,t),!t.defaultPrevented&&27==t.keyCode&&e.onEsc&&e.onEsc.call(window)}})},t.SHADE_OPACITY=.2,t.SHADE_GRADIENT_CENTER=.2,t.SHADE_BLUR=1.2,t.SHADE_TRANSITION_SEC=.2,t.EXTRASMALL_WIDTH=550,t.SMALL_WIDTH=720,t.LARGE_WIDTH=960,t.EXTRALARGE_WIDTH=1200,t.width=NaN,t.height=NaN,t.isExtraSmall=!1,t.isSmall=!1,t.isLarge=!1,t.isExtraLarge=!1,t.isBlank=!0,t.isModalDisplayed=!1,t.style=new r["default"]({position:"fixed",top:"0",bottom:"0",left:"0",right:"0",overflow:"hidden",textAlign:"center",cursor:"default",lineHeight:"0",fontSize:"0"}),t.ready=new i["default"].Promise(function(e){return document.addEventListener("DOMContentLoaded",function(){t._init(e)})}),t._domStateData={},t._stack=[],t}();e.Screen=l,i["default"].ObservableObject.makeObservable(l,{width:l.width,height:l.height,isExtraSmall:l.isExtraSmall,isSmall:l.isSmall,isLarge:l.isLarge,isBlank:l.isBlank,isModalDisplayed:l.isModalDisplayed}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";function i(t,e,n,i){var s,f=e.length,d=n||(t.isComponentOutput?t.element:t),p=[],v=[];if(e.forEach(function(t,e){if(t){t.isRenderableComponent?v[e]=t:(t.isComponentOutput||t.isScreenLayer)&&(v[e]=t.component);var n=o(t,p,e);n&&(s||(s=[])).push(n)}}),s){var y=function(){for(var t=15;t>=0&&s.length;t--)a["default"].defer(s.shift());s.length&&a["default"].defer(function(){return a["default"].defer(y)})};y()}return r(d,function(){var e,n;if(i?(e=i._c,n=i._n,i._c=v,i._n=p):t.isComponentOutput&&(t.data&&(e=t.data.components,n=t.data.nodes),t.data={components:v,nodes:p,t:Date.now()}),l["default"].isEnabled&&v.length<h&&(!e||e.length<h)){e||(e=[]);var r=Date.now()-u;v.forEach(function(t){if(!e.some(function(e){return e===t})&&(t&&t.animations&&t.animations.appear&&t.animations.appear.play(t).done.then(function(t){return t.stop()}),t.isRendered)){var n=t.out;n&&n.data&&n.data.t<r&&n.data.components&&n.data.components.forEach&&n.data.components.forEach(function(t){t&&t.animations&&t.animations.appear&&t.animations.appear.play(t).done.then(function(t){return t.stop()})})}}),e.forEach(function(t,e){var i;if(t&&t.animations&&t.animations.disappear&&(i=n[e])&&1===i.nodeType&&!v.some(function(e){return e===t})){i.setAttribute(c,"true");var r=t.animations.disappear.play(t);r.done.then(function(){r.stop(),i.hasAttribute(c)&&i.parentNode===d&&d.removeChild(i)})}})}for(var o=d.firstChild,s=0;s<f&&o;s++)if(o.hasAttribute&&o.hasAttribute(c))o=o.nextSibling,s--;else{var a=p[s];if(a){a.removeAttribute&&a.removeAttribute(c);var y=o.nextSibling;o!==a&&d.replaceChild(a,o),o=y,o===a&&(o=o.nextSibling)}}for(;o;){var y=o.nextSibling;o.hasAttribute&&o.hasAttribute(c)||d.removeChild(o),o=y}for(;s<f;s++){var a=p[s];a&&d.appendChild(a)}}),d}function r(t,e){a["default"].defer(function(){if(window.requestAnimationFrame){if(f)for(var n=d.length-1;n>=0;n--)d[n]===t&&(d.splice(n,1),f.splice(n,1));else f=[],window.requestAnimationFrame(function(){var t=f;f=null,d.length=0,t&&t.forEach(function(t){try{t()}catch(e){a["default"].UnhandledException(e)}})});f.push(e),d.push(t)}else e()})}function o(t,e,n){var i,r;if(t.isRenderableComponent)if(t.isRendered)i=t.out.element;else{var o=document.createComment("placeholder"),s=a["default"].unobserved(function(){return new a["default"].ObservableValue(function(){})});s.value,r=function(){s.getter(function(){var i=t.out.element;o.parentNode?(o.parentNode.replaceChild(i,o),l["default"].isEnabled&&t.animations&&t.animations.appear&&t.animations.appear.play(t).done.then(function(t){return t.stop()})):e[n]=i})},i=o}else i=t.isComponentOutput||t.isScreenLayer?t.element:t;return e[n]=i,r}function s(t){function e(){p&&document.activeElement!==p&&(p.focus(),n++<10&&window.setTimeout(e,2*n))}var n=0;p=t,e()}var a=n(3),l=n(15),c="render-disappearing",u=2e3,h=100,f=null,d=[];e._replaceInner=i,e._focusElementASAP=s;var p},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(2),s=0,a=!0,l=function(){function t(t){this.duration=0,this.name=t,this.id=String(t).replace(/\W/g,"_")+"__"+s++}return t.enableAll=function(){a=!0},t.disableAll=function(){a=!1},Object.defineProperty(t,"isEnabled",{get:function(){return a},enumerable:!0,configurable:!0}),t.prototype.playOnce=function(t){var e=this.play(t);return e.done.then(function(){return e.stop()}),e},t}();e.Animation=l;var c=function(t){function e(e,n,i){if(void 0===n&&(n=[]),void 0===i&&(i={}),t.call(this,e),this._options=i,this._keyframesID=i._keyframes||this.id,!i._keyframes){var r={};n.forEach(function(t,e){var i=t.t;void 0===i&&(i=e/(n.length-1||1));for(var o=Math.round(1e3*i)/10+"%";r[o];)o+=" ";r[o]=t.style}),o["default"].applyGlobalCSS(r,!1,"@keyframes "+this.id),o["default"].applyGlobalCSS(r,!1,"@-webkit-keyframes "+this.id)}var s={},a=500,l=0,c="1";i.duration>=0&&(a=i.duration),i.delay>=0&&(l=i.delay),i.count===1/0?c="infinite":void 0!==i.count&&(c=String(i.count));var u=this._keyframesID+" "+(i.specDuration>=0?i.specDuration:a)+"ms "+l+"ms "+c+" "+(i.direction||"normal")+(i.ease?" ease":" ")+" forwards";s["."+this.id+"_playing"]={animation:u,webkitAnimation:u},o["default"].applyGlobalCSS(s),this.duration=a+l,this._playingCSSText=u}return i(e,t),e.together=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=0,s=[];t.forEach(function(t){s.push(t._playingCSSText),t.duration>r&&(r=t.duration)});var a=s.join(", "),c=function(t){function n(e){t.call(this,e),this.duration=r;var n={};n["."+this.id+"_playing"]={animation:a,webkitAnimation:a},o["default"].applyGlobalCSS(n)}return i(n,t),n.prototype.play=function(t){return e.prototype.play.call(this,t)},n}(l);return new c(t.map(function(t){return t&&t.name}).join("_and_"))},e.prototype.clone=function(t){var n={duration:t.duration>=0?t.duration:this._options.duration,delay:t.delay>=0?t.delay:this._options.delay,count:t.count>=0?t.count:this._options.count,direction:t.direction?t.direction:this._options.direction,ease:void 0!==t.ease?t.ease:this._options.ease,_keyframes:this._keyframesID};return new e(this.name,(void 0),n)},e.prototype.togetherWith=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return e.together.apply(e,[this].concat(t))},e.prototype.withTiming=function(t,e){return this.clone({duration:t,delay:e})},e.prototype.reverse=function(){return this.clone({direction:this._options.direction&&"reverse"===this._options.direction?"normal":"reverse"})},e.prototype.play=function(t){var e=this,n={animation:this};return a?(t.style.addClass(this.id+"_playing"),n.done=r["default"].sleep(this.duration,n),n.stop=function(){t.style.removeClass(e.id+"_playing")}):(n.done=r["default"].Promise.resolve(n),n.stop=function(){}),n},e}(l);e.KeyframeAnimation=c;var l;!function(t){var e=new c("fadeIn",[{style:{opacity:"0"}},{style:{opacity:"1"}}]),n=e.reverse(),i=new c("slideInUp",[{style:{transform:"translateY(100%)"}},{style:{transform:"translateY(0)"}}]),r=new c("fadeInUp",[{style:{opacity:"0",transform:"translateY(50%)"}},{style:{opacity:"1",transform:"translateY(0)"}}]),o=i.reverse(),s=r.reverse(),a=new c("slideInDown",[{style:{transform:"translateY(-100%)"}},{style:{transform:"translateY(0)"}}]),l=new c("fadeInDown",[{style:{opacity:"0",transform:"translateY(-50%)"}},{style:{opacity:"1",transform:"translateY(0)"}}]),u=a.reverse(),h=l.reverse(),f=new c("slideInLeft",[{style:{transform:"translateX(100%)"}},{style:{transform:"translateX(0)"}}]),d=new c("fadeInLeft",[{style:{opacity:"0",transform:"translateX(50%)"}},{style:{opacity:"1",transform:"translateX(0)"}}]),p=f.reverse(),v=d.reverse(),y=new c("slideInRight",[{style:{transform:"translateX(-100%)"}},{style:{transform:"translateX(0)"}}]),b=new c("fadeInRight",[{style:{opacity:"0",transform:"translateX(-50%)"}},{style:{opacity:"1",transform:"translateX(0)"}}]),_=y.reverse(),m=b.reverse(),g=new c("scaleIn",[{style:{transform:"scale(0)"}},{style:{transform:"scale(1)"}}]),w=g.reverse(),O=new c("scaleInOver",[{style:{transform:"scale(0)"}},{style:{transform:"scale(1.15)"},t:.5},{style:{transform:"scale(.95)"},t:.8},{style:{transform:"scale(1)"}}]),S=O.reverse(),C=new c("turnInX",[{style:{transform:"perspective(1000px) rotateX(90deg)"}},{style:{transform:"perspective(1000px)"}}]),E=new c("turnOutX",[{style:{transform:"perspective(1000px)"}},{style:{transform:"perspective(1000px) rotateX(90deg)"}}]),x=new c("turnInY",[{style:{transform:"perspective(1000px) rotateY(90deg)"}},{style:{transform:"perspective(1000px)"}}]),P=new c("turnOutY",[{style:{transform:"perspective(1000px)"}},{style:{transform:"perspective(1000px) rotateY(90deg)"}}]),T=new c("growMaxHeight",[{style:{maxHeight:"0",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"
}},{style:{maxHeight:"5000px",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"}}],{duration:800}),A=new c("shrinkMaxHeight",[{style:{maxHeight:"5000px",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}},{style:{maxHeight:"0",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}}],{duration:800}),R=new c("growMaxWidth",[{style:{maxWidth:"0",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"}},{style:{maxWidth:"5000px",animationTimingFunction:"cubic-bezier(0.5, 0, 1, 0.5)"}}],{duration:800}),j=new c("shrinkMaxWidth",[{style:{maxWidth:"5000px",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}},{style:{maxWidth:"0",animationTimingFunction:"cubic-bezier(0, 0.5, 0.5, 1)"}}],{duration:800}),I=new c("highlightYellow",[{style:{background:"#ffc"}},{style:{background:"#ffa"}},{style:{background:"transparent"}}]),k=new c("jumpOut",[{style:{transform:"scale(.9)"}},{style:{transform:"scale(1.2)"}},{style:{transform:"scale(.9)"},t:.9},{style:{transform:"scale(1)"}}]),D=new c("jumpIn",[{style:{transform:"scale(1.05)"}},{style:{transform:"scale(.9)"}},{style:{transform:"scale(1.05)"},t:.9},{style:{transform:"scale(1)"}}]);t.basic={"in":{fade:e,fadeUp:r,fadeDown:l,fadeLeft:d,fadeRight:b,slideUp:i,slideDown:a,slideLeft:f,slideRight:y,scale:g,scaleOver:O,turnX:C,turnY:x,maxHeight:T,maxWidth:R},out:{fade:n,fadeUp:h,fadeDown:s,fadeLeft:m,fadeRight:v,slideUp:u,slideDown:o,slideLeft:_,slideRight:p,scale:w,scaleOver:S,turnX:E,turnY:P,maxHeight:A,maxWidth:j},highlight:{yellow:I,jumpOut:k,jumpIn:D}}}(l=e.Animation||(e.Animation={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(9),a=n(12),l=n(6),c=n(10),u=n(14),h=function(t){function e(){t.apply(this,arguments),this.header=null,this.footer=null}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.header=c._transformObservableInitializer(t,"header",l.Block,n),e.footer=c._transformObservableInitializer(t,"footer",l.Block,n)})},e.prototype.render=function(){t.prototype.render.call(this);var e,n;this.header&&(e=document.createElement("div"),e.className="panel-heading card-header",e.appendChild(this.header.out.element)),this.footer&&(n=document.createElement("div"),n.className="panel-footer card-footer",n.appendChild(this.footer.out.element));var i=this.out;u._replaceInner(i,[e,i.elements.wrapper,n])},e.prototype.getChildren=function(){var e=t.prototype.getChildren.call(this);return this.header instanceof s["default"]&&e.unshift(this.header),this.footer instanceof s["default"]&&e.push(this.footer),e},r([o["default"].observable],e.prototype,"header",void 0),r([o["default"].observable],e.prototype,"footer",void 0),e}(a["default"]);e.CardContainer=h,h.setGlobalCSS("CardContainer panel panel-default card",{display:"inline-block",margin:"0",padding:"0",height:"auto",width:"auto"},{" > .card-header":{padding:"0",overflow:"hidden"}," > .card-footer":{padding:"0",overflow:"hidden"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(13),a=n(15),l=n(18),c=n(12),u=n(19),h=n(6),f=n(20),d=function(t){function e(e,n){var i=this;void 0===n&&(n="27rem"),t.call(this,e),this.Closing=o["default"].defineSignal(),this.Closed=o["default"].defineSignal(),this._dragHandleSet=!1,this.width=n,this.style.set({width:"auto",height:"auto"}),this.raised=!0,this.raiseOnFocus=!1,this.raiseOnHover=!1,this.displayOptions=new o["default"].ObservableObject({modal:!0,shade:!0,horzAlign:c["default"].HorzAlign.Center,vertAlign:c["default"].VertAlign.Middle,onEsc:function(){o["default"].Promise.all(new i.Closing(null).emit().results).then(function(){return i.close()})}}),this.animations.appear=a["default"].basic["in"].fadeUp.withTiming(300),this.animations.disappear=a["default"].basic.out.fade.withTiming(200)}return i(e,t),e.prototype.render=function(){var e=this;this.style.set({width:"auto"===this.width?"auto":"100%",maxWidth:this.width}),t.prototype.render.call(this),this.header instanceof h.Row&&!this.header.verticalSpacing&&o["default"].unobserved(function(){e.header.verticalSpacing=".5rem"}),this._dragHandleSet||o["default"].unobserved(function(){e.setDragHandle(e.header)})},e.prototype.close=function(){return s["default"].remove(this),this.Closed(),this},e.prototype.setDragHandle=function(t){var e=this;this._dragHandleSet=!0,this._dragHandleConnection&&this._dragHandleConnection.disconnect(),t&&(this._dragHandleConnection=t.Press.connect(function(t){l["default"].start(t).moved.then(function(){l["default"].current&&l["default"].current.pickUp(e.out.element)})}))},r([o["default"].observable_string],e.prototype,"width",void 0),e}(u["default"]);e.DialogContainer=d;var d;!function(t){var e=function(t){function e(){t.call(this),this.label="×",this.style.set({lineHeight:"0"}),this.style_button.set({fontSize:"1.5em",height:"auto",lineHeight:"1.1rem",fontFamily:"initial",top:"-.1em"}),this.tooltipTitle="Close"}return i(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.out.element.setAttribute("data-dismiss","modal")},e}(f.TextButton);t.TopCloseButton=e}(d=e.DialogContainer||(e.DialogContainer={})),d.setGlobalCSS("DialogContainer"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d},function(t,e,n){"use strict";function i(t){function e(){try{return f.current&&p&&f.current.update(p.clientX,p.clientY)}finally{h["default"].yieldAll()}}var n=!p;p=t,n?e():d||(d=window.setTimeout(function(){var t=e();d=void 0,t&&i(p)},v))}function r(){f.current&&f.current.drop(),h["default"].yieldAll()}function o(t){if(f.current){var e=t.relatedTarget;e&&"HTML"!=e.nodeName||f.current.cancel()}}function s(t){f.current&&27==t.keyCode&&f.current.cancel()}function a(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r),document.removeEventListener("mouseout",o),document.removeEventListener("keydown",s),document.onselectstart=y,d&&window.clearTimeout(d),d=void 0,p=void 0}function l(){document.addEventListener("mousemove",i),document.addEventListener("mouseup",r),document.addEventListener("mouseout",o),document.addEventListener("keydown",s),y=document.onselectstart,document.onselectstart=function(){return!1}}var c=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},h=n(3);!function(){try{new CustomEvent("test")}catch(t){var e=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail),n};window.CustomEvent=e,e.prototype=window.Event.prototype}}();var f=function(t){function e(e,n,i,r){var o=this;t.call(this),this.detail=null,this.Drop=h["default"].defineSignal(),this.Cancel=h["default"].defineSignal(),this._x=n,this._y=i,r&&(this.detail=r),e.setCapture&&e.setCapture(),this._origTarget=e,this.moved=new h["default"].Promise(function(t){o._moved_resolve=t}),this.dropTarget=new h["default"].Promise(function(t,e){o._dropTarget_resolve=t,o._dropTarget_reject=e}),this.dropTarget.then(function(){return o.Drop()},function(){return o.Cancel()}),this._setCoords=function(t,e){o._x=t,o._y=e},this._getTarget=function(t,e){return document.elementFromPoint(t,e)};var s=new CustomEvent("uidragstart",{bubbles:!0,cancelable:!0,detail:null});e.dispatchEvent(s)?l():this.cancel()}return c(e,t),e.start=function(t,n){return e.current=new e(t.target,t.clientX,t.clientY,n)},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.constrain=function(t,e,n){var i=this,r=n||this._currentTarget||this._origTarget,o=r.getBoundingClientRect(),s=this._x-o.left+r.scrollLeft,a=this._y-o.top+r.scrollTop;this._setCoords=function(o,l){var c=r.getBoundingClientRect();t&&(o=s-r.scrollLeft+c.left),e&&(l=a-r.scrollTop+c.top),n&&(o<c.left&&(o=c.left),o>c.right&&(o=c.right),l<c.top&&(l=c.top),l>c.bottom&&(l=c.bottom)),i._x=o<0?0:o,i._y=l<0?0:l},this._setCoords(this._x,this._y)},e.prototype.pickUp=function(t,e){var n=this,i=t.getBoundingClientRect(),r=this._x-i.left,o=this._y-i.top;h["default"].observe(function(){if("fixed"==t.style.position)t.style.top=n._y-o+"px",t.style.left=n._x-r+"px";else if(t.offsetParent){var e=t.offsetParent.getBoundingClientRect();t.style.position="absolute",t.style.top=n._y-o-e.top+"px",t.style.left=n._x-r-e.left+"px"}t.style.bottom="auto",t.style.right="auto"}).subscribe(),this._getTarget=function(e,n){t.setAttribute("hidden","hidden");var i=document.elementFromPoint(e,n);return t.removeAttribute("hidden"),i},e&&(this.Drop.connect(function(){return t.parentNode&&t.parentNode.removeChild(t)}),this.Cancel.connect(function(){return t.parentNode&&t.parentNode.removeChild(t)}))},e.prototype.cancel=function(){if(this._origTarget.releaseCapture&&this._origTarget.releaseCapture(),this._dropTarget_reject(new Error("Drag canceled")),e.current===this){var t=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget&&this._currentTarget.dispatchEvent(t),e.current=null,a()}},e.prototype.drop=function(){if(this._origTarget.releaseCapture&&this._origTarget.releaseCapture(),e.current===this&&this._currentTarget){var t=new CustomEvent("uidragdrop",{bubbles:!0,cancelable:!0,detail:this.detail}),n=!this._currentTarget.dispatchEvent(t);n&&this.cancel(),this._dropTarget_resolve(this._currentTarget);var i=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget.dispatchEvent(i),e.current=null,a()}else this.cancel()},e.prototype.update=function(t,e){var n=this._x,i=this._y;this._setCoords(t,e);for(var r=this._getTarget(this._x,this._y),o=r,s=!1;o&&!s;){if(1==o.nodeType){var a=o.getBoundingClientRect();this._x<a.left+32&&o.scrollLeft>0&&(o.scrollLeft=Math.max(0,o.scrollLeft-8),s=!0),this._y<a.top+32&&o.scrollTop>0&&(o.scrollTop=Math.max(0,o.scrollTop-8),s=!0),this._x>a.right-32&&o.scrollLeft<o.scrollWidth-o.clientWidth&&(o.scrollLeft=o.scrollLeft+8,s=!0),this._y>a.bottom-32&&o.scrollTop<o.scrollHeight-o.clientHeight&&(o.scrollTop=o.scrollTop+8,s=!0)}o=o.parentNode}if(s&&(r=this._getTarget(this._x,this._y)),n!==this._x||i!==this._y){this._moved_resolve(!0);var l=this._currentTarget;if(this._currentTarget=r,this._currentTarget&&this._currentTarget!==l){var c=new CustomEvent("uidragout",{bubbles:!0,cancelable:!0,detail:this.detail});l&&l.dispatchEvent(c);var u=new CustomEvent("uidragover",{bubbles:!0,cancelable:!0,detail:this.detail});this._currentTarget.dispatchEvent(u)}}return s},e.current=null,u([h["default"].observable],e.prototype,"detail",void 0),u([h["default"].observable],e.prototype,"_x",void 0),u([h["default"].observable],e.prototype,"_y",void 0),e}(h["default"].ObservableObject);e.Drag=f;var d,p,v=20,y=null;Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(16),l=function(t){function e(e,n){var i=this;t.call(this,e),this.raiseOnHover=!0,this.raiseOnFocus=!0,this.raised=!1,this._observeRaised=o["default"].observe(function(){return i.raiseOnHover&&i.raiseOnFocus?!(!i.hoverState&&!i.hasFocus):i.raiseOnHover?!!i.hoverState:i.raiseOnFocus?!!i.hasFocus:i.raised}).map(function(t){i.raised=t,i.style.set(t?s["default"].DROPCARD_UP:s["default"].DROPCARD)}),this.raised=!!n}return i(e,t),e.prototype.render=function(){this._observeRaised.value,t.prototype.render.call(this)},r([o["default"].observable],e.prototype,"raiseOnHover",void 0),r([o["default"].observable],e.prototype,"raiseOnFocus",void 0),r([o["default"].observable],e.prototype,"raised",void 0),e}(a["default"]);e.DropCardContainer=l,l.setGlobalCSS("DropCardContainer"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(21),a=n(26),l=n(2),c=n(6),u=n(27),h=n(28),f=n(14),d=function(t){function e(e,n){var i=this;void 0===e&&(e=""),t.call(this),this.secondary=!0,this.dropdown=null,this.popover=null,this.shrinkwrap=!0,this._observeState=o["default"].observe(function(){return{primary:i.primary,secondary:i.secondary,active:i.active}}).map(function(t){t.primary?i.style_button.removeClass("btn-secondary").removeClass("btn-default").addClass("btn-primary"):t.secondary?i.style_button.removeClass("btn-primary").addClass("btn-secondary btn-default"):i.style_button.removeClass("btn-primary").removeClass("btn-secondary").removeClass("btn-default"),t.active?i.style_button.addClass("active"):i.style_button.removeClass("active")}),this.style_button=new l["default"],this.DropdownClicked=o["default"].defineSignal(),this.label=e,this.icon=n,this.style_button.addClass("btn");var r=!1;this.Click.connect(function(t){i.disabled||(r||i.Press(t),i.Click(t),r=!1)}),this.Click=o["default"].defineSignal(),this.Press.connect(function(t){i.disabled||i.Press(t),r=!0}),this.Press=o["default"].defineSignal(),this.Click.connect(function(){if(i.dropdown&&i.dropdown.length)c.Menu.displayAsDropdown(i._btnElement,i.dropdown).then(function(t){return i.DropdownClicked(t)});else if(i.popover instanceof Function){var t=new c.PopOver(new i.popover,i.popoverTitle);i.popoverAbove?t.displayAbove(i._btnElement,i.popoverAnimation):t.displayBelow(i._btnElement,i.popoverAnimation)}else if(i.activity||i.href){var e=i.activity&&(i.activity instanceof s.Activity?i.activity:i.activity.getInstance());a["default"].current?a["default"].current.startActivity(e||i.href):e?window.location.href=String(e instanceof s.ResourceActivity&&e.resourcePath||"#"):i.href&&(window.location.href=String(i.href))}})}return i(e,t),e.withLabel=function(t,e){return this["with"]({label:t,Click:e})},e.withIcon=function(t,e){return this["with"]({label:"",icon:t,Click:e})},e.prototype.render=function(){t.prototype.render.call(this);var e=this._btnElement;e||(e=this._btnElement=document.createElement("button"),e.type="button",this.out.element.id+=" "+Number(new Date),this.out.element.appendChild(e),this.out.elements={btn:e}),this.style_button.applyToObserved(e),e.disabled=this.disabled,h["default"].renderInto(e,this.icon,this.icon?this.remGutter:0,this.label,this.badge),this.iconAfter&&h["default"].renderInto(e,this.iconAfter,this.remGutter,"","",!0,!0),this.tooltipTitle&&(e.title=String(this.tooltipTitle)),this._observeState.value},e.prototype.focus=function(){this._btnElement&&f._focusElementASAP(this._btnElement)},e.prototype.blur=function(){this._btnElement&&this._btnElement.blur()},r([o["default"].observable_string],e.prototype,"label",void 0),r([o["default"].observable],e.prototype,"icon",void 0),r([o["default"].observable],e.prototype,"iconAfter",void 0),r([o["default"].observable],e.prototype,"remGutter",void 0),r([o["default"].observable_string],e.prototype,"badge",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"disabled",void 0),r([o["default"].observable],e.prototype,"active",void 0),r([o["default"].observable],e.prototype,"primary",void 0),r([o["default"].observable],e.prototype,"secondary",void 0),r([o["default"].observable],e.prototype,"dropdown",void 0),r([o["default"].observable],e.prototype,"popover",void 0),r([o["default"].observable],e.prototype,"popoverAbove",void 0),r([o["default"].observable_string],e.prototype,"popoverTitle",void 0),r([o["default"].observable],e.prototype,"href",void 0),r([o["default"].observable],e.prototype,"activity",void 0),r([o["default"].observable_nonNull],e.prototype,"style_button",void 0),e}(u["default"]);e.Button=d,d.setGlobalCSS("Button",void 0,{" button":{width:"100%",marginTop:"-.25rem",marginBottom:"-.25rem"}});var p=function(t){function e(){t.apply(this,arguments),this.primary=!0}return i(e,t),e}(d);e.PrimaryButton=p;var v=function(t){function e(e,n){var i=this;void 0===e&&(e=""),t.call(this,e,n),this.Click.connect(function(){i.active=!i.active})}return i(e,t),e}(d);e.ToggleButton=v;var y=function(t){function e(e,n){void 0===e&&(e=""),t.call(this,e,n),this.secondary=!1,this.style_button.addClass("btn-link")}return i(e,t),e}(d);e.LinkButton=y,y.setGlobalCSS("LinkButton");var b=function(t){function e(e,n){void 0===e&&(e=""),t.call(this,e,n),this.secondary=!1,this.style_button.set({border:"0",boxShadow:"none",outline:"0",background:"transparent",padding:"0",margin:"0",width:"auto",minWidth:"0",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",fontStyle:"inherit",height:"auto",lineHeight:"1em",verticalAlign:"baseline",color:"inherit"})}return i(e,t),e}(d);e.TextButton=b,b.setGlobalCSS("TextButton");var _=function(t){function e(e,n){void 0===e&&(e=""),t.call(this,e,n),this.style_button.set({padding:"0",border:"0",outline:"0",borderRadius:"50%",boxShadow:"none",overflow:"hidden",minWidth:"2.2em",maxWidth:"2.2em",height:"2.2em"})}return i(e,t),e}(d);e.RoundButton=_,_.setGlobalCSS("RoundButton"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=d},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(22)),i(n(23)),i(n(25)),i(n(24))},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=function(t){function e(e){t.call(this),this.options={},this.Activating=o["default"].defineSignal(),this.Activated=o["default"].defineSignal(),this.Suspending=o["default"].defineSignal(),this.Suspended=o["default"].defineSignal(),this.Resuming=o["default"].defineSignal(),this.Resumed=o["default"].defineSignal(),this.Deactivated=o["default"].defineSignal(),void 0!==e&&(this.title=e)}return i(e,t),e.getInstance=function(){return new this},r([o["default"].observable_string],e.prototype,"title",void 0),r([o["default"].observable_seal],e.prototype,"state",void 0),r([o["default"].observable_nonNull],e.prototype,"options",void 0),e}(o["default"].ObservableObject);e.Activity=s;var a=function(t){function e(e,n){t.call(this,e),this.resourcePath=n}return i(e,t),e}(s);e.ResourceActivity=a,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},r=n(3),o=n(22),s=n(24),a="_A"+String(Math.random()).slice(-5),l=0,c=null,u=function(){function t(){this.Transition=r["default"].defineSignal(),this._topIndex=-1,this._stack=[],this._ids=[]}return t.prototype.pushAsync=function(t){var e=this;if(!(t instanceof o["default"]))throw new Error("Invalid activity");return this._upToHubOrRoot(t),this._transitionP=(this._transitionP||r["default"].Promise.resolve(null)).then(function(n){c=null;var i;return e._findParents(t).forEach(function(t){var n=function(){return e._processTransition(t,h.Operation.Push)};i=i?i.then(n):n()}),i||n})},t.prototype.replaceAsync=function(t){var e=this;if(!(t instanceof o["default"]))throw new Error("Invalid activity");return this._upToHubOrRoot(t),this._transitionP=(this._transitionP||r["default"].Promise.resolve(null)).then(function(n){c=null;var i=e._topIndex<0;if(i||e._stack[e._topIndex-1]!==t){var r;return e._findParents(t,!0).forEach(function(t){var n=function(){return e._processTransition(t,r||i?h.Operation.Push:h.Operation.Replace)};r=r?r.then(n):n()}),r||n}return e._processTransition(t,h.Operation.Pop)})},t.prototype.popAsync=function(t){var e=this;return this._transitionP=(this._transitionP||r["default"].Promise.resolve(null)).then(function(){if(c=null,e._topIndex<0)throw new Error("No activity to suspend");return void 0!==t&&e.top!==t?r["default"].Promise.resolve(null):e._processTransition(e._stack[e._topIndex-1],h.Operation.Pop)})},t.prototype.upAsync=function(t){var e=this,n=t instanceof o["default"],i=function(){return(n?e.top===t:e.top instanceof t)?r["default"].Promise.resolve(e.top):e._stack.some(function(e){return n?e===t:e instanceof t})?e._processTransition(e._stack[e._topIndex-1],h.Operation.Pop).then(function(){return i()}):r["default"].Promise.resolve(null)};return this._transitionP=(this._transitionP||r["default"].Promise.resolve(null)).then(function(){return c=null,i()})},t.prototype.restoreHistoryStateAsync=function(t){var e=this,n=this._ids.lastIndexOf(t);if(n<0&&"0"!==t)throw new Error("Cannot resume activities");return n===this._topIndex?r["default"].Promise.resolve(null):(n<this._topIndex?this.popAsync():this.pushAsync(this._stack[this._topIndex+1])).then(function(){return e.restoreHistoryStateAsync(t)})},t.prototype.getHistoryState=function(){return this._ids[this._topIndex]||"0"},t.prototype.getParent=function(t,e){for(var n=this._stack[this._topIndex]===e,i=this._topIndex-1;i>=0;i--){if((n||!e)&&this._stack[i]instanceof t)return this._stack[i];this._stack[i]===e&&(n=!0)}},t.prototype.getViewByName=function(t){for(var e,n=this._topIndex;n>=0;n--)if((e=this._stack[n])instanceof s["default"]){var i=e.getViewByName(t);if(i)return i}},t.prototype.contains=function(t){for(var e=this._topIndex;e>=0;e--)if(this._stack[e]===t)return!0;return!1},Object.defineProperty(t.prototype,"top",{get:function(){if(!(this._topIndex<0))return this._stack[this._topIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._topIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){for(var t=this._topIndex;t>=0;t--)if(void 0!==this._stack[t].title)return this._stack[t].title;return""},enumerable:!0,configurable:!0}),t.prototype._findParents=function(t,e){for(var n=[t];n[0].options.parentActivity;){var i=n[0].options.parentActivity;if(i instanceof o["default"]){if(this.contains(i)&&(!e||this.top!==i))break;n.unshift(i)}else{if(!e&&this.top instanceof i||this.getParent(i))break;n.unshift(i.getInstance())}}return n},t.prototype._upToHubOrRoot=function(t){if(t.options.isRootActivity&&this.contains(t))this.upAsync(t),this._transitionP=this._transitionP.then(function(){return r["default"].sleep(2)});else{var e;(e=t.options.parentActivity)&&(e instanceof o["default"]||(e=this.getParent(e)),e&&e.options.isHubActivity&&this.upAsync(e),this._transitionP=this._transitionP.then(function(){return r["default"].sleep(2)}))}},t.prototype._processTransition=function(t,e){var n=this,i=Object.freeze({activityStack:this,operation:e,from:this.top,to:t,previous:c});if(c=i,this.top===t)return e===h.Operation.Pop&&this._topIndex--,r["default"].Promise.resolve(i);var o=this.top,s=o?new o.Suspending(i).emit().results:[],u=!!t&&this.contains(t);return r["default"].Promise.all(s).then(function(){return r["default"].Promise.all(u?new i.to.Resuming(i).emit().results:i.to?new i.to.Activating(i).emit().results:[])}).then(function(){switch(n.Transition(i),i.operation){case h.Operation.Pop:n._topIndex--;break;case h.Operation.Replace:n._topIndex--;case h.Operation.Push:if(n._stack.length>n._topIndex+1&&n._stack[n._topIndex+1]===i.to)n._topIndex++;else{for(;n._stack.length>n._topIndex+1;){var t=n._stack.pop();n.contains(t)||t.Deactivated(i)}n._topIndex=n._stack.push(i.to)-1,n._ids.length=n._stack.length,n._ids[n._topIndex]=a+l++}}return i.to&&(u?i.to.Resumed(i):i.to.Activated(i)),o&&o.Suspended(i),i})},i([r["default"].observable],t.prototype,"_topIndex",void 0),i([r["default"].observable],t.prototype,"_stack",void 0),t}();e.ActivityStack=u;var h;!function(t){!function(t){t[t.Push=0]="Push",t[t.Replace=1]="Replace",t[t.Pop=2]="Pop"}(t.Operation||(t.Operation={}));t.Operation}(h=e.ActivityTransition||(e.ActivityTransition={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=100),function(i){var r=t["_.mapView"];t["_.mapView"]=function(){var t=this;r&&r.call(this);var a;if(this.mapView(function(){return a||(a=new i(t))},e),n>0){var l=0;this.Suspended.connect(function(){var t=++l;o["default"].sleep(n).then(function(){l===t&&a&&!s["default"].isDisplayed(a)&&(a=void 0)})})}}}}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),s=n(13),a=n(1),l=n(22),c=n(23),u="",h=function(t){function e(e,n,i,r){var s=this;t.call(this,e,n),this.Displaying=o["default"].defineSignal(),this.Displayed=o["default"].defineSignal(),this._viewGetters={},i&&(this._viewGetters[u]=function(){return i}),r&&(this.options.parentActivity=r),this.Activated.connect(function(t){return s._displayMainView(!1,t)}),this.Resumed.connect(function(t){return s._displayMainView(!0,t)}),this.constructor&&this.constructor["_.mapView"]&&this.constructor["_.mapView"].call(this)}return r(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),e.prototype.mapView=function(t,e){void 0===e&&(e=u),this._viewGetters[e]=t},e.prototype.getViewByName=function(t){void 0===t&&(t=u);var e=this._viewGetters[t];return e&&o["default"].unobserved(e)||void 0},e.prototype._displayMainView=function(t,n,i){var r=this,l=function(){if(r.options.parentActivity){var o="function"==typeof r.options.parentActivity?n.activityStack.getParent(r.options.parentActivity,r):r.options.parentActivity;o instanceof e&&o._displayMainView(t,n,i||r)}var l=r._viewGetters[u],c=r._view=l&&l.call(void 0)||void 0;if(c&&!s["default"].isDisplayed(c))return c instanceof a.Container?(c.displayOptions.modal?c.Closed&&"function"==typeof c.Closed.connectOnce&&c.Closed.connectOnce(function(){n.activityStack.popAsync(r)}):s["default"].clear(!0),c.display()):s["default"].display(c),i?i.Suspended.connectOnce(function(t){return r._removeView(t)}):r.Suspended.connectOnce(function(t){return r._removeView(t)}),c};i?l():o["default"].sleep(2).then(function(){if(n.activityStack.top===r){for(var e=n,i=0;e;e=e.previous,i++);var s=Object.seal({transition:n,view:void 0,firstDisplay:!t,forward:n.operation!==c.ActivityTransition.Operation.Pop,hops:i}),a=new r.Displaying(s);o["default"].Promise.all(a.emit().results).then(function(){n.activityStack.top===r&&(s.view=l(),r.Displayed(s))},function(t){if(n.activityStack.top===r)throw n.activityStack.popAsync(r),new Error("Dropping activity: "+t.message)})}})},e.prototype._removeView=function(t){this._view&&s["default"].remove(this._view,t.to instanceof e),delete this._view},e}(l.ResourceActivity);e.ViewActivity=h;var f=function(t){function e(e,n,i,r){t.call(this,e,n,i,r);var o=this.constructor;if(o._instance)throw new Error("Cannot create another instance of this activity");o._instance=this,this.options={isHubActivity:!0,isRootActivity:!0}}return r(e,t),e.getInstance=function(){return this._instance||new this},e}(h);e.SingletonViewActivity=f;var d=function(t){function e(e,n,i){t.call(this,e,n,i),this.options.isHubActivity=!0,this.options.isRootActivity=!0}return r(e,t),e}(f);e.RootViewActivity=d,e.mapToActivity=i,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=n(3),r=n(22),o=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._parts=[],this._parts=t}return t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var i=new t;return i._parts=e,i},t.prototype.toString=function(){var t="#/",e=!0,n=0,i=this._parts.map(function(i,o){i instanceof r.ResourceActivity&&(i=i.resourcePath);var s=String(i),a=s.match(/^(#|\.\.?)?\/|^#/);if(a){var l=a[0];"/"!==l&&"#/"!==l||(e=!0,n=o),e&&(t=l),s&&(e=!1),s=s.slice(l.length)}return s}).slice(n).filter(function(t){return!!t.length}).join("/");return t+i.replace(/\/+$/,"")},t.prototype.match=function(t){var e=String(this),n=!1;if("#"===e.charAt(0)?(t="#"+t.split("#").slice(1).join("#"),"#"===t&&(t="#/"),n=!0):"/"===e.charAt(0)&&"/"!==t.charAt(0)&&(t="/"+t.replace(/^\w*\:\/\//,"").replace(/#.*/,"").split("/").slice(1).join("/")),t.slice(0,e.length)===e&&(t.length===e.length||"/"===e.slice(-1)||"/"===t.charAt(e.length)))return{remainder:t.slice(e.length).replace(/^\/+/,""),isHash:n}},t}();e.ActivityResourcePath=o;var s=function(){function t(){this._Signal=i["default"].defineSignal()}return t.prototype.register=function(t,e){var n=t;return t instanceof o||(n=o.prototype.concat.apply(new o,t instanceof Array?t:[t])),this._Signal.connect(this._getMatcher(n,e))},t.prototype.obtainAsync=function(t){var e=String(t),n=new this._Signal(e).emit();return i["default"].Promise.all(n.results).then(function(t){var n=[];return t.forEach(function i(t){t instanceof Array?t.forEach(i):t instanceof r["default"]&&n.push(t)}),n.forEach(function(t){t instanceof r.ResourceActivity&&void 0===t.resourcePath&&(t.resourcePath=e)}),n})},t.prototype._getMatcher=function(t,e){return function(n){var i=t.match(n);if(i){if(e.length){for(var r=[],o=i.remainder.split("/"),s=0;s<e.length-1;s++)r.push(o.shift());
return r.push(o.join("/")),e.apply(void 0,r)}if(!i.remainder)return e()}}},t}();e.ActivityResourceMap=s},function(t,e,n){"use strict";function i(t){return function(e){f.mapActivity(t,e)}}function r(t){return function(e){f.mapResource(t,function(t){return new e(t)})}}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},a=n(3),l=n(21),c=n(13),u=new l.ActivityResourceMap,h=!0,f=function(t){function e(n){var i=this;if(t.call(this),this.title="",this.PageNotFound=a["default"].defineSignal(),this.NoActivity=a["default"].defineSignal(),this.activities=new l.ActivityStack,e.current||!e._resolve_ready)throw new Error("Cannot construct more than one Application instance");e.current=this.constructor.current=this,this.title=n,c["default"].ready.then(function(){e._resolve_ready(i),e._resolve_ready=null,i._listen(),a["default"].defer(function(){i.activities.length||i._startLocationActivity()}),a["default"].observe(function(){return[i.activities.title,i.title].filter(function(t){return!!t}).join(" - ")}).subscribe(function(t){document.title=t})})}return o(e,t),e.mapActivity=function(t,e){return u.register(t,function(){return e instanceof l.Activity?e:e?e.getInstance():t})},e.mapResource=function(t,e){return u.register(t,e)},e.disableBrowserHistory=function(){h=!1},e.prototype.mapActivity=function(t,n){return e.mapActivity(t,n),this},e.prototype.mapResource=function(t,n){return e.mapResource(t,n),this},e.prototype.getViewByName=function(t){return this.activities.getViewByName(t)},e.prototype.startActivity=function(t,e,n){var i=this;if(t instanceof Function&&t.getInstance&&(t=t.getInstance()),t instanceof l.Activity)return(e?this.activities.replaceAsync(t):this.activities.pushAsync(t)).then(function(t){return[t]});var r=this.activities.top,o=new l.ActivityResourcePath(r instanceof l.ResourceActivity?r:"",String(t)).toString();return"#"===o?o="#/":o||(o="/"),u.obtainAsync(o).then(function(t){return t.length?a["default"].Promise.all(t.map(function(t){return e?i.activities.replaceAsync(t):i.activities.pushAsync(t)})):(n?window.location.href=o:i.PageNotFound(o),[])})},e.prototype.dropActivity=function(t){var e=this;return t?this.activities.upAsync(t).then(function(t){return a["default"].sleep(2,t)}):this.activities.length?this.activities.popAsync().then(function(t){return a["default"].sleep(10).then(function(){return t.to||e.activities.length||e.NoActivity(),t.to})}):(this.NoActivity(),a["default"].Promise.resolve(null))},e.prototype._listen=function(){function t(t){n=!0;try{return t().then(function(){n=!1},function(){n=!1})}catch(e){throw n=!1,e}}var e=this,n=!1;window.addEventListener("hashchange",function(){if(h){var n=String(window.location.hash||"#");if(!window.history.state||!window.history.state.activityID){if("#__"===n.slice(0,3))return void t(function(){return e.activities.restoreHistoryStateAsync(n.slice(3))});"/"!==n.charAt(1)&&(n="#/"+n.slice(1)),t(function(){return e.startActivity(n)})}}});var i=null;window.addEventListener("popstate",function(n){if(h){var r=i=n.state&&n.state.activityID;r&&a["default"].defer(function(){if(r===i&&r!==e.activities.getHistoryState())try{t(function(){return e.activities.restoreHistoryStateAsync(r)}).then(void 0,function(){e._updateHistoryState(l.ActivityTransition.Operation.Push)})}catch(n){e._startLocationActivity(!0)}})}}),this.activities.Transition.connect(function(t){if(n)window.history.state&&!window.history.state.activityID&&e._updateHistoryState(l.ActivityTransition.Operation.Replace);else{var i=t.operation;i!==l.ActivityTransition.Operation.Push||t.from||(i=l.ActivityTransition.Operation.Replace),e._updateHistoryState(i)}})},e.prototype._startLocationActivity=function(t){window.location.hash&&"#"!==window.location.hash?this.startActivity(decodeURIComponent(window.location.hash),t).then(void 0,function(){window.location.hash=""}):this.startActivity(decodeURIComponent(window.location.href),t)},e.prototype._updateHistoryState=function(t){if(h){var e=this.activities.top;switch(t){case l.ActivityTransition.Operation.Push:e instanceof l.ResourceActivity&&e.resourcePath?window.history.pushState?window.history.pushState({activityID:this.activities.getHistoryState(),path:e.resourcePath},this.activities.title,String(e.resourcePath)):window.location.hash="#__"+this.activities.getHistoryState():window.history.pushState?window.history.pushState({activityID:this.activities.getHistoryState()},this.activities.title):window.location.hash="#__"+this.activities.getHistoryState();break;case l.ActivityTransition.Operation.Replace:e instanceof l.ResourceActivity&&e.resourcePath?window.history.replaceState&&window.history.replaceState({activityID:this.activities.getHistoryState(),path:e.resourcePath},this.activities.title,String(e.resourcePath)):window.history.replaceState&&window.history.replaceState({activityID:this.activities.getHistoryState()},this.activities.title);break;case l.ActivityTransition.Operation.Pop:window.history.pushState&&window.history.back()}}},e.ready=new a["default"].Promise(function(t){e._resolve_ready=t}),s([a["default"].observable_string],e.prototype,"title",void 0),e}(a["default"].ObservableObject);e.Application=f,e.mapToPath=i,e.mapToResource=r,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(9),a=n(4),l=function(t){function e(){var n=this;t.call(this),this.elementID="C_"+e._lastEltID++,this.width="auto",this.shrinkwrap=!1,this.wrapText=!1,this.tagName="element",this._observeWidth=o["default"].observe(function(){return[n.width,n.shrinkwrap]}).map(function(t){var e=t[0],i=t[1];"auto"===e&&(e="");var r="%"===e.slice(-1);i?n.style.addClass("shrinkwrap").set({width:r&&e||"",minWidth:e,maxWidth:e}):n.style.removeClass("shrinkwrap").set({width:r&&e||"",minWidth:e,maxWidth:"auto"})}),this._observeWrapText=o["default"].observe(function(){return n.wrapText}).map(function(t){n.style.set({whiteSpace:t?"pre-wrap":""})}),this.Focus.connect(function(){n.hasFocus=n._domFocus=!0,e.ControlFocused(n)}),this.Blur.connect(function(){n.hasFocus=n._domFocus=!1})}return i(e,t),Object.defineProperty(e.prototype,"hasFocus",{get:function(){return!!this.hasFocus},set:function(t){var n=this;if(t!==(this._domFocus||!1))if(t){var i=function(){n.focus(),e.ControlFocused.connectOnce(function(t){t!==n&&(n.hasFocus=n._domFocus)})};this._canFocus?i():this.Rendered.connectOnce(i)}else this._canFocus&&this.blur()},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.out||(this.out=new a.ComponentRenderHtmlOutput(this,document.createElement(this.tagName)),this.out.element.id=this.elementID,this._canFocus=!0),this._observeWidth.value,this._observeWrapText.value},e.prototype.focus=function(){},e.prototype.blur=function(){},e.ControlFocused=o["default"].defineSignal(),e._lastEltID=0,r([o["default"].observable_string],e.prototype,"width",void 0),r([o["default"].observable],e.prototype,"shrinkwrap",void 0),r([o["default"].observable],e.prototype,"wrapText",void 0),r([o["default"].observable],e.prototype,"hasFocus",null),e}(s["default"]);e.ControlElement=l,l.setGlobalCSS("ControlElement",{position:"relative",display:"table-cell",verticalAlign:"middle",boxSizing:"border-box",borderSpacing:"initial",margin:"0",padding:"0",lineHeight:"normal",width:"auto",minWidth:"auto",whiteSpace:"pre"},{".shrinkwrap":{width:"1px",maxWidth:"auto"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(27),a=n(14),l=function(t){function e(e,n,i,r){void 0===e&&(e=""),t.call(this),this.shrinkwrap=!0,this.text=e,this.icon=n,this.badge=r,void 0!==i&&(this.remGutter=i),this.tagName="p"}return i(e,t),e.withText=function(t,e){return this["with"]({text:t,style:e})},e.prototype.render=function(){t.prototype.render.call(this);var n=this.out.element;e.renderInto(n,this.icon,this.remGutter,this.text,this.badge),this.tooltipTitle&&(n.title=this.tooltipTitle),this.focusable?n.tabIndex=0:n.removeAttribute("tabIndex")},e.renderInto=function(t,e,n,i,r,o,s){if(!o)for(;t.firstChild;)t.removeChild(t.firstChild);if(e||n>0){var a=document.createElement("icon");if(n>=0&&(a.style.width="1.3em",a.style.maxWidth="1.3em",a.style.overflow="visible",a.style.boxSizing="content-box",s?(a.style.paddingLeft=n+"rem",a.style.marginLeft="-1.3em"):(a.style.paddingRight=n+"rem",a.style.marginRight="-1.3em")),e){e=e.replace(/\s+([\w-]+)\s*=\s*(\"[^\"]*\"|[^\s]+)/g,function(t,e,n){return e=e.replace(/-\w/g,function(t){return t.charAt(1).toUpperCase()}),a.style[e]='"'===n.charAt(0)?JSON.parse(n):n,""});var l=e.split("-",1)[0];l!==e&&(e=l+" "+e),a.className=e}t.appendChild(a)}var c=void 0!==i&&String(i);if(c){!e||n>0||(c=" "+c);var u=document.createElement("span");u.textContent=c,t.appendChild(u)}var h=void 0!==r&&String(r);if(h){var f=document.createElement("badge");f.className="badge tag tag-default",f.style.marginLeft=".5rem",f.textContent=h,t.appendChild(f)}return t},e.prototype.focus=function(){var t=this;o["default"].defer(function(){return a._focusElementASAP(t.out.element)})},e.prototype.blur=function(){var t=this;o["default"].defer(function(){return t.out.element.blur()})},r([o["default"].observable_string],e.prototype,"text",void 0),r([o["default"].observable],e.prototype,"icon",void 0),r([o["default"].observable],e.prototype,"remGutter",void 0),r([o["default"].observable_string],e.prototype,"badge",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"focusable",void 0),e}(s["default"]);e.Label=l,l.setGlobalCSS("Label",{cursor:"inherit",overflow:"hidden"});var c=function(t){function e(e,n,i,r){void 0===e&&(e=""),t.call(this,e,n,i,r),this.shrinkwrap=!1,this.style.override({maxWidth:"1px",textOverflow:"ellipsis"})}return i(e,t),e}(l);e.WideLabel=c,c.setGlobalCSS("WideLabel");var u=function(t){function e(){t.apply(this,arguments),this.shrinkwrap=!1,this.wrapText=!0}return i(e,t),e.LINE_HEIGHT="1.65em",e}(l);e.Paragraph=u,u.setGlobalCSS("Paragraph",{lineHeight:u.LINE_HEIGHT});var h=function(t){function e(e,n,i,r){void 0===e&&(e=""),t.call(this,e,n,i,r),this.tagName="h1",this.style.override({fontSize:""})}return i(e,t),e}(l);e.Heading1=h,h.setGlobalCSS("Heading");var f=function(t){function e(){t.apply(this,arguments),this.tagName="h2"}return i(e,t),e}(h);e.Heading2=f;var d=function(t){function e(){t.apply(this,arguments),this.tagName="h3"}return i(e,t),e}(h);e.Heading3=d;var p=function(t){function e(){t.apply(this,arguments),this.tagName="h4"}return i(e,t),e}(h);e.Heading4=p;var v=function(t){function e(){t.apply(this,arguments),this.tagName="h5"}return i(e,t),e}(h);e.Heading5=v;var y=function(t){function e(){t.apply(this,arguments),this.tagName="h6"}return i(e,t),e}(h);e.Heading6=y,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(15),l=n(13),c=n(12),u=function(t){function e(e,n,i){var r=this;t.call(this,e),this.width="20rem",this.maxOuterWidth="90%",this.Closed=o["default"].defineSignal(),this.style.set({minWidth:"auto"}),void 0!==n&&(this.width=n),void 0!==i&&(this.maxOuterWidth=i),this.style.set({borderTopWidth:"0",borderBottomWidth:"0",borderLeftWidth:"0",borderRightWidth:"0"}),this.displayOptions={modal:!0,shade:!0,horzAlign:c["default"].HorzAlign.Left,vertAlign:c["default"].VertAlign.Middle,onEsc:function(){r.close()}},this.animations.appear=a["default"].basic["in"].fadeRight.withTiming(300),this.animations.disappear=a["default"].basic.out.fadeLeft.withTiming(300)}return i(e,t),e.prototype.close=function(){return l["default"].remove(this),this.Closed(),this},e.prototype.render=function(){this.style.set({maxWidth:this.width,width:this.maxOuterWidth}),t.prototype.render.call(this)},r([o["default"].observable_string],e.prototype,"width",void 0),r([o["default"].observable_string],e.prototype,"maxOuterWidth",void 0),e}(c["default"]);e.DrawerContainer=u;var h=function(t){function e(e,n,i){t.call(this,e,n,i),this.displayOptions.horzAlign=c["default"].HorzAlign.Right,this.animations.appear=a["default"].basic["in"].fadeLeft.withTiming(300),this.animations.disappear=a["default"].basic.out.fadeRight.withTiming(300)}return i(e,t),e}(u);e.OppositeDrawerContainer=h,u.setGlobalCSS("DrawerContainer panel panel-default card",[{display:"inline-table",borderSpacing:"0",borderRadius:"0",margin:"0"},s["default"].DROPCARD_UP_SHADOW],{" > containerwrapper":{maxWidth:"auto !important"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(9),a=n(12),l=n(6),c=n(10),u=n(14),h=function(t){function e(){t.apply(this,arguments),this.header=null,this.headerHeight=e.HEADER_HEIGHT,this.footer=null,this.footerHeight=e.FOOTER_HEIGHT,this.leftGutter=null,this.leftGutterWidth=e.LEFT_GUTTER_WIDTH,this.rightGutter=null,this.rightGutterWidth=e.RIGHT_GUTTER_WIDTH,this.scrollable=!0}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.header=c._transformObservableInitializer(t,"header",a["default"],n),e.footer=c._transformObservableInitializer(t,"footer",a["default"],n),e.leftGutter=c._transformObservableInitializer(t,"leftGutter",a["default"],n),e.rightGutter=c._transformObservableInitializer(t,"rightGutter",a["default"],n)})},e.prototype.setHeaderRow=function(t,e){e instanceof l.Row||(e=(new l.Row).initializeWith(e instanceof Array?{content:e}:e)),e.height=t,this.headerHeight=t,this.header=new a["default"]([e])},e.prototype.setFooterRow=function(t,e){e instanceof l.Row||(e=(new l.Row).initializeWith(e)),e.height=t,this.footerHeight=t,this.footer=new a["default"]([e])},e.prototype.render=function(){var e=!this.out;t.prototype.render.call(this),e&&(this._centerWrapper=document.createElement("layoutcenter"),this._headerWrapper=document.createElement("header"),this._footerWrapper=document.createElement("footer"),this._leftWrapper=document.createElement("layoutleft"),this._rightWrapper=document.createElement("layoutright"));var n=[],i=this.out,r="0",o="0",s="0",a="0";n.push(u._replaceInner(this._centerWrapper,[i.elements.wrapper])),this.leftGutter&&(this._leftWrapper.style.width=s=this.leftGutterWidth,"0"!==s&&n.push(u._replaceInner(this._leftWrapper,[this.leftGutter.out]))),this.rightGutter&&(this._rightWrapper.style.width=a=this.rightGutterWidth,"0"!==a&&n.push(u._replaceInner(this._rightWrapper,[this.rightGutter.out]))),this.header&&(this._headerWrapper.style.height=r=this.headerHeight,"0"!==r&&n.push(u._replaceInner(this._headerWrapper,[this.header.out]))),this.footer&&(this._footerWrapper.style.height=o=this.footerHeight,"0"!==o&&n.push(u._replaceInner(this._footerWrapper,[this.footer.out]))),this._centerWrapper.style.top=r,this._centerWrapper.style.bottom=o,this._centerWrapper.style.left=s,this._centerWrapper.style.right=a,this._leftWrapper.style.top=r,this._leftWrapper.style.bottom=o,this._rightWrapper.style.top=r,this._rightWrapper.style.bottom=o,this.style.set({overflow:"hidden"}),this._centerWrapper.style.overflow=this.scrollable?"auto":"hidden",u._replaceInner(i,n)},e.prototype.getChildren=function(){var e=t.prototype.getChildren.call(this);return this.leftGutter instanceof s["default"]&&e.unshift(this.leftGutter),this.rightGutter instanceof s["default"]&&e.push(this.rightGutter),this.header instanceof s["default"]&&e.unshift(this.header),this.footer instanceof s["default"]&&e.push(this.footer),e},e.LEFT_GUTTER_WIDTH="18rem",e.RIGHT_GUTTER_WIDTH="22rem",e.HEADER_HEIGHT="4rem",e.FOOTER_HEIGHT="2rem",r([o["default"].observable],e.prototype,"header",void 0),r([o["default"].observable_string],e.prototype,"headerHeight",void 0),r([o["default"].observable],e.prototype,"footer",void 0),r([o["default"].observable_string],e.prototype,"footerHeight",void 0),r([o["default"].observable],e.prototype,"leftGutter",void 0),r([o["default"].observable_string],e.prototype,"leftGutterWidth",void 0),r([o["default"].observable],e.prototype,"rightGutter",void 0),r([o["default"].observable_string],e.prototype,"rightGutterWidth",void 0),r([o["default"].observable],e.prototype,"scrollable",void 0),e}(a["default"]);e.LayoutContainer=h,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h,h.setGlobalCSS("LayoutContainer",{display:"block"},{" > layoutcenter":{position:"absolute"}," > header":{position:"absolute",top:"0",left:"0",right:"0"}," > footer":{position:"absolute",bottom:"0",left:"0",right:"0"}," > layoutleft":{position:"absolute",left:"0"}," > layoutright":{position:"absolute",right:"0"}})},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(9),a=n(4),l=n(14),c=function(t){function e(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i-0]=arguments[i];t.call(this),this.height="auto",this.selected=!1,this.tagName="block",this._hasFocus=o["default"].ObservableValue.fromValue(!1),this._hoverState=o["default"].ObservableValue.fromValue(!1);var r=this._inner=n.length?n:void 0;if(r&&r[0]&&11===r[0].nodeType){var s=r[0].firstChild;for(r.length=0;s;)r.push(s),s=s.nextSibling}this.MouseOver.connect(function(){e._hoverState.value=!0}),this.MouseOut.connect(function(){e._hoverState.value=!1}),this.Blur.connect(function(){e._hasFocus.value=!1}),this.Focus.connect(function(){e._hasFocus.value=!0});var a=this.constructor._initFactory;a&&a._isComponentFactory&&o["default"].defer(a._init,[this])}return i(e,t),Object.defineProperty(e.prototype,"hoverState",{get:function(){return this._hoverState.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasFocus",{get:function(){return this._hasFocus.value},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.out||(this.out=new a.ComponentRenderHtmlOutput(this,document.createElement(this.tagName))),this.height&&"auto"!==this.height?this.style.set({height:this.height}):this.style.set({height:""}),this._inner&&l._replaceInner(this.out,this._inner.map(function(t){return t instanceof o["default"].ObservableValue&&(t=t.value),t instanceof s["default"]?t.out:t}))},e.prototype.getChildren=function(){return(this._inner||[]).map(function(t){return t instanceof o["default"].ObservableValue?t.value:t}).filter(function(t){return t instanceof s["default"]})},r([o["default"].observable_string],e.prototype,"height",void 0),r([o["default"].observable],e.prototype,"selected",void 0),e}(s["default"]);e.Block=c,c.setGlobalCSS("Block",{lineHeight:"normal",display:"block",position:"relative",boxSizing:"border-box",textAlign:"left",outline:"0"},{" containerwrapper":{display:"table",borderSpacing:"0",height:"100%",margin:"0 auto"}," containerwrapper > div":{display:"table-cell"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(31),a=n(6),l=n(10),c=n(14),u=function(t){function e(e){t.call(this),this.height="auto",this.container=e||new a.Container}return i(e,t),e["with"]=function(t){return s["default"]["with"].call(this,t).afterEach(function(e,n){e.container=l._transformObservableInitializer(t,"container",a.Container,n)})},e.prototype.render=function(){t.prototype.render.call(this);var e=!this.height||"auto"===this.height;this.container instanceof a.LayoutContainer&&e?this.style.set({height:"100%"}):this.style.set({height:e?"":this.height}),c._replaceInner(this.out,[this.container&&this.container.out])},e.prototype.getChildren=function(){return this.container?[this.container]:[]},r([o["default"].observable],e.prototype,"container",void 0),r([o["default"].observable_string],e.prototype,"height",void 0),e}(s["default"]);e.ContainerBlock=u,u.setGlobalCSS("ContainerBlock",{fontSize:"0",lineHeight:"0"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(31),a=function(t){function e(n,i,r,o,s){t.call(this),this.lineStyle=e.DEFAULT_LINE_STYLE,this.color=n||e.DEFAULT_COLOR,this.thickness=i||e.DEFAULT_THICKNESS,this.margin=r||e.DEFAULT_MARGIN,o&&(this.insetLeft=o),s&&(this.insetRight=s),this.tagName="hr"}return i(e,t),e.prototype.render=function(){this.style.set({borderWidth:"0 0 "+this.thickness,borderColor:this.color,borderStyle:this.lineStyle,marginTop:this.margin,marginBottom:this.margin,marginLeft:this.insetLeft,marginRight:this.insetRight}),t.prototype.render.call(this)},e.DEFAULT_COLOR="rgba(0,0,0,.125)",e.DEFAULT_THICKNESS="1px",e.DEFAULT_LINE_STYLE="solid",e.DEFAULT_MARGIN=".5rem",r([o["default"].observable],e.prototype,"lineStyle",void 0),r([o["default"].observable],e.prototype,"color",void 0),r([o["default"].observable],e.prototype,"thickness",void 0),r([o["default"].observable],e.prototype,"margin",void 0),r([o["default"].observable_string],e.prototype,"insetLeft",void 0),r([o["default"].observable_string],e.prototype,"insetRight",void 0),e}(s["default"]);e.Divider=a,a.setGlobalCSS("Divider",{boxSizing:"content-box",height:"0",lineHeight:"0",fontSize:"0",padding:"0",margin:"0",border:"0"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(31),a=n(33),l=n(9),c=n(10),u=n(5),h=n(14),f=function(t){function e(e){var n=this;t.call(this),this.items=[],this.allowSelection=!1,this.selectedItem=null,this.selectedIndex=-1,this.SelectionChange=o["default"].defineSignal(),this._dividers={},e&&(this.items=e),this.KeyDown.connect(function(t){function e(t,e,n){var i=t.childNodes[n?2*e:e];if(i)for(var r=i.offsetTop,o=i.offsetHeight;i.offsetParent;){var s=i.offsetParent;s.scrollTop+s.offsetHeight<r+o&&(s.scrollTop=r+o-s.offsetHeight),s.scrollTop>r&&(s.scrollTop=r),r+=s.offsetTop-s.scrollTop,i=s}}n.allowSelection&&t.target===t.currentTarget&&(38==t.keyCode&&n.selectedIndex>0&&(e(t.target,--n.selectedIndex,!!n.divider),t.preventDefault()),40==t.keyCode&&n.selectedIndex<n.items.length-1&&(e(t.target,++n.selectedIndex,!!n.divider),t.preventDefault()))}),this.PropertyChange.connect(function(t){var e=n.selectedIndex;switch(t){case"selectedIndex":for(var i=n.items.length-1;i>=0;i--)if(n.items[i]instanceof s["default"]){var r=n.items[i].selected=i===e;r?n.items[i].style.select():n.items[i].style.deselect()}e>=0?n.selectedItem=n.items[e]||null:n.selectedItem=null,n.SelectionChange({list:n,selectedIndex:n.selectedIndex,selectedItem:n.selectedItem});break;case"selectedItem":if(n.selectedItem){if(e<0||e>n.items.length||n.items[e]!==n.selectedItem){for(var o=n.selectedItem,i=n.items.length-1;i>=0;i--)if(n.items[i]===o)return void(n.selectedIndex=i);n.selectedItem=null,n.selectedIndex=-1}}else n.selectedItem=null,n.selectedIndex=-1}}),this.Rendered.connect(function(){o["default"].observe(function(){return n.selectedIndex>n.items.length}).subscribe(function(){n.selectedIndex>n.items.length&&(n.selectedIndex=-1)})})}return i(e,t),e["with"]=function(t){var e=s["default"]["with"].call(this,t).afterEach(function(e,n){e.items=c._transformFactoryArray("items",t.items,s["default"],n),void 0!==t.selectedIndex&&(e.selectedIndex=t.selectedIndex)});return"string"==typeof t.items&&(e=e.bind("items",t.items)),e},e.withItems=function(t){return this["with"]({items:t})},e.prototype.render=function(){var e=this;t.prototype.render.call(this),this.allowSelection?this.out.element.tabIndex=0:this.out.element.removeAttribute("tabIndex");var n=[],i={},r=this.divider&&a["default"]["with"](this.divider);this.items.forEach(function(t){if(r&&t&&n.length){var s=i[t.uid]=e._dividers[t.uid]||o["default"].unobserved(function(){return r.create()});n.push(s)}t&&n.push(t)}),this._dividers=i;var s=this.allowSelection?this.items.map(function(t,n){return t&&t.Press.connect(function(){e.selectedIndex=n})}):null;this._clickConnections&&this._clickConnections.forEach(function(t){return t&&t.disconnect()}),this._clickConnections=s,this.allowSelection&&o["default"].unobserved(function(){var t=e.selectedIndex;e.selectedItem!==(e.items[t]||null)&&(e.selectedIndex=-1,e.selectedIndex=t)}),h._replaceInner(this.out,n)},e.prototype.getChildren=function(){return this.items.filter(function(t){return t instanceof l["default"]})},e.prototype.getFormValues=function(e){return void 0===e&&(e={}),this.name?e[this.name]=this.items.mapAsyncValues(function(t){return o["default"].observe(function(){return t.getFormValues()})}):t.prototype.getFormValues.call(this,e),e},e.prototype.setFormValues=function(e){var n=this;o["default"].unobserved(function(){n.name?e&&e[n.name]&&n.items.forEach(function(t,i){t&&t.setFormValues(e[n.name][i])}):t.prototype.setFormValues.call(n,e)})},r([o["default"].observable_nonNull],e.prototype,"items",void 0),r([o["default"].observable],e.prototype,"divider",void 0),r([o["default"].observable],e.prototype,"allowSelection",void 0),r([o["default"].observable],e.prototype,"selectedItem",void 0),r([o["default"].observable],e.prototype,"selectedIndex",void 0),r([o["default"].observable],e.prototype,"name",void 0),e}(s["default"]);e.List=f,e.ListSelectionHandler=u.ActionHandler,f.setGlobalCSS("List"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(21),a=n(26),l=n(6),c=n(31),u=n(32),h=n(9),f=n(5),d=n(14),p=function(t){function e(n,i,r,s){var a=this;if(void 0===r&&(r=-1),t.call(this),this.navItems=[],this.type=e.Type.Tabs,this.NavChange=o["default"].defineSignal(),this._li=[],this._containerBlock=new u["default"],n&&(this.navItems=n),void 0!==i&&(this.type=i),this.selectedIndex=r,this.selectedKey=s,void 0!==s)this.selectedKey=s;else{var l=this.navItems[r];this.selectedKey=l?l.key:void 0}this.PropertyChange.connect(function(t){switch(t){case"selectedIndex":var e=a.selectedIndex>=0?a.navItems[a.selectedIndex]:null;a.selectedKey=e?e.key:void 0,a.NavChange({navList:a,selectedIndex:a.selectedIndex,selectedKey:a.selectedKey});break;case"selectedKey":var n=a.selectedKey,i=a.navItems[a.selectedIndex];if(!i||i.key!=n){for(var r=0;r<a.navItems.length;r++)if(a.navItems[r].key==n)return void(a.selectedIndex=r);a.selectedIndex=-1}}})}return i(e,t),e.withItems=function(t){return this["with"]({navItems:t})},e.prototype.activate=function(t){var e=this,n="string"==typeof t?this.navItems.reduce(function(e,n,i){return n.key==t?i:e},-1):t,i=this.navItems[this.selectedIndex=n];if(i&&(i.activity||i.href)){var r=i.activity&&(i.activity instanceof s.Activity?i.activity:i.activity.getInstance());a["default"].current?this.BaseActivityClass?a["default"].current.dropActivity(this.BaseActivityClass).then(function(){return a["default"].current.startActivity(r||i.href,!e.activityPushMode)}):a["default"].current.startActivity(r||i.href,!this.activityPushMode,!0):r?window.location.href=String(r instanceof s.ResourceActivity&&r.resourcePath||"#"):i.href&&(window.location.href=String(i.href))}return this},e.prototype.render=function(){var n=this;t.prototype.render.call(this),this._ul||(this._ul=document.createElement("ul")),o["default"].unobserved(function(){
for(var t=0;t<n.navItems.length;t++)if(n.navItems[t].activity&&a["default"].current)for(var e=a["default"].current.activities.top;e;){if(e===n.navItems[t].activity){n.selectedIndex=t;break}var i=e.options.parentActivity;e=i&&(i instanceof s.Activity?i:a["default"].current.activities.getParent(i,e))}else if(n.navItems[t].href){var r=n.navItems[t].href;if("string"==typeof r&&/^#?\.\.?\//.test(r)){var o=r.slice(r.indexOf("/"));if(String("#"===r.charAt(0)?window.location.hash:window.location.pathname).slice(-o.length)===o){n.selectedIndex=t;break}}else{var o=r instanceof s.ActivityResourcePath?r:new s.ActivityResourcePath(n.navItems[t].href);if(o.match(window.location.href)){n.selectedIndex=t;break}}}});var i="nav ";switch(this.type){case e.Type.Tabs:i+="nav-tabs";break;case e.Type.Pills:i+="nav-pills";break;case e.Type.StackedPills:i+="nav-pills nav-stacked"}this.justified&&(i+="nav-justified"),this._ul.className=i,this._li.length=this.navItems.length,d._replaceInner(this._ul,this.navItems.map(function(t,e){if(!t)return null;var i=n._li[e];i||(n._li[e]=i=document.createElement("li"),i.appendChild(document.createElement("a")),i.onclick=function(){return n.activate(e),!1}),l.Label.renderInto(i.firstChild,t.icon,t.iconGutter,t.label,t.badge);var r=e===n.selectedIndex;return i.className=r?"nav-item active":"nav-item",i.firstChild.className=r?"nav-link active":"nav-link",i})),this.navItems&&this.navItems[this.selectedIndex]&&o["default"].unobserved(function(){n._containerBlock.container=n.navItems[n.selectedIndex].container||null}),d._replaceInner(this.out,[this._ul,this._containerBlock.container?this._containerBlock.out:null])},e.prototype.getChildren=function(){return this.navItems.map(function(t){return t&&t.container}).filter(function(t){return t instanceof h["default"]})},r([o["default"].observable_nonNull],e.prototype,"navItems",void 0),r([o["default"].observable],e.prototype,"selectedIndex",void 0),r([o["default"].observable],e.prototype,"selectedKey",void 0),r([o["default"].observable],e.prototype,"type",void 0),r([o["default"].observable],e.prototype,"justified",void 0),r([o["default"].observable],e.prototype,"BaseActivityClass",void 0),r([o["default"].observable],e.prototype,"activityPushMode",void 0),e}(c["default"]);e.NavList=p;var p;!function(t){}(p=e.NavList||(e.NavList={}));var p;!function(t){!function(t){t[t.Tabs=0]="Tabs",t[t.Pills=1]="Pills",t[t.StackedPills=2]="StackedPills"}(t.Type||(t.Type={}));t.Type}(p=e.NavList||(e.NavList={})),e.NavListSelectionHandler=f.ActionHandler,p.setGlobalCSS("NavList"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=p},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(31),a=n(6),l=n(9),c=n(10),u=n(14),h=function(t){function e(n){var i=this;t.call(this),this.content=[],this.spacing=e.DEFAULT_SPACING,this._allShrink=o["default"].observe(function(){return i.content.every(function(t){return!t||t.hidden||t.shrinkwrap&&!(t.width&&"%"===t.width.slice(-1))})}),void 0!==n&&(this.content=n),this.tagName="row"}return i(e,t),e["with"]=function(t){return s["default"]["with"].call(this,t).afterEach(function(e,n){e.content=c._transformFactoryArray("content",t.content,a.ControlElement,n)})},e.withContent=function(t){return this["with"]({content:t})},e.prototype.initializeWithContent=function(t){return this.initializeWith({content:t})},e.prototype.render=function(){if(t.prototype.render.call(this),this._wrapper||(this._wrapper=document.createElement("rowwrapper"),this.out.element.appendChild(this._wrapper)),this._wrapper.style.borderSpacing=this.spacing+" 0",this.height&&"auto"!==this.height){this.style.set({maxHeight:this.height,overflow:"hidden"});var e=parseFloat(this.height)||0,n=e?(e/2).toFixed(4)+this.height.replace(/^[\d\.]+/,""):"0";this._wrapper.style.margin=n+" 0 0 0",this._wrapper.style.transform="translateY(-50%)",this._wrapper.style.msTransform="translateY(-50%)"}else this.style.get("maxHeight")&&this.style.set({maxHeight:"auto",overflow:"visible"}),this._wrapper.style.margin=(this.verticalSpacing||this.spacing)+" 0",this._wrapper.style.transform="",this._wrapper.style.msTransform="";u._replaceInner(this.out,this.content.map(function(t){return t&&t.out}).filter(function(t){return!!t}),this._wrapper),this._wrapper.style.width=this._allShrink.value?"auto":"100%"},e.prototype.getChildren=function(){return this.content.filter(function(t){return t instanceof l["default"]})},e.DEFAULT_SPACING="1rem",r([o["default"].observable_nonNull],e.prototype,"content",void 0),r([o["default"].observable_string],e.prototype,"spacing",void 0),r([o["default"].observable],e.prototype,"verticalSpacing",void 0),e}(s["default"]);e.Row=h;var f=function(t){function e(){t.apply(this,arguments),this.spacing="0",this.verticalSpacing="0"}return i(e,t),e}(h);e.CloseRow=f;var d=function(t){function e(e){t.call(this,e),this.style.set({position:"absolute",left:"0",right:"0"})}return i(e,t),e.prototype.fixLeft=function(t,e){return this.style.set({left:t,right:"auto",width:e||"auto",overflowX:"hidden"}),this},e.prototype.fixRight=function(t,e){return this.style.set({right:t,left:"auto",width:e||"auto"}),this},e}(h);e.OverlayRow=d;var p=function(t){function e(e){t.call(this,e),this.style.set({top:"0"})}return i(e,t),e.prototype.moveDown=function(t){return this.style.set({top:t}),this},e}(d);e.TopOverlayRow=p;var v=function(t){function e(e){t.call(this,e),this.style.set({bottom:"0"})}return i(e,t),e.prototype.moveUp=function(t){return this.style.set({bottom:t}),this},e}(d);e.BottomOverlayRow=v,h.setGlobalCSS("Row",{lineHeight:"0",margin:"0",padding:"0",maxHeight:"auto",overflow:"visible"},{" rowwrapper":{display:"table"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(31),a=n(38),l=n(9),c=n(10),u=n(14),h=function(t){function e(e,n,i){var r=this;void 0===i&&(i=[]),t.call(this),this.options={},this._observeOptions=o["default"].observe(function(){return{striped:r.options&&r.options.striped,bordered:r.options&&r.options.bordered,hover:r.options&&r.options.hover,condensed:r.options&&r.options.condensed}}).map(function(t){t.striped?r.style.addClass("table-striped"):r.style.removeClass("table-striped"),t.bordered?r.style.addClass("table-bordered"):r.style.removeClass("table-bordered"),t.hover?r.style.addClass("table-hover"):r.style.removeClass("table-hover"),t.condensed?r.style.addClass("table-condensed table-sm"):r.style.removeClass("table-condensed").removeClass("table-sm")}),this.header=new a.TableHeader(e,n),this.rows=i,this.tagName="table"}return i(e,t),e["with"]=function(t){return s["default"]["with"].call(this,t).afterEach(function(e,n){e.header=c._transformObservableInitializer(t,"header",a.TableHeader,n),e.rows=c._transformFactoryArray("rows",t.rows,a["default"],n)})},e.withRows=function(t){return this["with"]({rows:t})},e.prototype.render=function(){t.prototype.render.call(this),this._thead||(this._thead=document.createElement("thead")),this._tbody||(this._tbody=document.createElement("tbody")),this._observeOptions.value;var e=this.header;u._replaceInner(this._thead,e&&e.columns&&e.columns.length?[e.out]:[]);var n=this.rows;n.forEach(function(t,e){t&&(t.rowIndex=e)}),u._replaceInner(this.out,n.map(function(t){return t&&t.out}),this._tbody),u._replaceInner(this.out.element,[n.length&&e&&e.columns.length?this._thead:null,this._tbody])},e.prototype.getChildren=function(){var t=this.rows.filter(function(t){return t instanceof l["default"]});return this.header&&t.unshift(this.header),t},e.prototype.getFormValues=function(e){return void 0===e&&(e={}),this.name?e[this.name]=this.rows.mapAsyncValues(function(t){return o["default"].observe(function(){return t.getFormValues()})}):t.prototype.getFormValues.call(this,e),e},e.prototype.setFormValues=function(e){var n=this;o["default"].unobserved(function(){n.name&&e&&e[n.name]?n.rows.forEach(function(t,i){t&&t.setFormValues(e[n.name][i])}):t.prototype.setFormValues.call(n,e)})},r([o["default"].observable],e.prototype,"header",void 0),r([o["default"].observable_nonNull],e.prototype,"rows",void 0),r([o["default"].observable_nonNull],e.prototype,"options",void 0),r([o["default"].observable],e.prototype,"name",void 0),e}(s["default"]);e.Table=h,h.setGlobalCSS("Table table",{display:"table",margin:"0",borderSpacing:"initial"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(31),l=n(6),c=n(9),u=n(10),h=n(14),f=function(t){function e(e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i=[]),t.call(this),this.rowIndex=-1,this.colTagName="td",this.columns=e,this.widths=n,this.styles=i,this.tagName="tr"}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.columns=u._transformFactoryArray("columns",t.columns,l.ControlElement,n,!0)})},e.withColumns=function(t){return this["with"]({columns:t})},e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.colTagName,i=this.styles.length;h._replaceInner(this.out,this.columns.map(function(t,r){var o=document.createElement(n);if(t instanceof l.ControlElement&&(o.style.verticalAlign="middle"),r<i&&e.styles[r]){var c=e.styles[r];c instanceof s["default"]||(c=new s["default"](c)),c.applyTo(o)}if(e.widths[r]&&(o.style.width=e.widths[r]),t instanceof a["default"]||t instanceof l.ControlElement){var u=document.createElement("div");u.style.display="inline-block",u.style.width="100%",u.appendChild(t.out.element),o.appendChild(u)}else o.innerText=t||0===t?String(t):"",o.style.whiteSpace="pre-wrap";return o}))},e.prototype.getChildren=function(){return this.columns.filter(function(t){return t instanceof c["default"]})},r([o["default"].observable_nonNull],e.prototype,"columns",void 0),r([o["default"].observable_nonNull],e.prototype,"widths",void 0),r([o["default"].observable_nonNull],e.prototype,"styles",void 0),e}(a["default"]);e.TableRow=f;var d=function(t){function e(){t.apply(this,arguments),this.colTagName="th"}return i(e,t),e}(f);e.TableHeader=d,f.setGlobalCSS("TableRow",{display:"table-row",boxSizing:"border-box",position:"initial"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(6),a=n(27),l=n(10),c=n(14),u=function(t){function e(e){t.call(this),this.height="auto",this.block=e||new s.Row}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.block=l._transformObservableInitializer(t,"block",s.Block,n)})},e.prototype.render=function(){this.style.set({height:this.height}),t.prototype.render.call(this),c._replaceInner(this.out,[this.block&&this.block.out])},e.prototype.getChildren=function(){return this.block?[this.block]:[]},r([o["default"].observable],e.prototype,"block",void 0),r([o["default"].observable_string],e.prototype,"height",void 0),e}(a["default"]);e.BlockControl=u,u.setGlobalCSS("BlockControl"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(20),a=n(27),l=n(10),c=n(14),u=function(t){function e(e){var n=this;t.call(this),this.shrinkwrap=!0,this.makeActivePrimary=!0,this._watchActiveIndex=o["default"].observe(function(){var t=Number(n.activeIndex),e=t>=0&&n.buttons[t];o["default"].unobserved(function(){e&&(e.active=!0,n.makeActivePrimary&&(e.primary=!0)),n.multiToggle||n.buttons.forEach(function(t){t&&t!==e&&(t.active=!1)})})}),this._watchButtons=o["default"].observe(function(){var t=n.multiToggle,e=n.makeActivePrimary;n.buttons.forEach(function(i,r){i&&o["default"].unobserved(function(){return o["default"].observe(function(){return i.active}).map(function(o){o?n.activeIndex=r:t||n.activeIndex!==r?e&&(i.primary=!1):i.active=!0})}).value})}),this.buttons=e||[]}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.buttons=l._transformFactoryArray("buttons",t.buttons,a["default"],n),void 0!==t.activeIndex&&e.activate(e.activeIndex)})},e.withButtons=function(t,e,n,i){return this["with"]({buttons:t,activeIndex:e,multiToggle:n,Click:i})},e.prototype.activate=function(t){void 0===t&&(t=-1),t=Number(t);var e=this.buttons[t];this.activeIndex=e?t:void 0,e instanceof s["default"]&&!e.active&&e.Click()},e.prototype.render=function(){t.prototype.render.call(this),c._replaceInner(this.out,this.buttons.map(function(t){var e=t&&t.out;return t&&t.width&&t.style_button.set("width","auto"===t.width?"":t.width),e?e.liveElement=e.elements&&e.elements.btn:null})),this.vertical?this.style.removeClass("btn-group").addClass("btn-group-vertical"):this.style.removeClass("btn-group-vertical").addClass("btn-group"),this._watchButtons.value,this._watchActiveIndex.value},r([o["default"].observable_nonNull],e.prototype,"buttons",void 0),r([o["default"].observable],e.prototype,"vertical",void 0),r([o["default"].observable],e.prototype,"makeActivePrimary",void 0),r([o["default"].observable],e.prototype,"multiToggle",void 0),r([o["default"].observable],e.prototype,"activeIndex",void 0),e}(a["default"]);e.ButtonGroup=u,u.setGlobalCSS("ButtonGroup",void 0,{" button":{marginTop:"-.25rem",marginBottom:"-.25rem","float":"none"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(27),l=n(14),c=function(t){function e(e,n,i){void 0===e&&(e=100),void 0===n&&(n=100),void 0===i&&(i=1),t.call(this),this.shrinkwrap=!0,this.style_canvas=new s["default"],this.width=e+"px",this.height=n+"px",this.scale=i,this._canvasElement=document.createElement("canvas"),this._canvasElement.width=e*i,this._canvasElement.height=n*i,this._2dCtx=this._canvasElement.getContext("2d")}return i(e,t),Object.defineProperty(e.prototype,"drawingContext",{get:function(){return this._2dCtx},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._2dCtx.clearRect(0,0,this._canvasElement.width,this._canvasElement.height)},e.prototype.getImageDataURL=function(t){return this._canvasElement.toDataURL(t)},e.prototype.getImageBlob=function(t){var e=this;if(this._canvasElement.toBlob)return new o["default"].Promise(function(n){e._canvasElement.toBlob(n,t)});if(this._canvasElement.msToBlob)return o["default"].Promise.resolve(this._canvasElement.msToBlob());throw new Error("Canvas to blob not supported")},e.prototype.render=function(){t.prototype.render.call(this),this.style_canvas.applyToObserved(this._canvasElement);var e=this.out.element;"px"===String(this.width).slice(-2)&&(this._canvasElement.width=parseFloat(String(this.width))*this.scale),"px"===String(this.height).slice(-2)&&(this._canvasElement.height=parseFloat(String(this.height))*this.scale),e.style.height=this.height,this._canvasElement.style.width=this.width,this._canvasElement.style.height=this.height,l._replaceInner(this.out,[this._canvasElement])},r([o["default"].observable_string],e.prototype,"height",void 0),r([o["default"].observable_number],e.prototype,"scale",void 0),r([o["default"].observable_nonNull],e.prototype,"style_canvas",void 0),e}(a["default"]);e.Canvas=c,c.setGlobalCSS("Canvas",void 0,{" canvas":{display:"block"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=Image},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(6),a=n(27),l=n(10),c=n(14),u=function(t){function e(e){var n=this;t.call(this),this.height="auto",this.container=e||new s.Container;var i=void 0;o["default"].observe(function(){return n.container instanceof s.LayoutContainer?n.container.maxContentWidth:""}).subscribe(function(t){n.width===i&&(t&&"auto"!==t?(n.width=t,n.shrinkwrap=!0):(n.width="auto",n.shrinkwrap=!1))})}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.container=l._transformObservableInitializer(t,"container",s.Container,n)})},e.prototype.render=function(){t.prototype.render.call(this),this.container instanceof s.LayoutContainer&&(!this.height||"auto"===this.height)?this.style.set({height:"100%"}):this.style.set({height:this.height||"auto"}),c._replaceInner(this.out,[this.container&&this.container.out])},e.prototype.getChildren=function(){return this.container?[this.container]:[]},r([o["default"].observable],e.prototype,"container",void 0),r([o["default"].observable_string],e.prototype,"height",void 0),e}(a["default"]);e.ContainerControl=u,u.setGlobalCSS("ContainerControl",{lineHeight:"0"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(27),a=n(28),l=n(14),c=function(t){function e(e){t.call(this),this.shrinkwrap=!0,this.icon=e||""}return i(e,t),e.withIcon=function(t){return this["with"]({icon:t})},e.prototype.render=function(){t.prototype.render.call(this);var e=this.out.element;a["default"].renderInto(e,this.icon),this.tooltipTitle&&(e.title=this.tooltipTitle),this.focusable?e.tabIndex=0:e.removeAttribute("tabIndex")},e.prototype.focus=function(){var t=this;o["default"].defer(function(){return l._focusElementASAP(t.out.element)})},e.prototype.blur=function(){var t=this;o["default"].defer(function(){return t.out.element.blur()})},r([o["default"].observable_string],e.prototype,"icon",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"focusable",void 0),e}(s["default"]);e.Icon=c,c.setGlobalCSS("Icon",{cursor:"inherit",textAlign:"center",lineHeight:"1em"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(27),l=n(14),c=function(t){function e(e){var n=this;void 0===e&&(e=""),t.call(this),this.shrinkwrap=!0,this.style_img=new s["default"],this.hasError=!1,this.ready=new o["default"].Promise(function(t){n._resolveReady=t}),this.imageUrl=e}return i(e,t),e.withUrl=function(t){return this["with"]({imageUrl:t})},e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.out.element;this._imgElement||(this._imgElement=document.createElement("img"),this._imgElement.onload=function(){e.hasError=!1,e._resolveReady(!0)},this._imgElement.onerror=function(){e.hasError=!0,e._resolveReady(!0)}),this.style_img.applyToObserved(this._imgElement),this._imgElement.src=this.imageUrl,l._replaceInner(this.out,[this._imgElement]),this.focusable?n.tabIndex=0:n.removeAttribute("tabIndex"),this.tooltipTitle&&(n.title=this.tooltipTitle)},e.prototype.focus=function(){var t=this;o["default"].defer(function(){return l._focusElementASAP(t.out.element)})},e.prototype.blur=function(){var t=this;o["default"].defer(function(){return t.out.element.blur()})},r([o["default"].observable_string],e.prototype,"imageUrl",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"focusable",void 0),r([o["default"].observable_nonNull],e.prototype,"style_img",void 0),r([o["default"].observable],e.prototype,"hasError",void 0),e}(a["default"]);e.Image=c,c.setGlobalCSS("Image",void 0,{" img":{margin:"0",outline:"0",maxWidth:"100%"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(27),l=function(t){function e(e){void 0===e&&(e=0),t.call(this),this.style_bar=new s["default"],this.progress=e,this.style_bar.set({transition:"width .5s ease"})}return i(e,t),e.withProgress=function(t){return this["with"]({progress:t})},e.prototype.render=function(){t.prototype.render.call(this),this._barElement||(this._barElement=document.createElement("span"),this.out.element.appendChild(this._barElement)),this.style_bar.set({width:(Math.max(0,Math.min(100,100*this.progress))||0)+"%"}),this.style_bar.applyToObserved(this._barElement),this.tooltipTitle&&(this.out.element.title=this.tooltipTitle)},r([o["default"].observable_number],e.prototype,"progress",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable_nonNull],e.prototype,"style_bar",void 0),e}(a["default"]);e.ProgressBar=l,l.setGlobalCSS("ProgressBar",{background:"#f2f2f2",borderRadius:".25rem",height:"1rem",boxShadow:"inset 0 1px 3px rgba(0,0,0,.2)"},{" span":{"float":"left",height:"100%",borderTopLeftRadius:".25rem",borderBottomLeftRadius:".25rem",background:"rgba(0,0,0,.5)",margin:"0"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(27),a=function(t){function e(e){void 0===e&&(e="1px"),t.call(this),this.tagName="spacer",void 0!==e&&(this.height=e)}return i(e,t),e.prototype.render=function(){var e="1px"===this.height?"":this.height;this.style.set({height:e,lineHeight:e}),t.prototype.render.call(this),this.out.element.innerHTML="&#8203;"},r([o["default"].observable_string],e.prototype,"height",void 0),e}(s["default"]);e.Spacer=a,a.setGlobalCSS("Spacer",{height:"1px",lineHeight:"1px"}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(6),a=n(27),l=n(9),c=n(10),u=n(14),h=function(t){function e(n){t.call(this),this.content=[],this.spacing=s.Row.DEFAULT_SPACING,this.horizontalAlign=e.Alignment.Start,void 0!==n&&(this.content=n),this.tagName="stack"}return i(e,t),e["with"]=function(t){return a["default"]["with"].call(this,t).afterEach(function(e,n){e.content=c._transformFactoryArray("content",t.content,a["default"],n)})},e.withContent=function(t){return this["with"]({content:t})},e.prototype.initializeWithContent=function(t){return this.initializeWith({content:t})},e.prototype.render=function(){var n=this;t.prototype.render.call(this),this._wrappers||(this._wrappers=o["default"].unobserved(function(){return n.content.mapAsync(function(t){return o["default"].observe(function(){if(!(t instanceof l["default"]))return null;var i=document.createElement("div");return i.style.padding=n.spacing+" 0",i.style.margin="-"+n.spacing+" 0",n.horizontalAlign===e.Alignment.End?i.style.marginLeft="auto":n.horizontalAlign===e.Alignment.Center&&(i.style.marginLeft=i.style.marginRight="auto"),i.appendChild(t.out.element),i})})})),u._replaceInner(this.out,this._wrappers)},e.prototype.getChildren=function(){return this.content.filter(function(t){return t instanceof l["default"]})},r([o["default"].observable_nonNull],e.prototype,"content",void 0),r([o["default"].observable_string],e.prototype,"spacing",void 0),r([o["default"].observable],e.prototype,"horizontalAlign",void 0),e}(a["default"]);e.Stack=h;var h;!function(t){!function(t){t[t.Start=0]="Start",t[t.Center=1]="Center",t[t.End=2]="End"}(t.Alignment||(t.Alignment={}));t.Alignment}(h=e.Stack||(e.Stack={}));var f=function(t){function e(){t.apply(this,arguments),this.spacing="0"}return i(e,t),e}(h);e.CloseStack=f,h.setGlobalCSS("Stack",void 0,{" > div":{display:"table",tableLayout:"fixed",borderSpacing:"0",width:"100%"}}),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(27),l=function(t){function e(){t.apply(this,arguments),this.style_label=new s["default"],this.style_input=new s["default"],this.ValueChange=this.defineDOMEventSignal("change")}return i(e,t),r([o["default"].observable_string],e.prototype,"name",void 0),r([o["default"].observable_string],e.prototype,"label",void 0),r([o["default"].observable_string],e.prototype,"tooltipTitle",void 0),r([o["default"].observable],e.prototype,"disabled",void 0),r([o["default"].observable_nonNull],e.prototype,"style_label",void 0),r([o["default"].observable_nonNull],e.prototype,"style_input",void 0),e}(a["default"]);e.InputControl=l,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(2),a=n(48),l=n(14),c=function(t){function e(n,i,r,a){var l=this;void 0===n&&(n="checkbox"),void 0===r&&(r=e.Type.Checkbox),void 0===a&&(a=!1),t.call(this),this.value="checked",this.shrinkwrap=!0,this.style_text=new s["default"],this._observeChecked=o["default"].observe(function(){return l.checked}).map(function(t){l._inputElement.checked=t}),this.label=i,this.name=n,this.type=r,this.checked=a,this.style_label.addClass("form-check-label"),this.style_input.addClass("form-check-input"),this.Click.connect(function(){if(l.checked=l._inputElement.checked,l.name&&l.type){var t=document.querySelectorAll('input[type="radio"][name="'+l.name+'"]'),e=document.createEvent("Events");e.initEvent("change",!0,!1);for(var n=0,i=t;n<i.length;n++){var r=i[n];r.dispatchEvent(e)}}}),this.ValueChange.connect(function(){l.checked=l._inputElement.checked}),this.Blur.connect(function(){l.checked=l._inputElement.checked})}return i(e,t),e.withName=function(t,e,n,i){
return this["with"]({name:t,label:e,checked:n,value:i})},e.withRadioName=function(t,n,i,r){return this["with"]({name:t,label:n,checked:i,value:r,type:e.Type.Radio})},e.prototype.render=function(){t.prototype.render.call(this),this._inputElement||(this._labelElement=document.createElement("label"),this._inputElement=document.createElement("input"),this._textElement=document.createElement("span"),this._labelElement.appendChild(this._inputElement),this._labelElement.appendChild(document.createTextNode(" ")),this._labelElement.appendChild(this._textElement),this.out.element.appendChild(this._labelElement)),this.style_label.applyToObserved(this._labelElement),this.style_text.applyToObserved(this._textElement),this.style_input.applyToObserved(this._inputElement),this._inputElement.type=e.Type[this.type].toLowerCase(),this._inputElement.value=this.value,this._inputElement.disabled=this.disabled,this._inputElement.name=this.name,this._textElement.textContent=this.label,this.type?this.style.removeClass("checkbox").addClass("radio"):this.style.removeClass("radio").addClass("checkbox"),this.tooltipTitle&&(this._labelElement.title=this.tooltipTitle),this._observeChecked.value},e.prototype.getFormValues=function(t){return void 0===t&&(t={}),!this.name||!this.checked&&this.type||(t[this.name]=this.checked?void 0!==this.value?this.value:"checked":void 0),t},e.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.name&&t&&Object.prototype.hasOwnProperty.call(t,e.name)&&(e.checked=e.type&&void 0!==e.value?t[e.name]===e.value:!!t[e.name])})},e.prototype.focus=function(){this._inputElement&&l._focusElementASAP(this._inputElement)},e.prototype.blur=function(){this._inputElement&&this._inputElement.blur()},r([o["default"].observable],e.prototype,"type",void 0),r([o["default"].observable],e.prototype,"value",void 0),r([o["default"].observable],e.prototype,"checked",void 0),r([o["default"].observable_nonNull],e.prototype,"style_text",void 0),e}(a["default"]);e.Checkbox=c;var c;!function(t){!function(t){t[t.Checkbox=0]="Checkbox",t[t.Radio=1]="Radio"}(t.Type||(t.Type={}));t.Type}(c=e.Checkbox||(e.Checkbox={})),c.setGlobalCSS("Checkbox",void 0,{" label":{margin:"0",paddingTop:"0",paddingBottom:"0",display:"inline"}})},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(48),a=n(14),l=function(t){function e(e,n,i){var r=this;void 0===e&&(e="select"),t.call(this),this._observedValue="",this.label=n,this.options=i||[],this.name=e,this.style_label.addClass("form-control-label control-label").set({font:"inherit"}),this.style_input.addClass("form-control").set({boxSizing:"border-box",width:"100%"}),this.ValueChange.connect(function(){r._observedValue=r._selectElement.value}),this.Blur.connect(function(){r._observedValue=r._selectElement.value});var s=!1;Object.defineProperty(this,"value",{enumerable:!0,configurable:!1,get:function(){var t=r._observedValue||"";return!s&&r._selectElement?r._selectElement.value:t},set:function(t){r._observedValue=t,s=!0}}),o["default"].observe(function(){return r._observedValue}).subscribe(function(t){s=!1,r._selectElement?r._selectElement.value!=t&&(r._selectElement.value=t):r._initValueSet=t})}return i(e,t),e.withOptions=function(t,e,n){return void 0===n&&(n=[]),this["with"]({name:t,label:e,options:n})},e.prototype.render=function(){t.prototype.render.call(this),this._selectElement||(this._labelElement=document.createElement("label"),this._labelElement.htmlFor=this.elementID+"_select",this.out.element.appendChild(this._labelElement),this._selectElement=document.createElement("select"),this._selectElement.id=this.elementID+"_select",this.out.element.appendChild(this._selectElement)),this.style_input.applyToObserved(this._selectElement),this.style_label.applyToObserved(this._labelElement),a._replaceInner(this._selectElement,this.options.filter(function(t){return!!t}).map(function(t){var e=document.createElement("option"),n=e.textContent=String(t.text);return e.value=void 0!==t.value?t.value:n,e})),void 0!==this._initValueSet&&(this._selectElement.value=this._initValueSet,this._initValueSet=void 0),this._selectElement.disabled=this.disabled,this._selectElement.name=this.name;var e=this._labelElement.textContent=this.label;e?this.style_label.show():this.style_label.hide(),this.tooltipTitle&&(this._selectElement.title=this.tooltipTitle)},e.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.name&&(t[this.name]=this.value),t},e.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.name&&t&&Object.prototype.hasOwnProperty.call(t,e.name)&&(e.value=t[e.name])})},e.prototype.focus=function(){this._selectElement&&a._focusElementASAP(this._selectElement)},e.prototype.blur=function(){this._selectElement&&this._selectElement.blur()},r([o["default"].observable_nonNull],e.prototype,"options",void 0),r([o["default"].observable],e.prototype,"_observedValue",void 0),e}(s["default"]);e.SelectField=l,l.setGlobalCSS("SelectField"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(48),a=n(14),l=function(t){function e(n,i,r){var s=this;void 0===n&&(n="text"),void 0===r&&(r=0),t.call(this),this.type=e.Type.Text,this.KeyPress=this.defineDOMEventSignal("keypress"),this.KeyUp=this.defineDOMEventSignal("keyup"),this.EnterPress=o["default"].defineSignal(),this._observedValue="",this.label=i,this.name=n,this.textareaLines=r,this.style_label.addClass("form-control-label control-label").set({font:"inherit"}),this.style_input.addClass("form-control").set({boxSizing:"border-box",width:"100%"}),this.ValueChange.connect(function(){s._observedValue=s._inputElement.value}),this.Blur.connect(function(){s._observedValue=s._inputElement.value}),this.KeyDown.connect(function(t){13!=t.keyCode||s.textareaLines||(s._observedValue=s._inputElement.value,s.EnterPress(t))});var a=!1;Object.defineProperty(this,"value",{enumerable:!0,configurable:!1,get:function(){var t=s._observedValue||"";return!a&&s._inputElement?s._inputElement.value:t},set:function(t){s._observedValue=t,a=!0}}),o["default"].observe(function(){return s._observedValue}).subscribe(function(t){a=!1,void 0!==t&&null!==t||(t=""),s._inputElement?s._inputElement.value!=t&&(s._inputElement.value=t):s._initValueSet=t})}return i(e,t),e.withName=function(t,e,n){return this["with"]({name:t,label:e,placeholderText:n})},e.prototype.render=function(){t.prototype.render.call(this),this._inputElement||(this._labelElement=document.createElement("label"),this._labelElement.htmlFor=this.elementID+"_input",this.out.element.appendChild(this._labelElement),this._inputElement=document.createElement(this.textareaLines?"textarea":"input"),this._inputElement.id=this.elementID+"_input",this.out.element.appendChild(this._inputElement)),this.style_input.applyToObserved(this._inputElement),this.style_label.applyToObserved(this._labelElement),void 0!==this._initValueSet&&(this._inputElement.value=this._initValueSet,this._initValueSet=void 0),this._inputElement.disabled=this.disabled,this._inputElement.name=this.name,this._inputElement.placeholder=String(this.placeholderText||""),this.textareaLines?this._inputElement.rows=this.textareaLines:this._inputElement.setAttribute("type",e.Type[this.type].toLowerCase());var n=this._labelElement.textContent=this.label;n?this.style_label.show():this.style_label.hide(),this.tooltipTitle&&(this._inputElement.title=this.tooltipTitle)},e.prototype.selectText=function(t,e){var n=this;if(void 0===t&&(t=0),!this._inputElement)return void this.Rendered.connect(function(){return n.selectText(t,e)});if(e||0===e||(e=this._inputElement.value.length),this._inputElement.focus(),this._inputElement.createTextRange){var i=this._inputElement.createTextRange();i.collapse(!0),i.moveStart("character",t),i.moveEnd("character",e),i.select()}else this._inputElement.setSelectionRange?this._inputElement.setSelectionRange(t,e):this._inputElement.selectionStart&&(this._inputElement.selectionStart=t,this._inputElement.selectionEnd=e);return this},e.prototype.getFormValues=function(t){return void 0===t&&(t={}),this.name&&(t[this.name]=this.value),t},e.prototype.setFormValues=function(t){var e=this;o["default"].unobserved(function(){e.name&&t&&Object.prototype.hasOwnProperty.call(t,e.name)&&(e.value=t[e.name])})},e.prototype.focus=function(){this._inputElement&&a._focusElementASAP(this._inputElement)},e.prototype.blur=function(){this._inputElement&&this._inputElement.blur()},r([o["default"].observable],e.prototype,"type",void 0),r([o["default"].observable_string],e.prototype,"placeholderText",void 0),r([o["default"].observable],e.prototype,"_observedValue",void 0),e}(s["default"]);e.TextField=l;var l;!function(t){!function(t){t[t.Text=0]="Text",t[t.Password=1]="Password",t[t.DateTime=2]="DateTime",t[t.Date=3]="Date",t[t.Month=4]="Month",t[t.Time=5]="Time",t[t.Week=6]="Week",t[t.Number=7]="Number",t[t.Email=8]="Email",t[t.Url=9]="Url",t[t.Search=10]="Search",t[t.Tel=11]="Tel",t[t.Color=12]="Color"}(t.Type||(t.Type={}));t.Type}(l=e.TextField||(e.TextField={})),l.setGlobalCSS("TextField"),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(11),a=n(6),l=n(7),c=n(8),u=function(t){function e(e,n,i){void 0===i&&(i="Dismiss"),t.call(this),this.headerText=e,this.messageText=n,this.buttonLabel=i}return i(e,t),e.initializer=a.DialogContainer["with"]({header:c.bind("headerText",function(t){return t?[t instanceof s["default"]?t:s.tl(t,a.WideLabel),a.Spacer,a.DialogContainer.TopCloseButton]:void 0}),content:[a.Row["with"]({content:c.bind("messageText",function(t){return t.mapAsync?[a.Stack.withContent(t.mapAsync(function(t){return t instanceof s["default"]?t:s.tl(t,a.Paragraph)}))]:[t instanceof s["default"]?t:s.tl(t,a.Paragraph)]}),verticalSpacing:"1.5rem"}),[a.Spacer,a.PrimaryButton["with"]({label:c.bind("buttonLabel"),hasFocus:!0,Click:"close"})]]}),r([o["default"].observable],e.prototype,"headerText",void 0),r([o["default"].observable],e.prototype,"messageText",void 0),r([o["default"].observable],e.prototype,"buttonLabel",void 0),r([l.initializer],e,"initializer",void 0),e}(a.DialogContainer);e.MessageDialog=u,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=n(3),s=n(11),a=n(6),l=n(7),c=n(8),u=function(t){function e(e,n,i,r){var s=this;void 0===i&&(i="Confirm"),void 0===r&&(r="Cancel"),t.call(this),this.Confirmed=o["default"].defineSignal(),this.headerText=e,this.messageText=n,this.confirmButtonLabel=i,this.cancelButtonLabel=r,this.Confirmed.connect(function(){return s.close()})}return i(e,t),e.initializer=a.DialogContainer["with"]({header:c.bind("headerText",function(t){return t?[t instanceof s["default"]?t:s.tl(t,a.WideLabel),a.Spacer,a.DialogContainer.TopCloseButton]:void 0}),content:[a.Row["with"]({content:c.bind("messageText",function(t){return t.mapAsync?[a.Stack.withContent(t.mapAsync(function(t){return t instanceof s["default"]?t:s.tl(t,a.Paragraph)}))]:[t instanceof s["default"]?t:s.tl(t,a.Paragraph)]}),verticalSpacing:"1.5rem"}),[a.Spacer,a.LinkButton["with"]({label:c.bind("cancelButtonLabel"),hasFocus:!0,Click:"close"}),a.PrimaryButton["with"]({label:c.bind("confirmButtonLabel"),Click:"Confirmed"})]]}),r([o["default"].observable],e.prototype,"headerText",void 0),r([o["default"].observable],e.prototype,"messageText",void 0),r([o["default"].observable],e.prototype,"confirmButtonLabel",void 0),r([o["default"].observable],e.prototype,"cancelButtonLabel",void 0),r([l.initializer],e,"initializer",void 0),e}(a.DialogContainer);e.ConfirmationDialog=u,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(3),s=n(2),a=n(15),l=n(13),c=n(6),u=[],h=function(t){function e(n,i){void 0===i&&(i=4e3),t.call(this),this.timeout=i,this.initializeWith({content:n instanceof Array?n:n instanceof c.TextLabelFactory?[n]:[new c.TextLabelFactory(n,c.Paragraph)],Click:"close",animations:{appear:a["default"].basic["in"].fadeRight,disappear:a["default"].basic.out.fade}}),this.style.set(s["default"].DROPCARD_UP);var r,o="auto",l="auto",u="auto",h="auto",f=e.HORZ_OUTER_MARGIN_PX+"px",d=e.VERT_OUTER_MARGIN_PX+"px";switch(e.SCREEN_CORNER){case e.ScreenCorner.BottomLeft:r=a["default"].basic["in"].fadeRight,o=f,h=d;break;case e.ScreenCorner.BottomRight:r=a["default"].basic["in"].fadeLeft,l=f,h=d;break;case e.ScreenCorner.TopLeft:r=a["default"].basic["in"].fadeRight,o=f;break;default:r=a["default"].basic["in"].fadeLeft,l=f}this.style.set({top:u,bottom:h,left:o,right:l,width:"auto",transition:"bottom .1s ease, top .1s ease",background:"rgba(64,64,64,.8)",color:"#fff",maxWidth:"22rem",fontSize:s["default"].getTextSize()}),this.animations.appear=r,this.animations.disappear=a["default"].basic.out.fade}return r(e,t),e.closeAll=function(){for(var t=u.length-1;t>=0;t--)u[t].close()},e.prototype.display=function(){var t=this;if(!u.some(function(e){return e===t})){l["default"].display(this,{stayOnTop:!0});var n=u.slice(0);u.push(this);var r=i||o["default"].Promise.resolve(!0);return i=o["default"].sleep(30).then(function(){r.then(function(){if(l["default"].isDisplayed(t))if(e.SCREEN_CORNER>=e.ScreenCorner.TopLeft){var i=e.VERT_OUTER_MARGIN_PX;n.forEach(function(t){i+=t.out.element.offsetHeight+e.VERT_INNER_MARGIN_PX}),t.style.set({top:i+"px"})}else{var i=t.out.element.offsetHeight+e.VERT_INNER_MARGIN_PX;n.forEach(function(t){if(u.some(function(e){return e===t})){var e=parseInt(t.style.get("bottom"))||0;t.style.set("bottom",e+i+"px")}})}})}),o["default"].Promise.sleep(this.timeout).then(function(){t.close()}),this}},e.prototype.close=function(){var t=this;if(!l["default"].isDisplayed(this))return void(u=u.filter(function(e){return e!==t}));var n=[],i=u.indexOf(this),r=e.SCREEN_CORNER>=e.ScreenCorner.TopLeft?"top":"bottom";if(i>=0)if(u.splice(i,1),"top"===r)for(i;i<u.length;i++)n.push(u[i]);else for(i--;i>=0;i--)n.push(u[i]);if(n.length){var s=this.out.element.offsetHeight+e.VERT_INNER_MARGIN_PX;o["default"].sleep(200).then(function(){n.forEach(function(t){var e=parseInt(t.style.get(r))||0;t.style.set(r,e-s+"px")})})}l["default"].remove(this)},e.SCREEN_CORNER=0,e.HORZ_OUTER_MARGIN_PX=16,e.VERT_OUTER_MARGIN_PX=12,e.VERT_INNER_MARGIN_PX=8,e}(c.BottomOverlayRow);e.Notification=h;var h;!function(t){!function(t){t[t.BottomLeft=0]="BottomLeft",t[t.BottomRight=1]="BottomRight",t[t.TopLeft=2]="TopLeft",t[t.TopRight=3]="TopRight"}(t.ScreenCorner||(t.ScreenCorner={}));t.ScreenCorner}(h=e.Notification||(e.Notification={})),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=n(3),o=n(13),s=n(2),a=n(9),l=n(31),c=n(28),u=function(){function t(t){this.options=t?t.slice():[]}return t.displayAsContextMenu=function(e,n){return new t(n)._display({x:e.clientX,y:e.clientY})},t.displayAsDropdown=function(e,n){var i=e.getBoundingClientRect();return new t(n)._display({x:i.right,y:i.bottom},!0,i.bottom-i.top)},t.prototype.display=function(t,e){return this._display(t,e)},t.prototype._display=function(e,n,i,s,a){this.options||(this.options=[]);var l=document.body.clientWidth,u=document.createElement("ul");u.style.cssFloat="none",u.style.position="static",u.style.boxShadow="none",u.style.margin="0",u.className="dropdown-menu show";var f=document.createElement("div");f.className="dropdown open",f.appendChild(u);var d,p,v=new h(f),y=new r["default"].Promise(function(t,e){d=t,p=e});if(e.x+200<l&&(!n||e.x<200)?v.style.set({left:e.x+"px",right:"auto"}):v.style.set({right:l-e.x+(s||0)+"px",left:"auto"}),e.y+this.options.length*t.ITEM_HEIGHT_PX+10<o["default"].height)v.style.set({top:e.y+"px",bottom:"auto"});else{v.style.set({bottom:o["default"].height-e.y+(i||0)+"px",top:"auto"});var b=function(){v.out.element.offsetTop<0&&v.style.set({top:"0",bottom:"auto"})};window.setTimeout(b,10),window.setTimeout(b,50),window.setTimeout(b,100)}var _,m=200,g=-1,w=function(){g=-1;for(var t=v.out.element;t.nextSibling;)t.parentNode.removeChild(t.nextSibling)},O=this.options.some(function(t){return t&&!!t.icon});return this.options.forEach(function(e,n){if(e){var i=document.createElement("li");if(e.disabled&&(i.className="disabled"),e.divider)i.className="divider dropdown-divider";else{var r=document.createElement("a");if(r.className="dropdown-item",e.disabled?r.className+=" disabled":r.href="#",r.tabIndex=0,r.style.cursor="pointer",c["default"].renderInto(r,e.icon,O?1.5:0,String(e.label)),O&&(r.style.paddingLeft=".5rem"),e.iconRight){var s=document.createElement("span");s.style.cssFloat="right",c["default"].renderInto(s,e.iconRight),r.appendChild(s)}i.appendChild(r),e.disabled||e.subMenu?r.style.cursor="default":r.onclick=function(t){t.preventDefault(),a||o["default"].remove(v),d(e.key||n+1)},r.onmouseover=function(){_&&(window.clearTimeout(_),_=null),g!=n&&(_=window.setTimeout(function(){if(w(),_=null,e.subMenu){g=n;var r=i.getBoundingClientRect(),s=e.subMenu instanceof t?e.subMenu:new t(e.subMenu);s._display({x:r.right-5,y:r.top},!1,-t.ITEM_HEIGHT_PX,r.right-r.left-10,v.out.element.parentNode).then(function(t){if(a||o["default"].remove(v),"number"==typeof t&&t>0){for(var e=100;e<=t;)e*=100;t=(n+1)*e+t}d(t)})}},m))}}u.appendChild(i)}}),u.onmouseout=function(t){_&&window.clearTimeout(_),t.target===u&&g<0&&(_=window.setTimeout(function(){w(),_=null},m))},a?a.appendChild(v.out.element):o["default"].display(v,{modal:!0,margin:"0",escHandler:function(){o["default"].remove(v),p(new Error)}}),y},t.ITEM_HEIGHT_PX=28,t}();e.Menu=u;var h=function(t){function e(e){t.call(this,e),this.style.set({position:"absolute",fontSize:s["default"].getTextSize(),lineHeight:"normal"}).set(s["default"].DROPCARD_UP).addClass(a.CSS_CLASS_PREFIX+"Menu")}return i(e,t),e}(l["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=u},function(t,e,n){"use strict";var i=n(13),r=n(1),o=function(){function t(t,e){var n=this._arrow=document.createElement("div");n.className="arrow popover-arrow";var i;e&&(i=document.createElement("div"),i.className="popover-title",i.innerText=String(e));var o=new r.ContainerBlock(t);o.style.addClass("popover-content"),o.style.set({margin:"0",padding:"0"}),this._popover=new r.Block(n,i,o),this._popover.style.set({position:"relative"})}return t.prototype.displayBelow=function(t,e){var n=t&&t.getBoundingClientRect();n&&(this._popover.style.setClass("popover bottom popover-bottom show").set({transformOrigin:"top center"}),e&&(this._popover.animations.appear=e),this._display(n.left+n.right>>1,n.bottom))},t.prototype.displayAbove=function(t,e){var n=t&&t.getBoundingClientRect();n&&(this._popover.style.setClass("popover top popover-top show").set({transformOrigin:"bottom center"}),e&&(this._popover.animations.appear=e),this._display(n.left+n.right>>1,n.top-10,!0))},t.prototype._display=function(t,e,n){var o=this,s=new r.Block(this._popover),a=document.body.clientWidth,l=t>a>>1;s.style.set({position:"absolute",top:n?"auto":e+"px",bottom:n?i["default"].height-e+"px":"auto",left:l?"auto":t+"px",right:l?a-t+"px":"auto",overflow:"visible",transform:l?"translateX(50%)":"translateX(-50%)"}),i["default"].display(s,{modal:!0,margin:"0"});var c=function(){var e=o._popover.out.element.getBoundingClientRect();e&&(e.right>a?(s.style.set({right:"0",transform:""}),o._arrow.style.left="auto",o._arrow.style.right=a-t+"px",o._arrow.style.marginRight=window.getComputedStyle(o._arrow).marginLeft):e.left<0&&(s.style.set({left:"0",transform:""}),o._arrow.style.right="auto",o._arrow.style.left=t+"px"),e.bottom>i["default"].height?(o._arrow.setAttribute("hidden","hidden"),s.style.set({bottom:"0",top:"auto"})):e.top<0&&(o._arrow.setAttribute("hidden","hidden"),s.style.set({top:"0",bottom:"auto"})))};window.setTimeout(c,10),window.setTimeout(c,50),window.setTimeout(c,100),this._arrow.removeAttribute("hidden")},t}();e.PopOver=o,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o}])},function(t,e){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(1));var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e,n){"use strict";function i(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}i(n(2)),i(n(3)),i(n(4)),i(n(5)),i(n(7)),i(n(6)),i(n(8))},function(t,e,n){"use strict";function i(t){t||(s=!1),h=!0;for(var e=Math.max(100,c.length>>2),n=0;n<c.length&&n<e;n++)try{c[n].apply(void 0,u[n])}catch(r){l.UnhandledException(r)}h=!1,n<c.length?(c.splice(0,n),u.splice(0,n),s||(s=!0,a?window.postMessage("yield","*"):f=setTimeout(i,0))):(c.length=0,u.length=0,a||(f>=0&&clearTimeout(f),f=-1))}function r(t,e){c.push(t),u.push(e),s||(s=!0,a?window.postMessage("yield","*"):f=setTimeout(i,0))}function o(){return!h&&(i(!0),c.length>0)}var s,a,l=n(3),c=[],u=[],h=!1,f=-1;e.defer=r,e.yieldAll=o,"object"==typeof window&&(window.addEventListener("message",function(){a=!0,i()}),setTimeout(function(){return window.postMessage("yield","*")},1))},function(t,e,n){"use strict";function i(t,e,n){void 0===t&&(t=s);var i=function(e){this instanceof i?t.apply(this,arguments):i.emit.apply(i,arguments)};if(t===s)i.connect=s.connect,i.connectOnce=s.connectOnce,i.disconnectAll=s.disconnectAll,i.isConnected=s.isConnected,i.emit=s.emit,i.emitSync=s.emitSync,i.prototype=Object.create(s.prototype);else{for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.prototype=Object.create(t.prototype)}return i.prototype.constructor=i,i._nHandlers=0,i._onUp=e,i._onDown=n,i}var r=n(2),o=n(4),s=function(){function t(t){this._emitted=!1,this._data=t}return t.connect=function(e){var n={disconnected:!1};return n.disconnect=t._connect.call(this,e,n),n},t.connectOnce=function(e){var n=!1,i=t._connect.call(this,function(t){n||(n=!0,i(),e(t))})},t._connect=function(t,e){var n=this;switch(this._nHandlers++){case 0:this._handler1=t,this._onUp&&this._onUp();break;case 1:this._handler2=t;break;default:(this._handlers||(this._handlers=[])).push(t)}return function(){switch(n._nHandlers){case 0:return;case 1:n._handler1===t&&(n._handler1=void 0,n._nHandlers--);break;case 2:n._handler1===t?(n._handler1=n._handler2,n._handler2=void 0,n._nHandlers--):n._handler2===t&&(n._handler2=void 0,n._nHandlers--);break;default:if(n._handler1===t)n._handler1=n._handler2,n._handler2=n._handlers.shift(),n._nHandlers--;else if(n._handler2===t)n._handler2=n._handlers.shift(),n._nHandlers--;else for(var i=0;i<n._nHandlers;i++)if(n._handlers[i]===t){n._handlers.splice(i,1),n._nHandlers--;break}}!n._nHandlers&&n._onDown&&n._onDown(),e&&(e.disconnected=!0)}},t.disconnectAll=function(){return this._nHandlers&&(this._handler1=void 0,this._handler2=void 0,delete this._handlers,this._nHandlers=0,this._onDown&&this._onDown()),this},t.isConnected=function(){return this._nHandlers>0},t.emitSync=function(t){if(this._nHandlers){this._handler1&&this._handler1.call(void 0,t),this._handler2&&this._handler2.call(void 0,t);var e=this._handlers;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&e[n].call(void 0,t)}},t.emit=function(t){if(this._nHandlers){this._handler1&&r.defer(this._handler1,arguments),this._handler2&&r.defer(this._handler2,arguments);var e=this._handlers;if(e)for(var n=0,i=e.length;n<i;n++)e[n]&&r.defer(e[n],arguments)}},t.prototype.emit=function(t){if(this._emitted)return this;this._emitted=!0;var e=this.constructor._nHandlers;if(!e)return this;var n=this.constructor._handler1,i=this.constructor._handler2,s=this.constructor._handlers,a=[this._data];if(t)r.defer(n,a),e>1&&r.defer(i,a),e>2&&s.forEach(function(t){return t&&r.defer(t,a)});else{var l=this._results=[n?o.Promise.defer(n,a):o.Promise.resolve(void 0)];e>1&&l.push(i?o.Promise.defer(i,a):o.Promise.resolve(void 0)),e>2&&s.forEach(function(t){return l.push(t?o.Promise.defer(t,a):o.Promise.resolve(void 0))})}return this._onEmit&&this._onEmit(!0),this},t.prototype.then=function(t,e){var n=this;return this._promise||(this._emitted?this._promise=o.Promise.all(this.results):this._promise=new o.Promise(function(t){n._onEmit=t}).then(function(){return o.Promise.all(n.results)})),this._promise.then(t,e)},t.prototype["catch"]=function(t){return this.then(void 0,t)},Object.defineProperty(t.prototype,"results",{get:function(){return this._results||[]},enumerable:!0,configurable:!0}),t._nHandlers=0,t}();e.Signal=s,e.defineSignal=i,e.UnhandledException=i(),e.UnhandledException.connect(function(t){try{t&&t.message&&console&&(console.warn||console.log)("Unhandled exception in asynchronous code - ",t)}catch(e){}})},function(t,e,n){"use strict";function i(t,e){return s.delay(function(){return e},t)}var r=n(2),o=n(3),s=function(){function t(t){this._Resolve=o.defineSignal(),this._Reject=o.defineSignal(),"function"==typeof t&&this._resolveWith(t)}return t.delay=function(e,n,i){var o=new t;return setTimeout(function(){o._resolveWith(function(t){return t(e.apply(void 0,i))}),r.yieldAll()},n),o},t.sleep=function(e,n){return t.delay(function(){return n},e)},t.defer=function(e,n){var i=new t;return r.defer(function(){i._resolveWith(function(t){return t(e.apply(void 0,n))})}),i},t.fn=function(e){return new t(function(t,n){e(function(e,i){e?n(e):t(i)})})},t.resolve=function(e){return(new t)._resolve(e)},t.reject=function(e){return(new t)._reject(e)},t.all=function(e){function n(){!i._isRejected&&i._resolve(r)}var i=new t,r=[],o=e.length;return e.forEach(function(t,e){t.then(function(t){r[e]=t,--o||n()},function(t){i._reject(t)})}),!o&&n(),i},t.race=function(e){var n=new t;return e.forEach(function(t){t.then(function(t){return n._resolve(t)},function(t){return n._reject(t)})}),n},t.prototype.then=function(e,n){var i=this,o=new t;return this._isResolved?"function"==typeof e?r.defer(function(){o._resolveWith(function(t){return t(e(i._value))})}):o._resolve(this._value):this._isRejected?("function"==typeof n?r.defer(function(){o._resolveWith(function(t){return t(n(i._error))})}):o._reject(this._error),this._hndRejection=!0):("function"==typeof e?this._Resolve.connect(function(t){return o._resolveWith(function(n){return n(e(t))})}):this._Resolve.connect(function(t){return o._resolve(t)}),"function"==typeof n?this._Reject.connect(function(t){return o._resolveWith(function(e){return e(n(t))})}):this._Reject.connect(function(t){return o._reject(t)})),o},t.prototype["catch"]=function(t){return this.then(void 0,t)},t.prototype._getStatus=function(){return this._isResolved?{value:this._value}:this._isRejected?{rejected:!0,error:this._error}:null},t.prototype._resolve=function(t,e){var n=this;if(!(this._isResolved||this._isRejected||this._resolving&&e!==this._resolving)){if(t===this)throw new TypeError("Recursive promise found");try{var i=t&&t.then;"function"!=typeof i||"object"!=typeof t&&"function"!=typeof t?(this._isResolved=!0,this._resolving=null,this._value=t,this._Resolve.emit(t)):(e=this._resolving={},i.call(t,function(t){n._resolve(t,e)},function(t){n._reject(t,e)}))}catch(r){this._reject(r,e)}}return this},t.prototype._resolveWith=function(t){var e=this;try{t(function(t){e._resolve(t)},function(t){e._reject(t)})}catch(n){this._reject(n)}return this},t.prototype._reject=function(t,e){var n=this;return this._isResolved||this._isRejected||this._resolving&&e!==this._resolving||(this._isRejected=!0,this._error=t,this._Reject.isConnected()?this._Reject.emit(t):r.defer(function(){n._hndRejection||o.UnhandledException.emit(t)})),this},t}();e.Promise=s,e.sleep=i},function(t,e,n){"use strict";function i(){if(h||f)throw new Error("Observable getter must be a pure function, cannot create or set other observables")}function r(t){return"function"==typeof t?new d(t):t&&"object"==typeof t&&"function"==typeof t.then?d.fromPromise(t):t instanceof Array?u.ObservableArray.fromArray(t):t instanceof Object?new c.ObservableObject(t):function(){throw new TypeError}()}function o(t){var e=h,n=f;try{return h=null,f=null,t.apply(void 0,Array.prototype.slice.call(arguments,1))}finally{h=e,f=n}}var s=n(2),a=n(4),l=n(3),c=n(6),u=n(7),h=null,f=null;e.assertUnobserved=i;var d=function(){function t(e,n){this._uid=String(++t.UID),this._dirtyIdx=0,i(),e&&(this._getter=e,this._dirtyIdx++),this._setter=n}return t.fromValue=function(e){var n=new t;return n.value=e,n},t.fromPromise=function(e){var n=new t;if(e instanceof a.Promise){var i=e._getStatus();if(i)return i.rejected?(n.value="error",n._error=i.error,n._ro=!0,n):(n.value=i.value,n._ro=!0,n)}return e.then(function(t){n.value=t,n._ro=!0},function(t){n.value="error",n._error=t,n._ro=!0}),n},t.prototype.getter=function(t){return i(),this._getter=t,Object.prototype.hasOwnProperty.call(this,"_val")&&(t&&delete this._val,this._asyncEval()),this},t.prototype.setter=function(t){return i(),this._setter=t,this},Object.defineProperty(t.prototype,"value",{get:function(){if(this._error)throw this._error;if(this._getting||this._setting||this._ro)return this._val;if(h?h._addConnection(this):f&&f._addCheck(this),this._needsEval()){this._oldConnections=this._depConnections;var e=this.hasOwnProperty("_val"),n=this._val,i=h,r=f;this._watched?(h=this,this._depConnections={}):(f=this,this._depChecks=[]),this._getting=!0,this._direct=!1;try{var o=this._getter.call(void 0);void 0===o&&this._direct||(this._val=o)}finally{this._getting=!1,h=i,f=r}this._valIdx=this._dirtyIdx;var s=this._oldConnections;if(delete this._oldConnections,this._depConnections)for(var a in s)this._depConnections[a]||s[a].disconnect();
e&&this._val!==n&&(this._auxSignalers&&this._auxSignalers.forEach(function(t){return t()}),this._Signal&&this._Signal.emitSync(this._val))}for(var l=this._val;l instanceof t;)l=l.value;return l},set:function(e){if(this._getting||this._setting||i(),this._setter&&!this._setting||(e instanceof Array&&e.constructor===Array&&(e=u.ObservableArray.fromArray(e)),e instanceof Object&&e.constructor===Object&&(e=new c.ObservableObject(e))),this._getting)this._val=e,this._direct=!0,this._valIdx=++this._dirtyIdx;else{if(this._getter&&!this._setter||this._ro)throw new Error("Cannot set value");if((!this._setter||this._setting)&&this._val instanceof t&&this._val._setter)this._val.value=e;else if(this._setter&&!this._setting){this._setting=!0;try{this._setter.call(void 0,e)}finally{this._setting=!1}}else e!==this._val&&(this._val=e,this._auxSignalers&&this._auxSignalers.forEach(function(t){return t()}),this._Signal&&this._Signal.emitSync(e),this._valIdx=++this._dirtyIdx)}},enumerable:!0,configurable:!0}),t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return String(this.value)},t.prototype.getLastValue=function(){for(var e=this._val;e instanceof t;)e=e.getLastValue();return e},t.prototype.map=function(e){var n=this,i={},r=new t(function(){var t=n.value;return t===i?r.value:o(e,i=t)});return r},t.prototype.subscribe=function(e){var n=this;(this._Signal||this._sig()).connect(e);var i,r=this._val,a=!1;return(this._getter||this._val instanceof t)&&(this._auxSignalers||(this._auxSignalers=[]),this._auxSignalers.push(i=function(){a=!0}),o(function(){r=n.value}),1===this._auxSignalers.length?delete this._auxSignalers:this._auxSignalers=this._auxSignalers.filter(function(t){return t!==i})),a||e&&s.defer(e,[r]),this},t.prototype.next=function(){var e=this,n=new a.Promise(function(t){(e._Signal||e._sig()).connectOnce(function(e){t(e)})});return(this._getter||this._val instanceof t)&&o(function(){e.value}),n},Object.defineProperty(t.prototype,"subscribed",{get:function(){return this._watched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){return!this._getter||!!this._setter},enumerable:!0,configurable:!0}),t.prototype.emitOnChange=function(t,e){this._auxSignalers||(this._auxSignalers=[]),this._auxSignalers.push(function(){t(e)})},t.prototype.clear=function(){this.getter(null).setter(null)},t.prototype._needsEval=function(){return!!this._getter&&((this._valIdx||0)!==this._dirtyIdx||!this._watched&&(!this._depChecks||this._depChecks.some(function(t){return t({})})))},t.prototype._asyncEval=function(){var t=this;(this._valIdx||0)!==this._dirtyIdx||this._getting||(this._dirtyIdx++,s.defer(function(){t._watched&&t._valIdx!==t._dirtyIdx&&t.value}))},t.prototype._addConnection=function(t){if(t!==this){var e=this._oldConnections&&this._oldConnections[t._uid]?this._oldConnections[t._uid]:(t._Signal||t._sig()).connect(this._asyncEval.bind(this));(this._depConnections||(this._depConnections={}))[t._uid]=e,e._observable_dep=t}},t.prototype._addCheck=function(t){var e=this;if(t!==this){var n=t._dirtyIdx;(this._depChecks||(this._depChecks=[])).push(function(i){return!!i[e._uid]||(i[e._uid]=!0,t._dirtyIdx!==n||!t._depChecks||t._depChecks.some(function(t){return t(i)}))})}},t.prototype._removeDependencies=function(){delete this._depChecks;var t=this._depConnections;delete this._depConnections;for(var e in t)t[e].disconnect()},t.prototype._sig=function(){var t=this;return this._Signal=l.defineSignal(void 0,function(){t._watched=!0,!t._depChecks||t._depChecks.length?(t._removeDependencies(),t._dirtyIdx++):t._removeDependencies()},function(){t._watched=!1,t._removeDependencies()})},t.UID=0,t}();e.ObservableValue=d,e.observe=r,e.unobserved=o},function(t,e,n){"use strict";function i(t){t.PropertyChange||Object.defineProperty(t,"PropertyChange",{configurable:!1,writable:!1,enumerable:!1,value:d.defineSignal()})}function r(t,e){var n=Object.getPrototypeOf(t);return n?Object.getOwnPropertyDescriptor(n,String(e))||r(n,e):null}function o(t,e,n,i,r,o,a){var l=s(e);Object.prototype.hasOwnProperty.call(t,l)?v.deleteObservableProperty(t,e):Object.defineProperty(t,l,{configurable:!0,enumerable:!1,value:!1});var c=function(){if(this[l])return this[l];var t;return n instanceof p.ObservableValue?t=n:p.unobserved(function(){t=p.ObservableValue.fromValue(void 0===n?void 0:a?a(n):n),i&&t.getter(i),r&&t.setter(r)}),Object.defineProperty(this,l,{value:t,writable:!1,enumerable:!1,configurable:!0}),"function"==typeof this.PropertyChange&&t.emitOnChange(this.PropertyChange,e),t}.bind(t),u=o?function(){return o(c().value)}:function(){return c().value},h=a?function(t){c().value=a(t)}:function(t){c().value=t};Object.defineProperty(t,e,{get:u,set:h,enumerable:!0,configurable:!0})}function s(t){return"*observable:"+t}function a(t,e,n){n||(n={enumerable:!0});var i=n.get,r=n.set,s=i||t[e];return n.set=function(t){i||r?(o(this,e,void 0,i&&i.bind(this),r&&r.bind(this),n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[e]=t):o(this,e,t,void 0,void 0,n.get["*observable-getfilter"],n.get["*observable-setfilter"])},n.get=function(){return o(this,e,i?void 0:s,i&&i.bind(this),r&&r.bind(this),n.get["*observable-getfilter"],n.get["*observable-setfilter"]),this[e]},n.get["*observable-getter"]=!0,n}function l(t,e,n){return n=a(t,e,n),n.get["*observable-getfilter"]=function(t){return t||0===t||t===!1?String(t):""},n}function c(t,e,n){return n=a(t,e,n),n.get["*observable-getfilter"]=function(t){return Number(t)},n}function u(t,e,n){return n=a(t,e,n),n.get["*observable-getfilter"]=function(t){if(void 0===t||null===t)throw new TypeError(e+" is "+t);return t},n.get["*observable-setfilter"]=function(t){if(void 0===t||null===t)throw new TypeError(e+" cannot be "+t);return t},n}function h(t,e,n){return n=a(t,e,n),n.get["*observable-getfilter"]=function(t){if(void 0===t||null===t)throw new TypeError(e+" is "+t);return t},n.get["*observable-setfilter"]=function(t){if(!(t instanceof Object))throw new Error(t+" is not an instance of Object");return Object.isSealed(t)?t:Object.seal(t)},n}function f(t,e,n){return n=a(t,e,n),n.get["*observable-getfilter"]=function(t){if(void 0===t||null===t)throw new TypeError(e+" is "+t);return t},n.get["*observable-setfilter"]=function(t){if(!(t instanceof Object))throw new Error(t+" is not an instance of Object");return Object.isFrozen(t)?t:Object.freeze(t)},n}var d=n(3),p=n(5),v=function(){function t(e){if(p.assertUnobserved(),e instanceof Object){if(t.makeObservable(this,e),i(this),Object.isFrozen(e)){for(var n in e)this[n];Object.freeze(this)}else if(Object.isSealed(e)){for(var n in e)this[n];Object.seal(this)}}else i(this)}return t.fromObject=function(e){return new t(e)},t.mixin=function(e){return t.makeObservable(e,e)},t.prototype.hasObservableProperty=function(e){return t.isObservableProperty(this,e)},t}();e.ObservableObject=v;var v;!function(t){function e(e,n){if("string"==typeof n||"number"==typeof n){var r=String(n);o(e,r,e[r])}else{var s=n instanceof t;for(var a in n)(s?n.hasObservableProperty(a):Object.prototype.hasOwnProperty.call(n,a))&&o(e,a,n[a]);Object.defineProperty(e,"hasObservableProperty",{configurable:!1,writable:!1,enumerable:!1,value:t.prototype.hasObservableProperty}),i(e)}return e}function n(t,e){var n=s(e),i=t[n];i&&i.subscribed&&i.writable&&(i.value=void 0),delete t[e],delete t[n]}function a(t,e){var n=s(e);if(Object.prototype.hasOwnProperty.call(t,n))return!0;var i=r(t,e);return!!(i&&i.get&&i.get["*observable-getter"])}t.makeObservable=e,t.deleteObservableProperty=n,t.isObservableProperty=a}(v=e.ObservableObject||(e.ObservableObject={})),e.observable=a,e.observable_string=l,e.observable_number=c,e.observable_nonNull=u,e.observable_seal=h,e.observable_freeze=f},function(t,e,n){"use strict";function i(t){return s.fromObservableValue(new r.ObservableValue(t))}var r=n(5),o=n(6),s=function(){function t(){var t=this;r.assertUnobserved();var e=r.ObservableValue.fromValue(0);Object.defineProperty(this,"length",{get:function(){return e.value},set:function(n){for(var i=e.getLastValue()||0;i<n;)o.ObservableObject.makeObservable(t,i++);for(var r=n;r<i;r++)o.ObservableObject.deleteObservableProperty(t,r);e.value=n},configurable:!0})}return t.fromArray=function(e){for(var n=new t,i=e.length-1;i>=0;i--)n[i]=e[i];return n.length=e.length,n},t.fromObservableValue=function(e){var n=new t,i=0,s=function(t){return new r.ObservableValue(function(){var n=e.value;return n instanceof Array?n[t]:0===t&&null!==n?n:void 0})};return Object.defineProperty(n,"length",{get:function(){var t=e.value,a=t instanceof Array?t.length:void 0===t||null===t?0:1;return a>i?r.unobserved(function(){for(var t={},e=i;e<a;e++)t[e]=s(e);o.ObservableObject.makeObservable(n,t)}):r.unobserved(function(){for(var t=a;t<i;t++)o.ObservableObject.deleteObservableProperty(n,t)}),i=a},set:function(){throw new Error("Cannot modify length of mapped array")}}),r.unobserved(function(){return n.length}),n},t.prototype.mapAsync=function(e,n){var i=this,s=new t,a=new r.ObservableValue(function(){return i.length}),l=0,c=function(t){var o={},a=new r.ObservableValue(function(){var l=i[t];return l===o?a.value:r.unobserved(function(r){return t>=0&&t<i.length?e.call(n||s,r,t,i):void 0},o=l)});return a};return Object.defineProperty(s,"length",{get:function(){var t=a.value;return t>l?r.unobserved(function(){for(var e={},n=l;n<t;n++)e[n]=c(n);o.ObservableObject.makeObservable(s,e)}):t<l&&r.unobserved(function(){for(var e=t;e<l;e++)o.ObservableObject.deleteObservableProperty(s,e)}),l=t},set:function(){throw new Error("Cannot modify length of mapped array")}}),r.unobserved(function(){return s.length}),s},t.prototype.mapAsyncValues=function(t){var e,n,i,o,s=this;if("function"==typeof Map){var a=new Map;e=a.get.bind(a),n=a.set.bind(a),o=a.forEach.bind(a),i=a["delete"].bind(a)}else{var l=[];n=function(t,e){l.push({v:t,o:e})},e=function(t){var e;return l.some(function(n){return n.v===t&&(e=n.o,!0)}),e},i=function(t){l.some(function(e,n){return e.v===t&&!!l.splice(n,1)})},o=function(t){l.slice(0).forEach(function(e){return t(e.o,e.v)})}}var c=[],u=-1,h=function(){u>=0&&clearTimeout(u);var t=u=setTimeout(function(){if(t===u){u=-1;var e=s.length;c.length>e&&(c.length=e),o(function(t,e){c.indexOf(e)<0&&i(e)})}},1)};new r.ObservableValue(function(){return s.length}).subscribe(function(t){c.length>t&&h()});var f={},d={};return this.mapAsync(function(i,r){var o=void 0===i?d:"number"==typeof i&&isNaN(i)?f:i;void 0!==c[r]&&c[r]!==o&&h(),c[r]=o;var s=e(o);if(void 0!==s)return s;var a=t(i);return n(o,a),a})},t.prototype.toJSON=function(){return this.slice(0)},t}();e.ObservableArray=s;var a=s.prototype.mapAsync,l=s.prototype.mapAsyncValues,c=s.prototype.toJSON;s.prototype=new Array,s.prototype.constructor=s,s.prototype.mapAsync=a,s.prototype.mapAsyncValues=l,s.prototype.toJSON=c;var u=s.prototype.push;s.prototype.push=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return r.unobserved(function(){return u.apply(t,e)})};var h=s.prototype.unshift;s.prototype.unshift=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return r.unobserved(function(){return h.apply(t,e)})},s.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Array.prototype.concat.apply(this.slice(0),t.map(function(t){return t instanceof s?t.slice(0):t}))},e.observeArray=i},function(t,e,n){"use strict";function i(t,e,n,i){return new o.Promise(function(r,o){try{var s=new XMLHttpRequest;if(s.open(t,e,!0),i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.setRequestHeader(a,i[a]);void 0!==n?(s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(n))):s.send(),s.onreadystatechange=function(){try{4==s.readyState&&(s.status>=200&&s.status<400?r(s.responseText):o(new Error("HTTP "+s.status+(s.responseText?": "+s.responseText:""))))}catch(t){o(t)}}}catch(l){o(l)}})}function r(t,e){return void 0===t&&(t={}),void 0===e&&(e="application/json"),t.Accept||(t.Accept=e),t}var o=n(4),s=function(){function t(){}return t.getText=function(t,e,n){if(e){var r=t.indexOf("?")<0;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t+=(r?"?":"&")+encodeURIComponent(o)+"="+encodeURIComponent(e[o]),r=!1)}return i("GET",t,void 0,n)},t.get=function(e,n,i){return t.getText(e,n,r(i)).then(function(t){return JSON.parse(t)})},t.post=function(t,e,n){return i("POST",t,e,r(n)).then(function(t){return JSON.parse(t)})},t.put=function(t,e,n){return i("PUT",t,e,r(n)).then(function(t){return JSON.parse(t)})},t["delete"]=function(t,e,n){return i("DELETE",t,e,r(n)).then(function(t){return JSON.parse(t)})},t.getHtmlContent=function(e,n,i){return t.getText(e,n,r(i,"text/html")).then(function(t){t=String(t||"");var e=t.match(/<body(?:>|\s[^>]+>)/m);if(e){t=t.slice(e.index+e[0].length);var n=t.lastIndexOf("</body>");n>=0&&(t=t.slice(0,n))}var i=document.createElement("div");i.innerHTML=t;for(var r=document.createDocumentFragment();i.firstChild;)r.appendChild(i.firstChild);return r})},t}();e.Http=s}])}]);